import{d as n,j as e,e as W,x as B,at as S,m as h,Z as L,ag as y,au as C,w as X,O as _,b as ee,A as V,av as te,aw as se,S as ae}from"./ui-Bym_0wSS.js";import{u as re,C as ne}from"./index-D681O2Ot.js";import"./vendor-CCYniLZC.js";import"./crypto-1JBTrmrY.js";const j="https://kairos-api-u6k5.onrender.com",ie=[25,50,100,250,500,1e3],le=[25,50,100,250,500],u=10,w=25e3;function me(){const{activeAddress:a,activeChainId:q,goBack:H,showToast:i}=re(),A=ne[q],[x,F]=n.useState("buy"),[o,R]=n.useState(""),[$,I]=n.useState(!1),[d,v]=n.useState(""),[c,O]=n.useState("standard"),[m,N]=n.useState(null),[E,U]=n.useState(!1),[D,K]=n.useState(!1),[r,p]=n.useState(null),[M,Q]=n.useState([]),[b,J]=n.useState(!1),g=n.useCallback(async()=>{if(a){N("loading");try{const t=await fetch(`${j}/api/redeem/account-status?wallet=${a}`),s=await t.json();if(!t.ok){N({onboarded:!1});return}N(s)}catch{N({onboarded:!1})}}},[a]);n.useEffect(()=>{x==="sell"&&a&&g()},[x,a,g]);const z=n.useCallback(async()=>{if(!a){i("Conecta tu wallet primero","error");return}U(!0);try{const t=await fetch(`${j}/api/redeem/onboard`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:a,returnUrl:`${window.location.origin}/#/buy?onboard=complete`,refreshUrl:`${window.location.origin}/#/buy?onboard=refresh`})}),s=await t.json();if(!t.ok)throw new Error(s.error||"Error al crear cuenta");s.onboardingUrl?(window.open(s.onboardingUrl,"_blank","noopener,noreferrer"),i("Completa tu verificaci√≥n en Stripe","info")):s.alreadyActive&&(i("Tu cuenta ya est√° activa","success"),g())}catch(t){i(t.message,"error")}finally{U(!1)}},[a,i,g]),Y=n.useCallback(async()=>{const t=parseFloat(o);if(!t||t<10){i("M√≠nimo $10 USD","error");return}if(t>5e4){i("M√°ximo $50,000 USD","error");return}if(!a){i("Conecta tu wallet primero","error");return}I(!0);try{const s=await fetch(`${j}/api/stripe/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:a,amount:t,currency:"usd"})}),l=await s.json();if(!s.ok)throw new Error(l.error||l.message||"Error al crear checkout");if(l.checkoutUrl)window.open(l.checkoutUrl,"_blank","noopener,noreferrer"),i("Redirigiendo a Stripe...","info");else throw new Error("No se recibi√≥ URL de checkout")}catch(s){i(s.message,"error")}finally{I(!1)}},[o,a,i]),Z=n.useCallback(async()=>{const t=parseFloat(d);if(!t||t<u){i(`M√≠nimo $${u} USD`,"error");return}if(t>w){i(`M√°ximo $${w.toLocaleString()} USD`,"error");return}if(!a){i("Conecta tu wallet primero","error");return}K(!0),p(null);try{const s=await fetch(`${j}/api/redeem/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:a,amount:t,payoutMethod:c})}),l=await s.json();if(!s.ok)throw new Error(l.error||"Error al redimir");p({success:!0,id:l.redemptionId,status:l.status,arrival:l.arrival,method:l.payoutMethod,net:l.net,fee:l.fee}),v(""),i("KAIROS quemados. Pago en camino.","success")}catch(s){p({success:!1,error:s.message}),i(s.message,"error")}finally{K(!1)}},[d,c,a,i]),T=n.useCallback(async()=>{if(a)try{const t=await fetch(`${j}/api/redeem/history?wallet=${a}`),s=await t.json();t.ok&&s.redemptions&&Q(s.redemptions)}catch{}},[a]);n.useEffect(()=>{b&&a&&T()},[b,a,T]);const f=parseFloat(d)||0,P=c==="instant"?Math.max(f*.01,.5):0,G=Math.max(f-P,0),k=m&&m!=="loading"&&m.payoutsEnabled;return e.jsxs("div",{className:"screen-container",children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 py-4",children:[e.jsx("button",{onClick:H,className:"p-2 -ml-2 rounded-xl hover:bg-white/5",children:e.jsx(W,{size:20,className:"text-dark-300"})}),e.jsx("h1",{className:"font-bold text-white",children:x==="buy"?"Comprar KAIROS":"Vender KAIROS"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:[e.jsxs("div",{className:"flex gap-1 p-1 rounded-xl bg-white/5 mb-4",children:[e.jsxs("button",{onClick:()=>{F("buy"),p(null)},className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1.5 ${x==="buy"?"bg-green-500/15 text-green-400":"text-dark-400"}`,children:[e.jsx(B,{size:14})," Comprar"]}),e.jsxs("button",{onClick:()=>{F("sell"),p(null)},className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1.5 ${x==="sell"?"bg-orange-500/15 text-orange-400":"text-dark-400"}`,children:[e.jsx(S,{size:14})," Vender"]})]}),x==="buy"&&e.jsxs(e.Fragment,{children:[e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-[#635BFF]/15 to-[#7A73FF]/5 rounded-2xl p-5 mb-5 border-2 border-[#635BFF]/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#635BFF]/20 flex items-center justify-center",children:e.jsx(L,{size:20,className:"text-[#635BFF]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-bold text-white",children:"Pagar con Tarjeta"}),e.jsx("span",{className:"text-[8px] px-2 py-0.5 rounded-full bg-green-500/20 text-green-400 font-bold",children:"ACTIVO"})]}),e.jsx("p",{className:"text-[10px] text-dark-400",children:"Visa, Mastercard, Amex ‚Ä¢ Apple Pay ‚Ä¢ Google Pay"})]})]}),e.jsx("p",{className:"text-[11px] text-dark-400 mb-4 leading-relaxed",children:"Paga con tarjeta de cr√©dito/d√©bito. KAIROS se acu√±a autom√°ticamente 1:1 con USD y se env√≠a directo a tu wallet."}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:ie.map(t=>e.jsxs("button",{onClick:()=>R(String(t)),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${o===String(t)?"bg-[#635BFF]/30 text-[#A5A0FF] border border-[#635BFF]/40":"bg-white/[0.04] text-dark-400 border border-white/5 hover:border-[#635BFF]/20"}`,children:["$",t]},t))}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-500 font-medium",children:"$"}),e.jsx("input",{type:"number",value:o,onChange:t=>R(t.target.value),placeholder:"Monto en USD",min:"10",max:"50000",className:"w-full bg-white/[0.06] border border-white/10 rounded-xl pl-7 pr-4 py-3 text-white text-sm placeholder:text-dark-500 focus:outline-none focus:border-[#635BFF]/50 transition-colors"}),o&&e.jsxs("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-dark-400",children:["= ",parseFloat(o||0).toLocaleString()," KAIROS"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"}),e.jsx("span",{className:"text-[10px] text-dark-400 truncate",children:a?`Recibir en: ${a.slice(0,8)}...${a.slice(-6)}`:"Conecta tu wallet"})]}),e.jsx("button",{onClick:Y,disabled:$||!o||parseFloat(o)<10,className:"w-full py-3.5 rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed bg-gradient-to-r from-[#635BFF] to-[#7A73FF] text-white hover:shadow-lg hover:shadow-[#635BFF]/20",children:$?e.jsxs(e.Fragment,{children:[e.jsx(y,{size:16,className:"animate-spin"})," Creando sesi√≥n de pago..."]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{size:16})," Comprar ",o?`$${parseFloat(o).toLocaleString()} en `:"","KAIROS"]})}),e.jsx("p",{className:"text-[9px] text-dark-500 text-center mt-2",children:"üîí Pago seguro con Stripe ‚Ä¢ 1 KAIROS = 1 USD ‚Ä¢ M√≠n $10 ‚Äî M√°x $50,000"})]}),e.jsxs("div",{className:"rounded-2xl bg-white/[0.02] border border-white/5 p-4 mb-5",children:[e.jsx("p",{className:"text-xs font-semibold text-white mb-3",children:"¬øC√≥mo funciona?"}),e.jsx("div",{className:"space-y-3",children:[{step:"1",text:"Ingresa el monto en USD que deseas comprar"},{step:"2",text:"Paga de forma segura con Stripe (tarjeta, Apple Pay, etc.)"},{step:"3",text:"KAIROS se acu√±a autom√°ticamente y se env√≠a a tu wallet"}].map(({step:t,text:s})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-[#635BFF]/15 flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-[10px] font-bold text-[#A5A0FF]",children:t})}),e.jsx("p",{className:"text-[11px] text-dark-400",children:s})]},t))})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-3 py-2.5 rounded-xl bg-kairos-500/5 border border-kairos-500/10",children:[e.jsx("span",{className:"text-sm",children:"üí°"}),e.jsxs("p",{className:"text-[10px] text-dark-400",children:[e.jsx("strong",{className:"text-kairos-400",children:"Tip:"})," Despu√©s de comprar KAIROS, ve a ",e.jsx("strong",{className:"text-white",children:"Swap"})," para intercambiarlos por BTC, ETH, BNB u otros tokens."]})]})]}),x==="sell"&&e.jsxs(e.Fragment,{children:[e.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-orange-500/10 to-orange-600/5 rounded-2xl p-4 mb-5 border border-orange-500/10",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{size:20,className:"text-orange-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:"Redimir KAIROS por USD"}),e.jsx("p",{className:"text-[11px] text-dark-400 leading-relaxed",children:"Quema tus KAIROS y recibe USD directamente en tu cuenta bancaria o tarjeta de d√©bito. 1 KAIROS = 1 USD."})]})]})}),m==="loading"&&e.jsxs("div",{className:"flex items-center justify-center gap-2 py-8",children:[e.jsx(y,{size:16,className:"animate-spin text-dark-400"}),e.jsx("span",{className:"text-xs text-dark-400",children:"Verificando cuenta..."})]}),m&&m!=="loading"&&!m.payoutsEnabled&&e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/[0.03] rounded-2xl p-5 mb-5 border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center",children:e.jsx(C,{size:20,className:"text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Configura tu cuenta de pago"}),e.jsx("p",{className:"text-[10px] text-dark-400",children:"Solo toma ~2 minutos"})]})]}),e.jsx("div",{className:"space-y-2 mb-4",children:["Vincula tu cuenta bancaria o tarjeta de d√©bito","Verifica tu identidad (requerido por regulaciones)","Listo ‚Äî recibe pagos directos en USD"].map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-orange-500/10 flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-[9px] font-bold text-orange-400",children:s+1})}),e.jsx("p",{className:"text-[11px] text-dark-400",children:t})]},s))}),e.jsx("button",{onClick:z,disabled:E,className:"w-full py-3 rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2 disabled:opacity-40 bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:shadow-lg hover:shadow-orange-500/20",children:E?e.jsxs(e.Fragment,{children:[e.jsx(y,{size:16,className:"animate-spin"})," Creando cuenta..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{size:16})," Configurar cuenta de pago"]})}),m.onboarded&&!m.payoutsEnabled&&e.jsxs("div",{className:"flex items-center gap-2 mt-3 px-3 py-2 rounded-lg bg-yellow-500/10 border border-yellow-500/10",children:[e.jsx(_,{size:12,className:"text-yellow-400 shrink-0"}),e.jsxs("p",{className:"text-[10px] text-yellow-400",children:["Tu cuenta existe pero a√∫n no est√° verificada."," ",e.jsx("button",{onClick:z,className:"underline font-semibold",children:"Completar verificaci√≥n"})]})]}),e.jsx("div",{className:"flex items-center justify-center mt-3",children:e.jsxs("button",{onClick:g,className:"text-[10px] text-dark-500 flex items-center gap-1 hover:text-dark-300",children:[e.jsx(ee,{size:10})," Verificar estado"]})})]}),k&&!r&&e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-orange-500/10 to-orange-600/5 rounded-2xl p-5 mb-5 border-2 border-orange-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/15 flex items-center justify-center",children:e.jsx(S,{size:20,className:"text-orange-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-bold text-white",children:"Redimir KAIROS"}),e.jsx("span",{className:"text-[8px] px-2 py-0.5 rounded-full bg-green-500/20 text-green-400 font-bold",children:"VERIFICADO"})]}),e.jsx("p",{className:"text-[10px] text-dark-400",children:"Cuenta conectada ‚Ä¢ Recibe USD en tu banco"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:le.map(t=>e.jsxs("button",{onClick:()=>v(String(t)),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${d===String(t)?"bg-orange-500/30 text-orange-300 border border-orange-500/40":"bg-white/[0.04] text-dark-400 border border-white/5 hover:border-orange-500/20"}`,children:["$",t]},t))}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-500 font-medium",children:"$"}),e.jsx("input",{type:"number",value:d,onChange:t=>v(t.target.value),placeholder:"Cantidad de KAIROS a redimir",min:u,max:w,className:"w-full bg-white/[0.06] border border-white/10 rounded-xl pl-7 pr-4 py-3 text-white text-sm placeholder:text-dark-500 focus:outline-none focus:border-orange-500/50 transition-colors"}),d&&e.jsxs("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-dark-400",children:[parseFloat(d||0).toLocaleString()," KAIROS"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-[10px] text-dark-400 mb-2 font-medium",children:"M√©todo de pago:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>O("standard"),className:`flex-1 py-2.5 px-3 rounded-xl text-left border transition-all ${c==="standard"?"border-orange-500/30 bg-orange-500/10":"border-white/5 bg-white/[0.02]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx(C,{size:12,className:c==="standard"?"text-orange-400":"text-dark-500"}),e.jsx("span",{className:`text-xs font-semibold ${c==="standard"?"text-white":"text-dark-400"}`,children:"Est√°ndar"})]}),e.jsx("p",{className:"text-[9px] text-dark-500",children:"1-2 d√≠as h√°biles ‚Ä¢ Sin comisi√≥n"})]}),e.jsxs("button",{onClick:()=>O("instant"),className:`flex-1 py-2.5 px-3 rounded-xl text-left border transition-all ${c==="instant"?"border-orange-500/30 bg-orange-500/10":"border-white/5 bg-white/[0.02]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx(L,{size:12,className:c==="instant"?"text-orange-400":"text-dark-500"}),e.jsx("span",{className:`text-xs font-semibold ${c==="instant"?"text-white":"text-dark-400"}`,children:"Instant√°neo"})]}),e.jsx("p",{className:"text-[9px] text-dark-500",children:"~30 seg a tarjeta ‚Ä¢ 1% + $0.50"})]})]})]}),f>=u&&e.jsxs("div",{className:"bg-white/[0.03] rounded-xl p-3 mb-4 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-[10px] text-dark-400",children:"KAIROS a quemar"}),e.jsxs("span",{className:"text-[10px] text-white font-medium",children:[f.toLocaleString()," KAIROS"]})]}),c==="instant"&&e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-[10px] text-dark-400",children:"Comisi√≥n instant√°nea"}),e.jsxs("span",{className:"text-[10px] text-orange-400",children:["-$",P.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-white/5",children:[e.jsx("span",{className:"text-[10px] text-dark-400 font-semibold",children:"Recibes"}),e.jsxs("span",{className:"text-sm text-green-400 font-bold",children:["$",G.toFixed(2)," USD"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"}),e.jsx("span",{className:"text-[10px] text-dark-400 truncate",children:a?`Quemando desde: ${a.slice(0,8)}...${a.slice(-6)}`:"Conecta tu wallet"})]}),e.jsx("button",{onClick:Z,disabled:D||!d||f<u,className:"w-full py-3.5 rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:shadow-lg hover:shadow-orange-500/20",children:D?e.jsxs(e.Fragment,{children:[e.jsx(y,{size:16,className:"animate-spin"})," Procesando redenci√≥n..."]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{size:16})," Redimir ",d?`${parseFloat(d).toLocaleString()} KAIROS`:"KAIROS"]})}),e.jsxs("p",{className:"text-[9px] text-dark-500 text-center mt-2",children:["üî• KAIROS se queman permanentemente ‚Ä¢ 1 KAIROS = 1 USD ‚Ä¢ M√≠n $",u," ‚Äî M√°x $",w.toLocaleString()]})]}),e.jsx(V,{children:r&&e.jsxs(h.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`rounded-2xl p-5 mb-5 border-2 ${r.success?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.success?e.jsx(te,{size:24,className:"text-green-400"}):e.jsx(se,{size:24,className:"text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-bold ${r.success?"text-green-400":"text-red-400"}`,children:r.success?"¬°Redenci√≥n exitosa!":"Error en la redenci√≥n"}),e.jsx("p",{className:"text-[10px] text-dark-400",children:r.success?`ID: ${r.id?.slice(0,12)}...`:r.error})]})]}),r.success&&e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] text-dark-400",children:"Estado"}),e.jsx("span",{className:"text-[10px] text-green-400 font-medium",children:r.status})]}),r.net&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] text-dark-400",children:"Recibes"}),e.jsxs("span",{className:"text-[10px] text-white font-medium",children:["$",r.net," USD"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] text-dark-400",children:"M√©todo"}),e.jsx("span",{className:"text-[10px] text-white font-medium",children:r.method==="instant"?"‚ö° Instant√°neo":"üè¶ Est√°ndar"})]}),r.arrival&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] text-dark-400",children:"Llegada estimada"}),e.jsx("span",{className:"text-[10px] text-white font-medium",children:new Date(r.arrival*1e3).toLocaleDateString()})]})]}),e.jsx("button",{onClick:()=>p(null),className:"w-full py-2.5 rounded-xl text-sm font-medium bg-white/[0.05] text-white hover:bg-white/[0.08] transition-colors",children:r.success?"Redimir m√°s":"Intentar de nuevo"})]})}),k&&!r&&e.jsxs("div",{className:"rounded-2xl bg-white/[0.02] border border-white/5 p-4 mb-5",children:[e.jsx("p",{className:"text-xs font-semibold text-white mb-3",children:"¬øC√≥mo funciona la redenci√≥n?"}),e.jsx("div",{className:"space-y-3",children:[{step:"1",text:"Ingresa la cantidad de KAIROS que deseas redimir"},{step:"2",text:"Elige pago est√°ndar (gratis) o instant√°neo (1% + $0.50)"},{step:"3",text:"Tus KAIROS se queman y USD se env√≠a a tu cuenta bancaria"}].map(({step:t,text:s})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/15 flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-[10px] font-bold text-orange-400",children:t})}),e.jsx("p",{className:"text-[11px] text-dark-400",children:s})]},t))})]}),k&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>J(!b),className:"text-[11px] text-dark-400 hover:text-white transition-colors flex items-center gap-1",children:[e.jsx(_,{size:12})," ",b?"Ocultar":"Ver"," historial de redenciones"]}),e.jsx(V,{children:b&&e.jsx(h.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 space-y-2 overflow-hidden",children:M.length===0?e.jsx("p",{className:"text-[10px] text-dark-500 text-center py-3",children:"No tienes redenciones a√∫n"}):M.map(t=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl bg-white/[0.02] border border-white/5",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-[11px] text-white font-medium",children:["$",t.amount," USD"]}),e.jsxs("p",{className:"text-[9px] text-dark-500",children:[new Date(t.created_at).toLocaleDateString()," ‚Ä¢ ",t.payout_method==="instant"?"‚ö°":"üè¶"]})]}),e.jsx("span",{className:`text-[9px] px-2 py-0.5 rounded-full font-semibold ${t.status==="COMPLETED"||t.status==="PAYOUT_SENT"?"bg-green-500/15 text-green-400":t.status==="PAYOUT_FAILED"||t.status==="BURN_FAILED"?"bg-red-500/15 text-red-400":"bg-yellow-500/15 text-yellow-400"}`,children:t.status})]},t.id))})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 px-3 py-2 rounded-xl bg-green-500/5 border border-green-500/10",children:[e.jsx(ae,{size:12,className:"text-green-400 shrink-0"}),e.jsx("p",{className:"text-[10px] text-dark-400",children:x==="buy"?"Pago procesado por Stripe. Kairos Wallet nunca accede a tu informaci√≥n bancaria ni datos de tarjeta.":"Pagos procesados por Stripe Connect. Tu informaci√≥n bancaria se maneja de forma segura por Stripe."})]}),e.jsxs("p",{className:"text-[10px] text-dark-500",children:[x==="buy"?"Recibiendo":"Redimiendo desde"," ",A?.icon," ",A?.name]})]})]})}export{me as default};
