import{d as o,j as e,e as T,a1 as v,m as p,P as w,C as u,T as C}from"./ui-BteoE537.js";import{u as E,D as L,K as A,T as h,S as f,y as I,B as K}from"./index-1fU2ylg1.js";import"./vendor-cxSnwWPt.js";import"./crypto-1JBTrmrY.js";function q(){const{activeChainId:r,goBack:j,showToast:c}=E(),[n,i]=o.useState(""),[a,l]=o.useState(null),[N,d]=o.useState(!1),x=()=>{try{const s=localStorage.getItem(f.TOKENS);return s?JSON.parse(s):{}}catch{return{}}},[m,g]=o.useState(()=>x()[r]||[]),k=L[r]||[],y=async()=>{const s=n.trim();if(s&&I(s)){d(!0);try{const t=await K(r,s);l(t)}catch{c("Token no encontrado en esta red","error"),l(null)}d(!1)}},b=()=>{if(a){const s=[...m,a];g(s);const t=x();t[r]=s,localStorage.setItem(f.TOKENS,JSON.stringify(t)),c(`${a.symbol} agregado`,"success"),l(null),i("")}},S=k.filter(s=>!n||s.symbol.toLowerCase().includes(n.toLowerCase())||s.name.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"screen-container px-6 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:j,className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center",children:e.jsx(T,{size:20})}),e.jsx("h2",{className:"text-lg font-bold",children:"Gestionar Tokens"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(v,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-400 pointer-events-none"}),e.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),onKeyDown:s=>s.key==="Enter"&&y(),placeholder:"Buscar por nombre o pegar dirección del contrato",className:"glass-input pl-9 text-sm",style:{color:"#ffffff",WebkitTextFillColor:"#ffffff"}})]}),a&&e.jsx(p.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"glass-card-strong p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:a.symbol}),e.jsx("p",{className:"text-dark-400 text-xs",children:a.name}),e.jsxs("p",{className:"text-dark-500 text-[10px] font-mono mt-1",children:["Decimals: ",a.decimals," · Supply: ",parseFloat(a.totalSupply).toLocaleString()]})]}),e.jsxs("button",{onClick:b,className:"kairos-button py-2 px-4 text-sm",children:[e.jsx(w,{size:14,className:"mr-1 inline"})," Agregar"]})]})}),N&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx(p.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-2 border-kairos-400 border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"text-dark-400 text-xs mt-2",children:"Buscando token..."})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",children:[e.jsx("p",{className:"text-xs text-dark-400 mb-2",children:"Tokens populares en esta red"}),S.map(s=>{const t=s.address.toLowerCase()===A.address.toLowerCase();return e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-all",children:[e.jsx(h,{token:s,chainId:r,size:36}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:s.symbol}),t&&e.jsx("span",{className:"ml-1 text-[8px] bg-kairos-500/20 text-kairos-400 px-1.5 py-0.5 rounded font-bold",children:"STABLE"}),e.jsx("p",{className:"text-dark-400 text-xs",children:s.name})]}),e.jsx(u,{size:16,className:"text-green-400"})]},s.address)}),m.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-kairos-500/5",children:[e.jsx(h,{token:s,chainId:r,size:36}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:s.symbol}),e.jsx("span",{className:"ml-1 text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded font-bold",children:"CUSTOM"}),e.jsx("p",{className:"text-dark-400 text-xs",children:s.name})]}),e.jsx(u,{size:16,className:"text-kairos-400"})]},s.address))]}),e.jsxs("div",{className:"glass-card p-3 mt-4 flex items-start gap-2",children:[e.jsx(C,{size:14,className:"text-kairos-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-[10px] text-dark-400",children:"Cualquier persona puede crear un token con cualquier nombre. Siempre verifica la dirección del contrato antes de interactuar con un token desconocido."})]})]})}export{q as default};
