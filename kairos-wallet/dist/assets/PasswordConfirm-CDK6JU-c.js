import{d as a,j as e,A as v,m as j,S as g,X as C,E as P,f as E}from"./ui-Bym_0wSS.js";import{b as S,p as A}from"./index-Cv82Q9rX.js";function T({isOpen:c,onConfirm:y,onCancel:o,title:N,subtitle:x,details:m,confirmLabel:k,loading:l=!1}){const{t:s}=S(),[t,f]=a.useState(""),[h,r]=a.useState(""),[d,u]=a.useState(!1),[i,p]=a.useState(!1),w=a.useRef(null);a.useEffect(()=>{c&&(f(""),r(""),u(!1),setTimeout(()=>w.current?.focus(),100))},[c]);const b=async()=>{if(!t){r(s("error.enterPassword","Ingresa tu contraseña"));return}p(!0),r("");try{await A(t),y(t)}catch{r(s("error.wrongPassword","Contraseña incorrecta"))}finally{p(!1)}};return c?e.jsx(v,{children:e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4",onClick:o,children:e.jsxs(j.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:n=>n.stopPropagation(),className:"w-full max-w-sm bg-dark-900 rounded-2xl border border-white/5 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-kairos-400"}),e.jsx("h3",{className:"text-white font-bold",children:N||s("confirm.title","Confirmar Acción")})]}),e.jsx("button",{onClick:o,className:"p-1 rounded-lg hover:bg-white/5",children:e.jsx(C,{className:"w-4 h-4 text-dark-400"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[x&&e.jsx("p",{className:"text-dark-300 text-sm text-center",children:x}),m&&e.jsx("div",{className:"bg-dark-800 rounded-xl p-3 text-sm",children:m}),e.jsxs("div",{children:[e.jsx("label",{className:"text-dark-400 text-xs mb-1 block",children:s("confirm.password","Contraseña de tu wallet")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:w,type:d?"text":"password",value:t,onChange:n=>{f(n.target.value),r("")},onKeyDown:n=>n.key==="Enter"&&!i&&!l&&b(),placeholder:"••••••••",className:"input-dark w-full pr-10",autoComplete:"current-password"}),e.jsx("button",{onClick:()=>u(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 hover:text-dark-300",children:d?e.jsx(P,{className:"w-4 h-4"}):e.jsx(E,{className:"w-4 h-4"})})]}),h&&e.jsx("p",{className:"text-red-400 text-xs mt-1",children:h})]})]}),e.jsxs("div",{className:"flex gap-3 p-4 border-t border-white/5",children:[e.jsx("button",{onClick:o,className:"flex-1 btn-secondary py-2.5",disabled:i||l,children:s("action.cancel","Cancelar")}),e.jsx("button",{onClick:b,disabled:!t||i||l,className:"flex-1 btn-primary py-2.5 disabled:opacity-50",children:i||l?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i?"Verificando...":"Procesando..."]}):k||s("action.confirm","Confirmar")})]})]})})}):null}export{T as P};
