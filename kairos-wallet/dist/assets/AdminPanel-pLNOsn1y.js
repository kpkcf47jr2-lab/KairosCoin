import{d as n,j as e,e as Ne,S as ke,f as lt,P as pe,aJ as me,t as Fe,aK as be,aL as he,aM as fe,L as ge,v as Te,b as ot,ag as F,m as xe,aa as ct,at as dt,aN as ye,A as xt,T as ut,aO as pt,w as mt,X as bt,C as ht}from"./ui-BteoE537.js";import{u as ft,p as gt}from"./index-rYYAUsyQ.js";import{Contract as je,formatUnits as v,Interface as jt,isAddress as N,parseUnits as B,JsonRpcProvider as wt,Wallet as vt,ZeroAddress as Z,getBytes as Ce,hexlify as Nt}from"./crypto-1JBTrmrY.js";import"./vendor-cxSnwWPt.js";const Y="0xC84f261c7e7Cffdf3e9972faD88cE59400d5E5A8",ee="0x14D41707269c7D8b8DFa5095b38824a46dA05da3",kt=["https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-rpc.publicnode.com"],Se=["function execTransaction(address to, uint256 value, bytes data, uint8 operation, uint256 safeTxGas, uint256 baseGas, uint256 gasPrice, address gasToken, address refundReceiver, bytes signatures) payable returns (bool)","function nonce() view returns (uint256)","function getTransactionHash(address to, uint256 value, bytes data, uint8 operation, uint256 safeTxGas, uint256 baseGas, uint256 gasPrice, address gasToken, address refundReceiver, uint256 _nonce) view returns (bytes32)","function isOwner(address) view returns (bool)"],Re=["function mint(address to, uint256 amount)","function burn(address from, uint256 amount)","function pause()","function unpause()","function blacklist(address account)","function unBlacklist(address account)","function setFeeBps(uint256 newFeeBps)","function setReserveWallet(address newReserveWallet)","function setFeeExempt(address account, bool exempt)","function setMintCap(uint256 newCap)","function setBurnCap(uint256 newCap)","function transferOwnership(address newOwner)","function transfer(address to, uint256 amount) returns (bool)","function batchTransfer(address[] recipients, uint256[] amounts)","function totalSupply() view returns (uint256)","function totalMinted() view returns (uint256)","function totalBurned() view returns (uint256)","function totalFeesCollected() view returns (uint256)","function owner() view returns (address)","function paused() view returns (bool)","function feeBps() view returns (uint256)","function mintCap() view returns (uint256)","function burnCap() view returns (uint256)","function reserveWallet() view returns (address)","function balanceOf(address) view returns (uint256)","function isBlacklisted(address) view returns (bool)","function feeExempt(address) view returns (bool)","function name() view returns (string)","function symbol() view returns (string)"];function we(){return new wt(kt[0])}function Be(){return new je(ee,Re,we())}const Ae=[{id:"overview",icon:lt,label:"Resumen",color:"text-blue-400",bg:"bg-blue-500/10"},{id:"mint",icon:pe,label:"Mint",color:"text-green-400",bg:"bg-green-500/10"},{id:"burn",icon:me,label:"Burn",color:"text-red-400",bg:"bg-red-500/10"},{id:"transfer",icon:Fe,label:"Enviar",color:"text-kairos-400",bg:"bg-kairos-500/10"},{id:"pause",icon:be,label:"Pausar",color:"text-yellow-400",bg:"bg-yellow-500/10"},{id:"blacklist",icon:he,label:"Blacklist",color:"text-orange-400",bg:"bg-orange-500/10"},{id:"fees",icon:fe,label:"Comisiones",color:"text-purple-400",bg:"bg-purple-500/10"},{id:"caps",icon:ge,label:"Límites",color:"text-cyan-400",bg:"bg-cyan-500/10"},{id:"settings",icon:Te,label:"Config",color:"text-pink-400",bg:"bg-pink-500/10"}];function At(){const{navigate:x,activeAddress:a,showToast:u,getActiveAccount:L}=ft(),[W,D]=n.useState(!0),[s,te]=n.useState(null),[o,U]=n.useState(null),[l,_]=n.useState(!1),[g,E]=n.useState(null),[d,i]=n.useState(""),[r,j]=n.useState(""),[De,Ee]=n.useState(!1),[se,Oe]=n.useState(""),[O,Ie]=n.useState(""),[ae,$e]=n.useState(""),[I,Me]=n.useState(""),[ne,ze]=n.useState(""),[$,Ke]=n.useState(""),[k,Pe]=n.useState(""),[M,Le]=n.useState(""),[w,re]=n.useState(null),[y,We]=n.useState(""),[q,Ue]=n.useState(""),[z,ve]=n.useState(!0),[V,_e]=n.useState(""),[G,qe]=n.useState(""),[H,Ve]=n.useState(""),J=n.useCallback(async()=>{D(!0);try{const t=Be(),h=we(),C=new je(Y,Se,h),[S,b,Q,K,ie,le,oe,X,ce,de,P,it]=await Promise.all([t.totalSupply(),t.totalMinted(),t.totalBurned(),t.totalFeesCollected(),t.owner(),t.paused(),t.feeBps(),t.mintCap(),t.burnCap(),t.reserveWallet(),t.balanceOf(Y),a?C.isOwner(a):Promise.resolve(!1)]);te({totalSupply:v(S,18),totalMinted:v(b,18),totalBurned:v(Q,18),totalFees:v(K,18),owner:ie,paused:le,feeBps:Number(oe),mintCap:v(X,18),burnCap:v(ce,18),reserveWallet:de,safeBalance:v(P,18)}),Ee(it)}catch(t){console.error("Load token info error:",t),u("Error cargando info del token","error")}D(!1)},[a,u]);n.useEffect(()=>{J()},[J]);const p=async(t,h)=>{if(i(""),E(null),!r){i("Ingresa tu contraseña");return}let C;try{C=await gt(r)}catch{i("Contraseña incorrecta");return}const S=C.accounts?.find(b=>b.address.toLowerCase()===a.toLowerCase())||C.importedAccounts?.find(b=>b.address.toLowerCase()===a.toLowerCase());if(!S?.privateKey){i("No se encontró la clave privada");return}_(!0);try{const b=we(),Q=new vt(S.privateKey,b),K=new je(Y,Se,Q),ie=await K.nonce(),le=await K.getTransactionHash(ee,0,t,0,0,0,0,Z,Z,ie),oe=await Q.signMessage(Ce(le)),X=Ce(oe);X[64]+=4;const ce=Nt(X),de=await K.execTransaction(ee,0,t,0,0,0,0,Z,Z,ce,{gasLimit:500000n,gasPrice:B("3","gwei")});u(`${h}: TX enviada...`,"success");const P=await de.wait(1);E({hash:P.hash,block:P.blockNumber,gas:P.gasUsed.toString()}),u(`${h} exitoso ✓`,"success"),j(""),setTimeout(()=>J(),2e3)}catch(b){console.error(`${h} error:`,b),i(b.reason||b.shortMessage||b.message||"Error desconocido")}_(!1)},m=new jt(Re),Ge=()=>{if(!N(se)){i("Dirección inválida");return}if(!O||isNaN(O)||Number(O)<=0){i("Cantidad inválida");return}const t=m.encodeFunctionData("mint",[se,B(O,18)]);p(t,"Mint")},He=()=>{if(!N(ae)){i("Dirección inválida");return}if(!I||isNaN(I)||Number(I)<=0){i("Cantidad inválida");return}const t=m.encodeFunctionData("burn",[ae,B(I,18)]);p(t,"Burn")},Je=()=>{if(!N(ne)){i("Dirección inválida");return}if(!$||isNaN($)||Number($)<=0){i("Cantidad inválida");return}const t=m.encodeFunctionData("transfer",[ne,B($,18)]);p(t,"Transfer")},Qe=()=>{const t=m.encodeFunctionData("pause",[]);p(t,"Pause")},Xe=()=>{const t=m.encodeFunctionData("unpause",[]);p(t,"Unpause")},Ze=()=>{if(!N(k)){i("Dirección inválida");return}const t=m.encodeFunctionData("blacklist",[k]);p(t,"Blacklist")},Ye=()=>{if(!N(k)){i("Dirección inválida");return}const t=m.encodeFunctionData("unBlacklist",[k]);p(t,"Unblacklist")},et=()=>{if(!y||isNaN(y)||Number(y)<0||Number(y)>100){i("Fee inválido (0-100 bps)");return}const t=m.encodeFunctionData("setFeeBps",[Number(y)]);p(t,"Set Fee")},tt=()=>{if(!N(q)){i("Dirección inválida");return}const t=m.encodeFunctionData("setFeeExempt",[q,z]);p(t,z?"Fee Exempt":"Remove Fee Exempt")},st=()=>{const t=V===""||V==="0"?"0":V,h=m.encodeFunctionData("setMintCap",[B(t,18)]);p(h,"Set Mint Cap")},at=()=>{const t=G===""||G==="0"?"0":G,h=m.encodeFunctionData("setBurnCap",[B(t,18)]);p(h,"Set Burn Cap")},nt=()=>{if(!N(H)){i("Dirección inválida");return}const t=m.encodeFunctionData("setReserveWallet",[H]);p(t,"Set Reserve Wallet")},rt=async()=>{if(!N(M)){re({error:"Dirección inválida"});return}try{const t=Be(),[h,C,S]=await Promise.all([t.balanceOf(M),t.isBlacklisted(M),t.feeExempt(M)]);re({balance:v(h,18),blacklisted:C,feeExempt:S})}catch(t){re({error:t.message})}};return e.jsxs("div",{className:"h-full flex flex-col bg-dark-950",children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 pt-6 pb-4",children:[e.jsx("button",{onClick:()=>o?U(null):x("safe"),className:"p-2 rounded-xl bg-white/5 hover:bg-white/10 transition",children:e.jsx(Ne,{size:18,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx(ke,{size:20,className:"text-kairos-400"}),o?Ae.find(t=>t.id===o)?.label:"Admin Panel"]}),e.jsx("p",{className:"text-xs text-dark-400",children:o?"KairosCoin · BSC":"Administración del Token"})]}),e.jsx("button",{onClick:J,className:`p-2 rounded-xl bg-white/5 hover:bg-white/10 transition ${W?"animate-spin":""}`,children:e.jsx(ot,{size:16,className:"text-dark-300"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-8 space-y-4",children:W&&!s?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(F,{size:32,className:"text-kairos-400 animate-spin mb-4"}),e.jsx("p",{className:"text-dark-400 text-sm",children:"Cargando datos del token..."})]}):De?o?e.jsx(xt,{mode:"wait",children:e.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[o==="overview"&&s&&e.jsxs(e.Fragment,{children:[e.jsx(f,{label:"Total Supply",value:`${c(s.totalSupply)} KAIROS`}),e.jsx(f,{label:"Total Minted",value:`${c(s.totalMinted)} KAIROS`}),e.jsx(f,{label:"Total Burned",value:`${c(s.totalBurned)} KAIROS`}),e.jsx(f,{label:"Fees Collected",value:`${c(s.totalFees)} KAIROS`}),e.jsx(f,{label:"Owner",value:s.owner,mono:!0}),e.jsx(f,{label:"Reserve Wallet",value:s.reserveWallet,mono:!0}),e.jsx(f,{label:"Pausado",value:s.paused?"Sí ⏸":"No ▶"}),e.jsx(f,{label:"Fee",value:`${s.feeBps} bps (${(s.feeBps/100).toFixed(2)}%)`}),e.jsx(f,{label:"Mint Cap",value:s.mintCap==="0.0"?"Sin límite ∞":`${c(s.mintCap)} KAIROS`}),e.jsx(f,{label:"Burn Cap",value:s.burnCap==="0.0"?"Sin límite ∞":`${c(s.burnCap)} KAIROS`}),e.jsx(f,{label:"Balance del Safe",value:`${c(s.safeBalance)} KAIROS`}),e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-3",children:[e.jsx("p",{className:"text-xs font-medium text-dark-400 uppercase tracking-wider",children:"Consultar Dirección"}),e.jsx("input",{type:"text",placeholder:"0x...",value:M,onChange:t=>Le(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 font-mono focus:outline-none focus:border-kairos-500/50"}),e.jsx("button",{onClick:rt,className:"w-full py-2.5 rounded-xl bg-blue-500/20 text-blue-400 text-sm font-medium hover:bg-blue-500/30 transition",children:"Consultar"}),w&&!w.error&&e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsxs("p",{className:"text-xs text-dark-300",children:["Balance: ",e.jsxs("span",{className:"text-white font-mono",children:[c(w.balance)," KAIROS"]})]}),e.jsxs("p",{className:"text-xs text-dark-300",children:["Blacklisted: ",e.jsx("span",{className:w.blacklisted?"text-red-400":"text-green-400",children:w.blacklisted?"Sí ⛔":"No ✓"})]}),e.jsxs("p",{className:"text-xs text-dark-300",children:["Fee Exempt: ",e.jsx("span",{className:w.feeExempt?"text-green-400":"text-dark-400",children:w.feeExempt?"Sí ✓":"No"})]})]}),w?.error&&e.jsx("p",{className:"text-xs text-red-400",children:w.error})]})]}),o==="mint"&&e.jsx(ue,{title:"Crear Tokens (Mint)",description:"Crea nuevos tokens KAIROS y envíalos a cualquier dirección. Esto aumenta el total supply.",icon:pe,iconColor:"text-green-400",fields:[{label:"Dirección destino",value:se,onChange:Oe,placeholder:"0x...",mono:!0},{label:"Cantidad (KAIROS)",value:O,onChange:Ie,placeholder:"1000000",type:"number"}],password:r,setPassword:j,onSubmit:Ge,submitLabel:"Mint Tokens",submitColor:"bg-green-500 hover:bg-green-400",loading:l,error:d,result:g}),o==="burn"&&e.jsx(ue,{title:"Destruir Tokens (Burn)",description:"Destruye tokens KAIROS de cualquier dirección. Esto reduce el total supply.",icon:me,iconColor:"text-red-400",fields:[{label:"Dirección origen",value:ae,onChange:$e,placeholder:"0x...",mono:!0},{label:"Cantidad (KAIROS)",value:I,onChange:Me,placeholder:"1000000",type:"number"}],password:r,setPassword:j,onSubmit:He,submitLabel:"Burn Tokens",submitColor:"bg-red-500 hover:bg-red-400",loading:l,error:d,result:g}),o==="transfer"&&e.jsx(ue,{title:"Enviar Tokens",description:"Envía tokens KAIROS desde el Safe a cualquier dirección.",icon:Fe,iconColor:"text-kairos-400",fields:[{label:"Dirección destino",value:ne,onChange:ze,placeholder:"0x...",mono:!0},{label:"Cantidad (KAIROS)",value:$,onChange:Ke,placeholder:"1000",type:"number"}],password:r,setPassword:j,onSubmit:Je,submitLabel:"Enviar",submitColor:"bg-kairos-500 hover:bg-kairos-400",loading:l,error:d,result:g,extra:s?e.jsxs("p",{className:"text-[10px] text-dark-500",children:["Balance del Safe: ",c(s.safeBalance)," KAIROS"]}):null}),o==="pause"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`rounded-2xl p-4 border ${s?.paused?"bg-red-500/5 border-red-500/20":"bg-green-500/5 border-green-500/20"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${s?.paused?"bg-red-500/10":"bg-green-500/10"}`,children:s?.paused?e.jsx(be,{size:20,className:"text-red-400"}):e.jsx(ye,{size:20,className:"text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold ${s?.paused?"text-red-400":"text-green-400"}`,children:s?.paused?"Token PAUSADO":"Token ACTIVO"}),e.jsx("p",{className:"text-xs text-dark-400",children:s?.paused?"Todas las transferencias están detenidas":"Las transferencias funcionan normalmente"})]})]})}),e.jsxs("div",{className:"bg-yellow-500/5 rounded-2xl p-4 border border-yellow-500/10",children:[e.jsxs("p",{className:"text-xs text-yellow-400 flex items-center gap-2 mb-2",children:[e.jsx(ut,{size:14}),e.jsx("span",{className:"font-semibold",children:"Cuidado"})]}),e.jsx("p",{className:"text-xs text-dark-400",children:s?.paused?"Despausar permitirá que todos los usuarios transfieran tokens nuevamente.":"Pausar detendrá TODAS las transferencias de KAIROS inmediatamente. Usar solo en emergencias."})]}),e.jsx(T,{password:r,setPassword:j}),e.jsxs("button",{onClick:s?.paused?Xe:Qe,disabled:!r||l,className:`w-full py-3 rounded-xl text-sm font-semibold text-white transition disabled:opacity-50 flex items-center justify-center gap-2 ${s?.paused?"bg-green-500 hover:bg-green-400":"bg-red-500 hover:bg-red-400"}`,children:[l?e.jsx(F,{size:16,className:"animate-spin"}):null,s?.paused?"Despausar Token ▶":"Pausar Token ⏸"]}),e.jsx(R,{error:d,result:g})]}),o==="blacklist"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-1",children:[e.jsxs("p",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(he,{size:16,className:"text-orange-400"}),"Blacklist / Unblacklist"]}),e.jsx("p",{className:"text-xs text-dark-400",children:"Bloquea o desbloquea una dirección. Las direcciones en blacklist no pueden enviar ni recibir KAIROS."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs text-dark-400",children:"Dirección"}),e.jsx("input",{type:"text",placeholder:"0x...",value:k,onChange:t=>Pe(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 font-mono focus:outline-none focus:border-kairos-500/50"})]}),e.jsx(T,{password:r,setPassword:j}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:Ze,disabled:!r||!k||l,className:"flex-1 py-3 rounded-xl bg-red-500 hover:bg-red-400 text-white text-sm font-semibold transition disabled:opacity-50 flex items-center justify-center gap-2",children:[l?e.jsx(F,{size:14,className:"animate-spin"}):e.jsx(he,{size:14}),"Bloquear"]}),e.jsxs("button",{onClick:Ye,disabled:!r||!k||l,className:"flex-1 py-3 rounded-xl bg-green-500 hover:bg-green-400 text-white text-sm font-semibold transition disabled:opacity-50 flex items-center justify-center gap-2",children:[l?e.jsx(F,{size:14,className:"animate-spin"}):e.jsx(pt,{size:14}),"Desbloquear"]})]}),e.jsx(R,{error:d,result:g})]}),o==="fees"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-2",children:[e.jsxs("p",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(fe,{size:16,className:"text-purple-400"}),"Comisiones"]}),e.jsxs("p",{className:"text-xs text-dark-400",children:["Fee actual: ",e.jsxs("span",{className:"text-white font-medium",children:[s?.feeBps," bps (",((s?.feeBps||0)/100).toFixed(2),"%)"]})]}),e.jsxs("p",{className:"text-xs text-dark-400",children:["Total recaudado: ",e.jsxs("span",{className:"text-white font-medium",children:[c(s?.totalFees||"0")," KAIROS"]})]})]}),e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-3",children:[e.jsx("p",{className:"text-xs text-dark-400 font-medium uppercase",children:"Cambiar Fee"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"8",value:y,onChange:t=>We(t.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 focus:outline-none focus:border-kairos-500/50"}),e.jsx("span",{className:"self-center text-xs text-dark-500",children:"bps (max 100)"})]})]}),e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-3",children:[e.jsx("p",{className:"text-xs text-dark-400 font-medium uppercase",children:"Exentar de Fee"}),e.jsx("input",{type:"text",placeholder:"0x...",value:q,onChange:t=>Ue(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 font-mono focus:outline-none focus:border-kairos-500/50"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ve(!0),className:`flex-1 py-2 rounded-lg text-xs font-medium transition ${z?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-white/5 text-dark-400"}`,children:"Exentar ✓"}),e.jsx("button",{onClick:()=>ve(!1),className:`flex-1 py-2 rounded-lg text-xs font-medium transition ${z?"bg-white/5 text-dark-400":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:"Quitar Exención"})]})]}),e.jsx(T,{password:r,setPassword:j}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:et,disabled:!r||!y||l,className:"flex-1 py-3 rounded-xl bg-purple-500 hover:bg-purple-400 text-white text-sm font-semibold transition disabled:opacity-50",children:"Cambiar Fee"}),e.jsx("button",{onClick:tt,disabled:!r||!q||l,className:"flex-1 py-3 rounded-xl bg-indigo-500 hover:bg-indigo-400 text-white text-sm font-semibold transition disabled:opacity-50",children:z?"Exentar":"Quitar"})]}),e.jsx(R,{error:d,result:g})]}),o==="caps"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-2",children:[e.jsxs("p",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(ge,{size:16,className:"text-cyan-400"}),"Límites de Mint / Burn"]}),e.jsxs("p",{className:"text-xs text-dark-400",children:["Mint Cap: ",e.jsx("span",{className:"text-white font-medium",children:s?.mintCap==="0.0"?"Sin límite ∞":`${c(s?.mintCap)} KAIROS`})]}),e.jsxs("p",{className:"text-xs text-dark-400",children:["Burn Cap: ",e.jsx("span",{className:"text-white font-medium",children:s?.burnCap==="0.0"?"Sin límite ∞":`${c(s?.burnCap)} KAIROS`})]}),e.jsx("p",{className:"text-[10px] text-dark-500",children:"0 = Sin límite (ilimitado)"})]}),e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-3",children:[e.jsx("p",{className:"text-xs text-dark-400 font-medium uppercase",children:"Mint Cap"}),e.jsx("input",{type:"number",placeholder:"0 (sin límite)",value:V,onChange:t=>_e(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 focus:outline-none focus:border-kairos-500/50"})]}),e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-3",children:[e.jsx("p",{className:"text-xs text-dark-400 font-medium uppercase",children:"Burn Cap"}),e.jsx("input",{type:"number",placeholder:"0 (sin límite)",value:G,onChange:t=>qe(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 focus:outline-none focus:border-kairos-500/50"})]}),e.jsx(T,{password:r,setPassword:j}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:st,disabled:!r||l,className:"flex-1 py-3 rounded-xl bg-cyan-500 hover:bg-cyan-400 text-white text-sm font-semibold transition disabled:opacity-50",children:"Set Mint Cap"}),e.jsx("button",{onClick:at,disabled:!r||l,className:"flex-1 py-3 rounded-xl bg-teal-500 hover:bg-teal-400 text-white text-sm font-semibold transition disabled:opacity-50",children:"Set Burn Cap"})]}),e.jsx(R,{error:d,result:g})]}),o==="settings"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-2",children:[e.jsxs("p",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(Te,{size:16,className:"text-pink-400"}),"Configuración Avanzada"]}),e.jsxs("p",{className:"text-xs text-dark-400",children:["Reserve Wallet actual: ",e.jsx("span",{className:"text-white font-mono text-[10px]",children:s?.reserveWallet})]})]}),e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-3",children:[e.jsx("p",{className:"text-xs text-dark-400 font-medium uppercase",children:"Cambiar Reserve Wallet"}),e.jsx("input",{type:"text",placeholder:"0x...",value:H,onChange:t=>Ve(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 font-mono focus:outline-none focus:border-kairos-500/50"}),e.jsx("p",{className:"text-[10px] text-dark-500",children:"Las comisiones se envían a esta wallet"})]}),e.jsx(T,{password:r,setPassword:j}),e.jsxs("button",{onClick:nt,disabled:!r||!H||l,className:"w-full py-3 rounded-xl bg-pink-500 hover:bg-pink-400 text-white text-sm font-semibold transition disabled:opacity-50 flex items-center justify-center gap-2",children:[l?e.jsx(F,{size:16,className:"animate-spin"}):null,"Cambiar Reserve Wallet"]}),e.jsx(R,{error:d,result:g}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsxs("a",{href:`https://bscscan.com/token/${ee}`,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 py-3 rounded-xl bg-white/[0.03] border border-white/5 hover:bg-white/[0.06] transition",children:[e.jsx(mt,{size:14,className:"text-kairos-400"}),e.jsx("span",{className:"text-sm text-kairos-400",children:"Ver Token en BscScan"})]}),e.jsxs("a",{href:`https://bscscan.com/address/${Y}`,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 py-3 rounded-xl bg-white/[0.03] border border-white/5 hover:bg-white/[0.06] transition",children:[e.jsx(ke,{size:14,className:"text-blue-400"}),e.jsx("span",{className:"text-sm text-blue-400",children:"Ver Safe en BscScan"})]})]})]})]},o)}):e.jsxs(e.Fragment,{children:[s&&e.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"grid grid-cols-2 gap-3",children:[e.jsx(A,{label:"Supply Total",value:c(s.totalSupply),icon:ct,color:"text-kairos-400"}),e.jsx(A,{label:"Minted",value:c(s.totalMinted),icon:pe,color:"text-green-400"}),e.jsx(A,{label:"Burned",value:c(s.totalBurned),icon:me,color:"text-red-400"}),e.jsx(A,{label:"Fees",value:c(s.totalFees),icon:dt,color:"text-purple-400"}),e.jsx(A,{label:"Estado",value:s.paused?"⏸ Pausado":"▶ Activo",icon:s.paused?be:ye,color:s.paused?"text-red-400":"text-green-400"}),e.jsx(A,{label:"Fee",value:`${s.feeBps} bps (${(s.feeBps/100).toFixed(2)}%)`,icon:fe,color:"text-purple-400"})]}),e.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-dark-500 uppercase tracking-wider font-medium px-1",children:"Acciones"}),Ae.map(t=>e.jsxs("button",{onClick:()=>{U(t.id),i(""),E(null),j("")},className:"w-full flex items-center gap-3 p-4 rounded-2xl bg-white/[0.03] border border-white/5 hover:bg-white/[0.06] transition",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${t.bg} flex items-center justify-center`,children:e.jsx(t.icon,{size:20,className:t.color})}),e.jsx("span",{className:"text-sm font-medium text-white flex-1 text-left",children:t.label}),e.jsx(Ne,{size:14,className:"text-dark-500 rotate-180"})]},t.id))]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(ge,{size:40,className:"text-red-400 mb-4"}),e.jsx("p",{className:"text-white font-semibold mb-1",children:"Acceso Denegado"}),e.jsx("p",{className:"text-dark-400 text-sm text-center",children:"Tu wallet no es owner del Safe. Solo los owners pueden administrar el token."})]})})]})}function A({label:x,value:a,icon:u,color:L}){return e.jsxs("div",{className:"bg-white/[0.03] rounded-xl p-3 border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(u,{size:12,className:L}),e.jsx("span",{className:"text-[10px] text-dark-500 uppercase",children:x})]}),e.jsx("p",{className:"text-sm font-semibold text-white truncate",children:a})]})}function f({label:x,value:a,mono:u}){return e.jsxs("div",{className:"bg-white/[0.03] rounded-xl p-3 border border-white/5 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-dark-400",children:x}),e.jsx("span",{className:`text-xs text-white ${u?"font-mono text-[10px] max-w-[200px] truncate":"font-medium"}`,children:a})]})}function T({password:x,setPassword:a}){return e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-dark-400",children:"Contraseña del wallet"}),e.jsx("input",{type:"password",placeholder:"••••••••",value:x,onChange:u=>a(u.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 focus:outline-none focus:border-kairos-500/50"})]})}function R({error:x,result:a}){return e.jsxs(e.Fragment,{children:[x&&e.jsx("div",{className:"bg-red-500/5 rounded-xl p-3 border border-red-500/10",children:e.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-2",children:[e.jsx(bt,{size:14}),x]})}),a&&e.jsxs("div",{className:"bg-green-500/5 rounded-xl p-3 border border-green-500/10 space-y-1",children:[e.jsxs("p",{className:"text-xs text-green-400 flex items-center gap-2",children:[e.jsx(ht,{size:14}),"Transacción confirmada"]}),e.jsxs("a",{href:`https://bscscan.com/tx/${a.hash}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-kairos-400 underline",children:[a.hash.slice(0,20),"... → BscScan"]}),e.jsxs("p",{className:"text-[10px] text-dark-500",children:["Block: ",a.block," · Gas: ",a.gas]})]})]})}function ue({title:x,description:a,icon:u,iconColor:L,fields:W,password:D,setPassword:s,onSubmit:te,submitLabel:o,submitColor:U,loading:l,error:_,result:g,extra:E}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/[0.03] rounded-2xl p-4 border border-white/5 space-y-1",children:[e.jsxs("p",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(u,{size:16,className:L}),x]}),e.jsx("p",{className:"text-xs text-dark-400",children:a}),E]}),W.map((d,i)=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-dark-400",children:d.label}),e.jsx("input",{type:d.type||"text",placeholder:d.placeholder,value:d.value,onChange:r=>d.onChange(r.target.value),className:`w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-dark-500 focus:outline-none focus:border-kairos-500/50 ${d.mono?"font-mono":""}`})]},i)),e.jsx(T,{password:D,setPassword:s}),e.jsxs("button",{onClick:te,disabled:!D||l,className:`w-full py-3 rounded-xl text-sm font-semibold text-white transition disabled:opacity-50 flex items-center justify-center gap-2 ${U}`,children:[l?e.jsx(F,{size:16,className:"animate-spin"}):null,o]}),e.jsx(R,{error:_,result:g})]})}function c(x){const a=parseFloat(x);return isNaN(a)?"0":a>=1e9?`${(a/1e9).toFixed(2)}B`:a>=1e6?`${(a/1e6).toFixed(2)}M`:a>=1e3?`${(a/1e3).toFixed(2)}K`:a.toLocaleString("en-US",{maximumFractionDigits:4})}export{At as default};
