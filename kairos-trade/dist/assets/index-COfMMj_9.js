var At=Object.defineProperty;var Le=a=>{throw TypeError(a)};var Ft=(a,n,e)=>n in a?At(a,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[n]=e;var p=(a,n,e)=>Ft(a,typeof n!="symbol"?n+"":n,e),Ee=(a,n,e)=>n.has(a)||Le("Cannot "+e);var c=(a,n,e)=>(Ee(a,n,"read from private field"),e?e.call(a):n.get(a)),g=(a,n,e)=>n.has(a)?Le("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(a):n.set(a,e),f=(a,n,e,t)=>(Ee(a,n,"write to private field"),t?t.call(a,e):n.set(a,e),e),O=(a,n,e)=>(Ee(a,n,"access private method"),e);var We=(a,n,e,t)=>({set _(r){f(a,n,r,e)},get _(){return c(a,n,t)}});import{n as Ve,o as Fe,p as Qe,r as Ne,q as Xe,v as Ze,w as Ye,x as Be,y as et,z as d,C as Q,D as be,E as P,F as Ue,G as tt,H as rt,J as le,L as st,M as nt,O as De,Q as he,R,S as b,U as at,V as it,X as ot,Y as ye,Z as ct,$ as me,a0 as ut,a1 as X,a2 as lt,a3 as ft,a4 as Bt,a5 as ht,a6 as mt,a7 as Ut,a8 as Dt,a9 as $t,aa as Mt,ab as jt,ac as qt,ad as Jt,ae as Lt,af as Wt,ag as zt,ah as Gt,ai as Ht,aj as Kt,ak as Vt,al as Qt,am as Xt,W as Zt,an as Yt,ao as er,ap as tr,aq as rr,ar as sr,as as nr,at as ar,au as ir,av as or,aw as cr,ax as ur,ay as lr,az as fr,aA as hr,aB as mr,aC as dr,aD as pr,aE as gr,aF as br,aG as yr,aH as wr,aI as kr,aJ as Er,aK as Rr,aL as Pr,aM as Tr,aN as Nr,aO as vr,aP as Sr,l as _r,aQ as xr,aR as Or,aS as Cr,aT as Ir,aU as Ar,aV as Fr,aW as Br,aX as Ur,aY as Dr,aZ as $r,a_ as Mr,a$ as jr,b0 as qr,b1 as Jr,b2 as Lr,b3 as Wr,b4 as zr,b5 as Gr}from"./index-CllwEhrg.js";import{I as dt,B as ve,c as Hr,r as Kr,g as pt,J as T,N,F as x,a as gt,A as de,b as bt,C as yt,d as wt,U as Se,e as Vr,h as Qr,i as Xr,j as Zr,k as Yr,l as es,E as ts,m as rs,n as ss,o as ns,q as as,s as is,t as os,u as cs,v as us,w as ls,x as fs,y as hs,z as ms,D as ds,G as ps,H as gs,K as bs,L as ys,M as ws,O as ks,P as Es,Q as Rs,R as Ps,S as Ts,T as Ns,V as vs,W as Ss,X as _s,Y as xs,Z as Os,_ as Cs,$ as Is,a0 as As,f as Fs,a1 as Bs,a2 as Us,a3 as Ds,a4 as $s,p as Ms}from"./provider-jsonrpc-BIsgLNZl.js";import"./ui-CtxJry3a.js";import"./vendor-OqcJHxKq.js";const js=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qs=BigInt("1000000000000000000"),Js=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ls=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),Ws=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function zs(){Ve.lock(),Fe.lock(),Qe.lock(),Ne.lock(),Xe.lock(),Ze.lock(),Ye.lock(),Be.lock(),et.lock(),Ne.lock()}const Gs=new RegExp("^bytes([0-9]+)$"),Hs=new RegExp("^(u?int)([0-9]*)$"),Ks=new RegExp("^(.*)\\[([0-9]*)\\]$");function kt(a,n,e){switch(a){case"address":return e?P(le(n,32)):P(tt(n));case"string":return Ue(n);case"bytes":return P(n);case"bool":return n=n?"0x01":"0x00",e?P(le(n,32)):P(n)}let t=a.match(Hs);if(t){let r=t[1]==="int",s=parseInt(t[2]||"256");return d((!t[2]||t[2]===String(s))&&s%8===0&&s!==0&&s<=256,"invalid number type","type",a),e&&(s=256),r&&(n=rt(n,s)),P(le(st(n),s/8))}if(t=a.match(Gs),t){const r=parseInt(t[1]);return d(String(r)===t[1]&&r!==0&&r<=32,"invalid bytes type","type",a),d(nt(n)===r,`invalid value for ${a}`,"value",n),e?P(De(n,32)):n}if(t=a.match(Ks),t&&Array.isArray(n)){const r=t[1],s=parseInt(t[2]||String(n.length));d(s===n.length,`invalid array length for ${a}`,"value",n);const i=[];return n.forEach(function(o){i.push(kt(r,o,!0))}),P(be(i))}d(!1,"invalid type","type",a)}function $e(a,n){d(a.length===n.length,"wrong number of values; expected ${ types.length }","values",n);const e=[];return a.forEach(function(t,r){e.push(kt(t,n[r]))}),Q(be(e))}function Vs(a,n){return Fe($e(a,n))}function Qs(a,n){return Be($e(a,n))}function Xs(a){const n=Ue(a);if(n.length>31)throw new Error("bytes32 string must be less than 32 bytes");return De(n,32)}function Zs(a){const n=P(a,"bytes");if(n.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(n[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let e=31;for(;n[e-1]===0;)e--;return he(n.slice(0,e))}class Me{constructor(n,e,t){p(this,"interface");p(this,"bytecode");p(this,"runner");const r=dt.from(n);e instanceof Uint8Array?e=Q(P(e)):(typeof e=="object"&&(e=e.object),e.startsWith("0x")||(e="0x"+e),e=Q(P(e))),R(this,{bytecode:e,interface:r,runner:t||null})}attach(n){return new ve(n,this.interface,this.runner)}async getDeployTransaction(...n){let e={};const t=this.interface.deploy;if(t.inputs.length+1===n.length&&(e=await Hr(n.pop())),t.inputs.length!==n.length)throw new Error("incorrect number of arguments to constructor");const r=await Kr(this.runner,t.inputs,n),s=be([this.bytecode,this.interface.encodeDeploy(r)]);return Object.assign({},e,{data:s})}async deploy(...n){const e=await this.getDeployTransaction(...n);b(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const t=await this.runner.sendTransaction(e),r=pt(t);return new ve(r,this.interface,this.runner,t)}connect(n){return new Me(this.interface,this.bytecode,n)}static fromSolidity(n,e){d(n!=null,"bad compiler output","output",n),typeof n=="string"&&(n=JSON.parse(n));const t=n.abi;let r="";return n.bytecode?r=n.bytecode:n.evm&&n.evm.bytecode&&(r=n.evm.bytecode),new this(t,r,e)}}const ze=new Set;function B(a){ze.has(a)||(ze.add(a),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${a} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}const ae="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Ys(a){switch(a){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}d(!1,"unsupported network","network",a)}class Z extends T{constructor(e,t){e==null&&(e="mainnet");const r=N.from(e);t==null&&(t=ae);const s={polling:!0,staticNetwork:r},i=Z.getRequest(r,t);super(i,r,s);p(this,"apiKey");R(this,{apiKey:t})}_getProvider(e){try{return new Z(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,t){t==null&&(t=ae);const r=new x(`https://${Ys(e.name)}/${t}`);return r.allowGzip=!0,t===ae&&(r.retryFunc=async(s,i,o)=>(B("AnkrProvider"),!0)),r}getRpcError(e,t){return e.method==="eth_sendRawTransaction"&&t&&t.error&&t.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===ae}}const ie="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function en(a){switch(a){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}d(!1,"unsupported network","network",a)}class Y extends T{constructor(e,t){e==null&&(e="mainnet");const r=N.from(e);t==null&&(t=ie);const s=Y.getRequest(r,t);super(s,r,{staticNetwork:r});p(this,"apiKey");R(this,{apiKey:t})}_getProvider(e){try{return new Y(e,this.apiKey)}catch{}return super._getProvider(e)}async _perform(e){if(e.method==="getTransactionResult"){const{trace:t,tx:r}=await at({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(t==null||r==null)return null;let s,i=!1;try{s=t[0].result.output,i=t[0].error==="Reverted"}catch{}if(s)return b(!i,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:s,reason:null,transaction:r,invocation:null,revert:null}),s;b(!1,"could not parse trace result","BAD_DATA",{value:t})}return await super._perform(e)}isCommunityResource(){return this.apiKey===ie}static getRequest(e,t){t==null&&(t=ie);const r=new x(`https://${en(e.name)}/v2/${t}`);return r.allowGzip=!0,t===ie&&(r.retryFunc=async(s,i,o)=>(B("alchemy"),!0)),r}}function oe(a){switch(a){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}d(!1,"unsupported network","network",a)}function tn(a){switch(a){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}d(!1,"unsupported network","network",a)}class ee extends T{constructor(e,t){e==null&&(e="mainnet");const r=N.from(e);t==null&&(t=oe(r.name));const s=ee.getRequest(r,t);super(s,r,{staticNetwork:r});p(this,"apiKey");R(this,{apiKey:t})}_getProvider(e){try{return new ee(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===oe(this._network.name)}static getRequest(e,t){t==null&&(t=oe(e.name));const r=new x(`https://${tn(e.name)}/${t}`);return r.allowGzip=!0,t===oe(e.name)&&(r.retryFunc=async(s,i,o)=>(B("ChainstackProvider"),!0)),r}}class Et extends T{constructor(n){n==null&&(n="mainnet");const e=N.from(n);d(e.name==="mainnet","unsupported network","network",n),super("https://cloudflare-eth.com/",e,{staticNetwork:e})}}const rn="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),Ge=2e3;function sn(a){return a&&typeof a.then=="function"}const Rt="org.ethers.plugins.provider.Etherscan";class je extends gt{constructor(e){super(Rt);p(this,"baseUrl");R(this,{baseUrl:e})}clone(){return new je(this.baseUrl)}}const nn=["enableCcipRead"];let an=1;var J;class Pt extends de{constructor(e,t){const r=t??null;super();p(this,"network");p(this,"apiKey");g(this,J);const s=N.from(e);d(rn.indexOf(`${s.chainId}`)>=0,"unsupported network","network",s),f(this,J,s.getPlugin(Rt)),R(this,{apiKey:r,network:s})}getBaseUrl(){if(c(this,J))return c(this,J).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}d(!1,"unsupported network","network",this.network)}getUrl(e,t){let r=Object.keys(t).reduce((s,i)=>{const o=t[i];return o!=null&&(s+=`&${i}=${o}`),s},"");return this.apiKey&&(r+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${r}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t.chainid=this.network.chainId,t}async detectNetwork(){return this.network}async fetch(e,t,r){const s=an++,i=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:s,url:i,payload:o});const u=new x(i);u.setThrottleParams({slotInterval:1e3}),u.retryFunc=(w,h,y)=>(this.isCommunityResource()&&B("Etherscan"),Promise.resolve(!0)),u.processFunc=async(w,h)=>{const y=h.hasBody()?JSON.parse(he(h.body)):{},K=(typeof y.result=="string"?y.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?y&&y.status==0&&y.message=="NOTOK"&&K&&(this.emit("debug",{action:"receiveError",id:s,reason:"proxy-NOTOK",error:y}),h.throwThrottleError(y.result,Ge)):K&&(this.emit("debug",{action:"receiveError",id:s,reason:"null result",error:y.result}),h.throwThrottleError(y.result,Ge)),h},o&&(u.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),u.body=Object.keys(o).map(w=>`${w}=${o[w]}`).join("&"));const m=await u.send();try{m.assertOk()}catch(w){this.emit("debug",{action:"receiveError",id:s,error:w,reason:"assertOk"}),b(!1,"response error","SERVER_ERROR",{request:u,response:m})}m.hasBody()||(this.emit("debug",{action:"receiveError",id:s,error:"missing body",reason:"null body"}),b(!1,"missing response","SERVER_ERROR",{request:u,response:m}));const l=JSON.parse(he(m.body));return e==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:s,result:l,reason:"invalid JSON-RPC"}),b(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:u,response:m,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:s,result:l,reason:"JSON-RPC error"}),b(!1,"error response","SERVER_ERROR",{request:u,response:m,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:s,result:l}),b(!1,"error response","SERVER_ERROR",{request:u,response:m,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result)}_getTransactionPostData(e){const t={};for(let r in e){if(nn.indexOf(r)>=0||e[r]==null)continue;let s=e[r];if(!(r==="type"&&s===0)&&!(r==="blockTag"&&s==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r])s=it(s);else if(r==="accessList")s="["+ot(s).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]";else if(r==="blobVersionedHashes"){if(s.length===0)continue;b(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else s=Q(s);t[r]=s}}return t}_checkError(e,t,r){let s="";if(ye(t,"SERVER_ERROR")){try{s=t.info.result.error.message}catch{}if(!s)try{s=t.info.message}catch{}}if(e.method==="estimateGas"&&!s.match(/revert/i)&&s.match(/insufficient funds/i)&&b(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&s.match(/execution reverted/i)){let i="";try{i=t.info.result.error.data}catch{}const o=bt.getBuiltinCallException(e.method,e.transaction,i);throw o.info={request:e,error:t},o}if(s&&e.method==="broadcastTransaction"){const i=ct.from(e.signedTransaction);s.match(/replacement/i)&&s.match(/underpriced/i)&&b(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:i}),s.match(/insufficient funds/)&&b(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:i}),s.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&b(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:i})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});b(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(r){return this._checkError(e,r,e.transaction)}}case"estimateGas":{const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(r){return this._checkError(e,r,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let t=this._getAddress(e);sn(t)&&(t=await t);try{const r=await this.fetch("contract",{action:"getabi",address:t}),s=JSON.parse(r);return new yt(t,s,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}}J=new WeakMap;function on(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const cn=on().WebSocket;var S,re,C,D,I;class we{constructor(n,e){g(this,S);g(this,re);g(this,C);g(this,D);g(this,I);f(this,S,n),f(this,re,JSON.stringify(e)),f(this,C,null),f(this,D,null),f(this,I,null)}get filter(){return JSON.parse(c(this,re))}start(){f(this,C,c(this,S).send("eth_subscribe",this.filter).then(n=>(c(this,S)._register(n,this),n)))}stop(){c(this,C).then(n=>{c(this,S).destroyed||c(this,S).send("eth_unsubscribe",[n])}),f(this,C,null)}pause(n){b(n,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),f(this,D,!!n)}resume(){f(this,D,null)}_handleMessage(n){if(c(this,C)!=null&&c(this,D)===null){let e=c(this,I);e==null?e=this._emit(c(this,S),n):e=e.then(async()=>{await this._emit(c(this,S),n)}),f(this,I,e.then(()=>{c(this,I)===e&&f(this,I,null)}))}}async _emit(n,e){throw new Error("sub-classes must implemente this; _emit")}}S=new WeakMap,re=new WeakMap,C=new WeakMap,D=new WeakMap,I=new WeakMap;class Tt extends we{constructor(n){super(n,["newHeads"])}async _emit(n,e){n.emit("block",parseInt(e.number))}}class Nt extends we{constructor(n){super(n,["newPendingTransactions"])}async _emit(n,e){n.emit("pending",e)}}var se;class vt extends we{constructor(e,t){super(e,["logs",t]);g(this,se);f(this,se,JSON.stringify(t))}get logFilter(){return JSON.parse(c(this,se))}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}se=new WeakMap;var $,L,A;class St extends wt{constructor(e,t){const r=Object.assign({},t??{});d(r.batchMaxCount==null||r.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,r.staticNetwork==null&&(r.staticNetwork=!0);super(e,r);g(this,$);g(this,L);g(this,A);f(this,$,new Map),f(this,L,new Map),f(this,A,new Map)}_getSubscriber(e){switch(e.type){case"close":return new Se("close");case"block":return new Tt(this);case"pending":return new Nt(this);case"event":return new vt(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new Se("drop-log")}return super._getSubscriber(e)}_register(e,t){c(this,L).set(e,t);const r=c(this,A).get(e);if(r){for(const s of r)t._handleMessage(s);c(this,A).delete(e)}}async _send(e){d(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const t=new Promise((r,s)=>{c(this,$).set(e.id,{payload:e,resolve:r,reject:s})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){const t=JSON.parse(e);if(t&&typeof t=="object"&&"id"in t){const r=c(this,$).get(t.id);if(r==null){this.emit("error",me("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));return}c(this,$).delete(t.id),r.resolve(t)}else if(t&&t.method==="eth_subscription"){const r=t.params.subscription,s=c(this,L).get(r);if(s)s._handleMessage(t.params.result);else{let i=c(this,A).get(r);i==null&&(i=[],c(this,A).set(r,i)),i.push(t.params.result)}}else{this.emit("error",me("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));return}}async _write(e){throw new Error("sub-classes must override this")}}$=new WeakMap,L=new WeakMap,A=new WeakMap;var M,v;class qe extends St{constructor(e,t,r){super(t,r);g(this,M);g(this,v);typeof e=="string"?(f(this,M,()=>new cn(e)),f(this,v,c(this,M).call(this))):typeof e=="function"?(f(this,M,e),f(this,v,e())):(f(this,M,null),f(this,v,e)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(s){console.log("failed to start WebsocketProvider",s)}},this.websocket.onmessage=s=>{this._processMessage(s.data)}}get websocket(){if(c(this,v)==null)throw new Error("websocket closed");return c(this,v)}async _write(e){this.websocket.send(e)}async destroy(){c(this,v)!=null&&(c(this,v).close(),f(this,v,null)),super.destroy()}}M=new WeakMap,v=new WeakMap;const V="84842078b09946638c03157f83405213";function un(a){switch(a){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}d(!1,"unsupported network","network",a)}class _t extends qe{constructor(e,t){const r=new H(e,t),s=r._getConnection();b(!s.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const i=s.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,r._network);p(this,"projectId");p(this,"projectSecret");R(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===V}}class H extends T{constructor(e,t,r){e==null&&(e="mainnet");const s=N.from(e);t==null&&(t=V),r==null&&(r=null);const i=H.getRequest(s,t,r);super(i,s,{staticNetwork:s});p(this,"projectId");p(this,"projectSecret");R(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new H(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===V}static getWebSocketProvider(e,t){return new _t(e,t)}static getRequest(e,t,r){t==null&&(t=V),r==null&&(r=null);const s=new x(`https://${un(e.name)}/v3/${t}`);return s.allowGzip=!0,r&&s.setCredentials("",r),t===V&&(s.retryFunc=async(i,o,u)=>(B("InfuraProvider"),!0)),s}}const ce="919b412a057b5e9c9b6dce193c5a60242d6efadb";function ln(a){switch(a){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}d(!1,"unsupported network","network",a)}class te extends T{constructor(e,t){e==null&&(e="mainnet");const r=N.from(e);t==null&&(t=ce);const s=te.getRequest(r,t);super(s,r,{staticNetwork:r});p(this,"token");R(this,{token:t})}_getProvider(e){try{return new te(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===ce}static getRequest(e,t){t==null&&(t=ce);const r=new x(`https://${ln(e.name)}/${t}`);return r.allowGzip=!0,t===ce&&(r.retryFunc=async(s,i,o)=>(B("QuickNodeProvider"),!0)),r}}const fn=BigInt("1"),hn=BigInt("2");function mn(a){for(let n=a.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1)),t=a[n];a[n]=a[e],a[e]=t}}function dn(a){return new Promise(n=>{setTimeout(n,a)})}function _e(){return new Date().getTime()}function Re(a){return JSON.stringify(a,(n,e)=>typeof e=="bigint"?{type:"bigint",value:e.toString()}:e)}const He={stallTimeout:400,priority:1,weight:1},Ke={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function pn(a,n){for(;(a.blockNumber<0||a.blockNumber<n)&&(a._updateNumber||(a._updateNumber=(async()=>{try{const e=await a.provider.getBlockNumber();e>a.blockNumber&&(a.blockNumber=e)}catch(e){a.blockNumber=-2,a._lastFatalError=e,a._lastFatalErrorTimestamp=_e()}a._updateNumber=null})()),await a._updateNumber,a.outOfSync++,!a._lastFatalError););}function q(a){if(a==null)return"null";if(Array.isArray(a))return"["+a.map(q).join(",")+"]";if(typeof a=="object"&&typeof a.toJSON=="function")return q(a.toJSON());switch(typeof a){case"boolean":case"symbol":return a.toString();case"bigint":case"number":return BigInt(a).toString();case"string":return JSON.stringify(a);case"object":{const n=Object.keys(a);return n.sort(),"{"+n.map(e=>`${JSON.stringify(e)}:${q(a[e])}`).join(",")+"}"}}throw console.log("Could not serialize",a),new Error("Hmm...")}function Pe(a,n){if("error"in n){const t=n.error;let r;return ye(t,"CALL_EXCEPTION")?r=q(Object.assign({},t,{shortMessage:void 0,reason:void 0,info:void 0})):r=q(t),{tag:r,value:t}}const e=n.result;return{tag:q(e),value:e}}function fe(a,n){const e=new Map;for(const{value:r,tag:s,weight:i}of n){const o=e.get(s)||{value:r,weight:0};o.weight+=i,e.set(s,o)}let t=null;for(const r of e.values())r.weight>=a&&(!t||r.weight>t.weight)&&(t=r);if(t)return t.value}function xe(a,n){let e=0;const t=new Map;let r=null;const s=[];for(const{value:o,tag:u,weight:m}of n)if(o instanceof Error){const l=t.get(u)||{value:o,weight:0};l.weight+=m,t.set(u,l),(r==null||l.weight>r.weight)&&(r=l)}else s.push(BigInt(o)),e+=m;if(e<a)return r&&r.weight>=a?r.value:void 0;s.sort((o,u)=>o<u?-1:u>o?1:0);const i=Math.floor(s.length/2);return s.length%2?s[i]:(s[i-1]+s[i]+fn)/hn}function Te(a,n){const e=fe(a,n);if(e!==void 0)return e;for(const t of n)if(t.value)return t.value}function gn(a,n){if(a===1)return X(xe(a,n),"%internal");const e=new Map,t=(i,o)=>{const u=e.get(i)||{result:i,weight:0};u.weight+=o,e.set(i,u)};for(const{weight:i,value:o}of n){const u=X(o);t(u-1,i),t(u,i),t(u+1,i)}let r=0,s;for(const{weight:i,result:o}of e.values())i>=a&&(i>r||s!=null&&i===r&&o>s)&&(r=i,s=o);return s}var k,_,W,E,Ot,Oe,Ct,It,Ce;class xt extends de{constructor(e,t,r){super(t,r);g(this,E);p(this,"quorum");p(this,"eventQuorum");p(this,"eventWorkers");g(this,k);g(this,_);g(this,W);f(this,k,e.map(s=>s instanceof de?Object.assign({provider:s},He,Ke):Object.assign({},He,s,Ke))),f(this,_,-2),f(this,W,null),r&&r.quorum!=null?this.quorum=r.quorum:this.quorum=Math.ceil(c(this,k).reduce((s,i)=>(s+=i.weight,s),0)/2),this.eventQuorum=1,this.eventWorkers=1,d(this.quorum<=c(this,k).reduce((s,i)=>s+i.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return c(this,k).map(e=>{const t=Object.assign({},e);for(const r in t)r[0]==="_"&&delete t[r];return t})}async _detectNetwork(){return N.from(ut(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{const r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}async _perform(e){if(e.method==="broadcastTransaction"){const i=c(this,k).map(m=>null),o=c(this,k).map(async({provider:m,weight:l},w)=>{try{const h=await m._perform(e);i[w]=Object.assign(Pe(e.method,{result:h}),{weight:l})}catch(h){i[w]=Object.assign(Pe(e.method,{error:h}),{weight:l})}});for(;;){const m=i.filter(h=>h!=null);for(const{value:h}of m)if(!(h instanceof Error))return h;const l=fe(this.quorum,i.filter(h=>h!=null));if(ye(l,"INSUFFICIENT_FUNDS"))throw l;const w=o.filter((h,y)=>i[y]==null);if(w.length===0)break;await Promise.race(w)}const u=Te(this.quorum,i);if(b(u!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:i.map(Re)}}),u instanceof Error)throw u;return u}await O(this,E,Ct).call(this);const t=new Set;let r=0;for(;;){const i=O(this,E,Oe).call(this,t,e);if(i==null||(r+=i.config.weight,r>=this.quorum))break}const s=await O(this,E,Ce).call(this,t,e);for(const i of t)i.perform&&i.result==null&&i.config.lateResponses++;return s}async destroy(){for(const{provider:e}of c(this,k))e.destroy();super.destroy()}}k=new WeakMap,_=new WeakMap,W=new WeakMap,E=new WeakSet,Ot=function(e){const t=Array.from(e).map(s=>s.config),r=c(this,k).slice();mn(r),r.sort((s,i)=>s.priority-i.priority);for(const s of r)if(!s._lastFatalError&&t.indexOf(s)===-1)return s;return null},Oe=function(e,t){const r=O(this,E,Ot).call(this,e);if(r==null)return null;const s={config:r,result:null,didBump:!1,perform:null,staller:null},i=_e();return s.perform=(async()=>{try{r.requests++;const u=await this._translatePerform(r.provider,t);s.result={result:u}}catch(u){r.errorResponses++,s.result={error:u}}const o=_e()-i;r._totalTime+=o,r.rollingDuration=.95*r.rollingDuration+.05*o,s.perform=null})(),s.staller=(async()=>{await dn(r.stallTimeout),s.staller=null})(),e.add(s),s},Ct=async function(){let e=c(this,W);if(!e){const t=[];c(this,k).forEach(r=>{t.push((async()=>{await pn(r,0),r._lastFatalError||(r._network=await r.provider.getNetwork())})())}),f(this,W,e=(async()=>{await Promise.all(t);let r=null;for(const s of c(this,k)){if(s._lastFatalError)continue;const i=s._network;r==null?r=i.chainId:i.chainId!==r&&b(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await e},It=async function(e,t){const r=[];for(const s of e)if(s.result!=null){const{tag:i,value:o}=Pe(t.method,s.result);r.push({tag:i,value:o,weight:s.config.weight})}if(!(r.reduce((s,i)=>s+i.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{c(this,_)===-2&&f(this,_,Math.ceil(X(xe(this.quorum,c(this,k).filter(i=>!i._lastFatalError).map(i=>({value:i.blockNumber,tag:X(i.blockNumber).toString(),weight:i.weight}))))));const s=gn(this.quorum,r);return s===void 0?void 0:(s>c(this,_)&&f(this,_,s),c(this,_))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return xe(this.quorum,r);case"getBlock":return"blockTag"in t&&t.blockTag==="pending"?Te(this.quorum,r):fe(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return fe(this.quorum,r);case"broadcastTransaction":return Te(this.quorum,r)}b(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${Re(t.method)})`})}},Ce=async function(e,t){if(e.size===0)throw new Error("no runners?!");const r=[];let s=0;for(const o of e){if(o.perform&&r.push(o.perform),o.staller){r.push(o.staller);continue}o.didBump||(o.didBump=!0,s++)}const i=await O(this,E,It).call(this,e,t);if(i!==void 0){if(i instanceof Error)throw i;return i}for(let o=0;o<s;o++)O(this,E,Oe).call(this,e,t);return b(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(o=>Re(o.result))}}),await Promise.race(r),await O(this,E,Ce).call(this,e,t)};function bn(a){return a&&typeof a.send=="function"&&typeof a.close=="function"}const yn="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function wn(a,n){n==null&&(n={});const e=i=>n[i]==="-"?!1:typeof n.exclusive=="string"?i===n.exclusive:Array.isArray(n.exclusive)?n.exclusive.indexOf(i)!==-1:!0;if(typeof a=="string"&&a.match(/^https?:/))return new T(a);if(typeof a=="string"&&a.match(/^wss?:/)||bn(a))return new qe(a);let t=null;try{t=N.from(a)}catch{}const r=[];if(e("publicPolygon")&&t&&(t.name==="matic"?r.push(new T("https://polygon-rpc.com/",t,{staticNetwork:t})):t.name==="matic-amoy"&&r.push(new T("https://rpc-amoy.polygon.technology/",t,{staticNetwork:t}))),e("alchemy"))try{r.push(new Y(a,n.alchemy))}catch{}if(e("ankr")&&n.ankr!=null)try{r.push(new Z(a,n.ankr))}catch{}if(e("chainstack"))try{r.push(new ee(a,n.chainstack))}catch{}if(e("cloudflare"))try{r.push(new Et(a))}catch{}if(e("etherscan"))try{r.push(new Pt(a,n.etherscan))}catch{}if(e("infura"))try{let i=n.infura,o;typeof i=="object"&&(o=i.projectSecret,i=i.projectId),r.push(new H(a,i,o))}catch{}if(e("quicknode"))try{let i=n.quicknode;r.push(new te(a,i))}catch{}if(b(r.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),r.length===1)return r[0];let s=Math.floor(r.length/2);return s>2&&(s=2),t&&yn.indexOf(t.name)!==-1&&(s=1),n&&n.quorum&&(s=n.quorum),new xt(r,void 0,{quorum:s})}var F,j;const Je=class Je extends lt{constructor(e){super(e.provider);p(this,"signer");g(this,F);g(this,j);R(this,{signer:e}),f(this,F,null),f(this,j,0)}async getAddress(){return this.signer.getAddress()}connect(e){return new Je(this.signer.connect(e))}async getNonce(e){if(e==="pending"){c(this,F)==null&&f(this,F,super.getNonce("pending"));const t=c(this,j);return await c(this,F)+t}return super.getNonce(e)}increment(){We(this,j)._++}reset(){f(this,j,0),f(this,F,null)}async sendTransaction(e){const t=this.getNonce("pending");return this.increment(),e=await this.signer.populateTransaction(e),e.nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}};F=new WeakMap,j=new WeakMap;let Ie=Je;var z,G;const U=class U extends Vr{constructor(e,t,r){const s=Object.assign({},r??{},{batchMaxCount:1});d(e&&e.request,"invalid EIP-1193 provider","ethereum",e);super(t,s);g(this,z);g(this,G);f(this,G,null),r&&r.providerInfo&&f(this,G,r.providerInfo),f(this,z,async(i,o)=>{const u={method:i,params:o};this.emit("debug",{action:"sendEip1193Request",payload:u});try{const m=await e.request(u);return this.emit("debug",{action:"receiveEip1193Result",result:m}),m}catch(m){const l=new Error(m.message);throw l.code=m.code,l.data=m.data,l.payload=u,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}})}get providerInfo(){return c(this,G)}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){d(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await c(this,z).call(this,e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}async hasSigner(e){e==null&&(e=0);const t=await this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await c(this,z).call(this,"eth_requestAccounts",[])}catch(t){const r=t.payload;throw this.getRpcError(r,{id:r.id,error:t})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new U(e.provider);const t=e.window?e.window:typeof window<"u"?window:null;if(t==null)return null;const r=e.anyProvider;if(r&&t.ethereum)return new U(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const s=e.timeout?e.timeout:300;return s===0?null:await new Promise((i,o)=>{let u=[];const m=h=>{u.push(h.detail),r&&l()},l=()=>{if(clearTimeout(w),u.length)if(e&&e.filter){const h=e.filter(u.map(y=>Object.assign({},y.info)));if(h==null)i(null);else if(h instanceof U)i(h);else{let y=null;if(h.uuid&&(y=u.filter(ke=>h.uuid===ke.info.uuid)[0]),y){const{provider:K,info:ke}=y;i(new U(K,void 0,{providerInfo:ke}))}else o(me("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:y}=u[0];i(new U(h,void 0,{providerInfo:y}))}else i(null);t.removeEventListener("eip6963:announceProvider",m)},w=setTimeout(()=>{l()},s);t.addEventListener("eip6963:announceProvider",m),t.dispatchEvent(new Event("eip6963:requestProvider"))})}};z=new WeakMap,G=new WeakMap;let Ae=U;function kn(a){switch(a){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}d(!1,"unsupported network","network",a)}class pe extends T{constructor(e,t){e==null&&(e="mainnet");const r=N.from(e);t==null&&(t=null);const s=pe.getRequest(r);super(s,r,{staticNetwork:r});p(this,"apiKey");R(this,{apiKey:t})}_getProvider(e){try{return new pe(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){const t=super.getRpcRequest(e);return t&&t.method==="eth_estimateGas"&&t.args.length==1&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){const r=t?t.error:null;if(r&&r.code===-32015&&!ft(r.data||"",!0)){const s={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"};let i="";r.message==="VM execution error."?i=s[r.data]||"":s[r.message||""]&&(i=s[r.message||""]),i&&(r.message+=` (reverted: ${r.data})`,r.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+i)}else r&&r.code===-32e3&&r.message==="wrong transaction nonce"&&(r.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){const t=new x(kn(e.name));return t.allowGzip=!0,t}}const ue="62e1ad51b37b8e00394bda3b";function En(a){switch(a){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}d(!1,"unsupported network","network",a)}class ge extends T{constructor(e,t,r){e==null&&(e="mainnet");const s=N.from(e);t==null&&(t=ue),r==null&&(r=null);const i={staticNetwork:s},o=ge.getRequest(s,t,r);super(o,s,i);p(this,"applicationId");p(this,"applicationSecret");R(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new ge(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,t,r){t==null&&(t=ue);const s=new x(`https://${En(e.name)}/v1/lb/${t}`);return s.allowGzip=!0,r&&s.setCredentials("",r),t===ue&&(s.retryFunc=async(i,o,u)=>(B("PocketProvider"),!0)),s}isCommunityResource(){return this.applicationId===ue}}const Rn=void 0,Pn=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function Tn(a,n){const e=(1<<a)-1,t=[];let r=0,s=0,i=0;for(let o=0;o<n.length;o++)for(r=r<<6|Pn.indexOf(n[o]),s+=6;s>=a;){const u=r>>s-a;r&=(1<<s-a)-1,s-=a,u===0?i+=e:(t.push(u+i),i=0)}return t}function Nn(a,n){let e=Bt(a).join(",");return n.split(/,/g).forEach(t=>{const r=t.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);d(r!==null,"internal error parsing accents","accents",n);let s=0;const i=Tn(parseInt(r[3]),r[4]),o=parseInt(r[2]),u=new RegExp(`([${r[1]}])`,"g");e=e.replace(u,(m,l)=>(--i[s]===0&&(l=String.fromCharCode(l.charCodeAt(0),o),s++),l))}),e.split(",")}var ne;class vn extends ht{constructor(e,t,r,s){super(e,t,s);g(this,ne);f(this,ne,r)}get _accent(){return c(this,ne)}_decodeWords(){return Nn(this._data,this._accent)}}ne=new WeakMap;const Sn={en:mt.wordlist()},An=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:bt,AbstractProvider:de,AbstractSigner:lt,AlchemyProvider:Y,AnkrProvider:Z,BaseContract:ve,BaseWallet:Ut,Block:Dt,BlockscoutProvider:pe,BrowserProvider:Ae,ChainstackProvider:ee,CloudflareProvider:Et,ConstructorFragment:Qr,Contract:yt,ContractEventPayload:Xr,ContractFactory:Me,ContractTransactionReceipt:Zr,ContractTransactionResponse:Yr,ContractUnknownEventPayload:es,EnsPlugin:ts,EnsResolver:rs,ErrorDescription:ss,ErrorFragment:ns,EtherSymbol:$t,EtherscanPlugin:je,EtherscanProvider:Pt,EventFragment:as,EventLog:is,EventPayload:os,FallbackFragment:cs,FallbackProvider:xt,FeeData:Mt,FeeDataNetworkPlugin:us,FetchCancelSignal:ls,FetchRequest:x,FetchResponse:fs,FetchUrlFeeDataNetworkPlugin:hs,FixedNumber:ms,Fragment:ds,FunctionFragment:ps,GasCostPlugin:gs,HDNodeVoidWallet:jt,HDNodeWallet:qt,Indexed:bs,InfuraProvider:H,InfuraWebSocketProvider:_t,Interface:dt,IpcSocketProvider:Rn,JsonRpcApiProvider:wt,JsonRpcProvider:T,JsonRpcSigner:ys,LangEn:mt,Log:Jt,LogDescription:ws,MaxInt256:Ws,MaxUint256:Js,MessagePrefix:Lt,MinInt256:Ls,Mnemonic:Wt,MulticoinProviderPlugin:ks,N:js,NamedFragment:Es,Network:N,NetworkPlugin:gt,NonceManager:Ie,ParamType:Rs,PocketProvider:ge,QuickNodeProvider:te,Result:Ps,Signature:zt,SigningKey:Gt,SocketBlockSubscriber:Tt,SocketEventSubscriber:vt,SocketPendingSubscriber:Nt,SocketProvider:St,SocketSubscriber:we,StructFragment:Ts,Transaction:ct,TransactionDescription:Ns,TransactionReceipt:Ht,TransactionResponse:Kt,Typed:vs,TypedDataEncoder:Vt,UndecodedEventLog:Ss,UnmanagedSubscriber:Se,Utf8ErrorFuncs:Qt,VoidSigner:Xt,Wallet:Zt,WebSocketProvider:qe,WeiPerEther:qs,Wordlist:Yt,WordlistOwl:ht,WordlistOwlA:vn,ZeroAddress:er,ZeroHash:tr,accessListify:ot,assert:b,assertArgument:d,assertArgumentCount:rr,assertNormalize:sr,assertPrivate:nr,authorizationify:ar,checkResultErrors:_s,computeAddress:ir,computeHmac:Ve,concat:be,copyRequest:or,dataLength:nt,dataSlice:cr,decodeBase58:ur,decodeBase64:xs,decodeBytes32String:Zs,decodeRlp:lr,decryptCrowdsaleJson:fr,decryptKeystoreJson:hr,decryptKeystoreJsonSync:mr,defaultPath:dr,defineProperties:R,dnsEncode:Os,encodeBase58:pr,encodeBase64:Cs,encodeBytes32String:Xs,encodeRlp:gr,encryptKeystoreJson:br,encryptKeystoreJsonSync:yr,ensNormalize:Is,formatEther:As,formatUnits:Fs,fromTwos:wr,getAccountPath:kr,getAddress:tt,getBigInt:ut,getBytes:P,getBytesCopy:Er,getCreate2Address:Bs,getCreateAddress:pt,getDefaultProvider:wn,getIcapAddress:Rr,getIndexedAccountPath:Pr,getNumber:X,getUint:Tr,hashAuthorization:Nr,hashMessage:vr,hexlify:Q,id:Sr,isAddress:_r,isAddressable:xr,isBytesLike:Or,isCallException:Cr,isCrowdsaleJson:Ir,isError:ye,isHexString:ft,isKeystoreJson:Ar,isValidName:Us,keccak256:Fe,lock:zs,makeError:me,mask:Fr,namehash:Ds,parseEther:$s,parseUnits:Ms,pbkdf2:Qe,randomBytes:Ne,recoverAddress:Br,resolveAddress:Ur,resolveProperties:at,ripemd160:Xe,scrypt:Ze,scryptSync:Ye,sha256:Be,sha512:et,showThrottleMessage:B,solidityPacked:$e,solidityPackedKeccak256:Vs,solidityPackedSha256:Qs,stripZerosLeft:Dr,toBeArray:st,toBeHex:$r,toBigInt:Mr,toNumber:jr,toQuantity:it,toTwos:rt,toUtf8Bytes:Ue,toUtf8CodePoints:qr,toUtf8String:he,uuidV4:Jr,verifyAuthorization:Lr,verifyMessage:Wr,verifyTypedData:zr,version:Gr,wordlists:Sn,zeroPadBytes:De,zeroPadValue:le},Symbol.toStringTag,{value:"Module"}));export{bt as AbiCoder,de as AbstractProvider,lt as AbstractSigner,Y as AlchemyProvider,Z as AnkrProvider,ve as BaseContract,Ut as BaseWallet,Dt as Block,pe as BlockscoutProvider,Ae as BrowserProvider,ee as ChainstackProvider,Et as CloudflareProvider,Qr as ConstructorFragment,yt as Contract,Xr as ContractEventPayload,Me as ContractFactory,Zr as ContractTransactionReceipt,Yr as ContractTransactionResponse,es as ContractUnknownEventPayload,ts as EnsPlugin,rs as EnsResolver,ss as ErrorDescription,ns as ErrorFragment,$t as EtherSymbol,je as EtherscanPlugin,Pt as EtherscanProvider,as as EventFragment,is as EventLog,os as EventPayload,cs as FallbackFragment,xt as FallbackProvider,Mt as FeeData,us as FeeDataNetworkPlugin,ls as FetchCancelSignal,x as FetchRequest,fs as FetchResponse,hs as FetchUrlFeeDataNetworkPlugin,ms as FixedNumber,ds as Fragment,ps as FunctionFragment,gs as GasCostPlugin,jt as HDNodeVoidWallet,qt as HDNodeWallet,bs as Indexed,H as InfuraProvider,_t as InfuraWebSocketProvider,dt as Interface,Rn as IpcSocketProvider,wt as JsonRpcApiProvider,T as JsonRpcProvider,ys as JsonRpcSigner,mt as LangEn,Jt as Log,ws as LogDescription,Ws as MaxInt256,Js as MaxUint256,Lt as MessagePrefix,Ls as MinInt256,Wt as Mnemonic,ks as MulticoinProviderPlugin,js as N,Es as NamedFragment,N as Network,gt as NetworkPlugin,Ie as NonceManager,Rs as ParamType,ge as PocketProvider,te as QuickNodeProvider,Ps as Result,zt as Signature,Gt as SigningKey,Tt as SocketBlockSubscriber,vt as SocketEventSubscriber,Nt as SocketPendingSubscriber,St as SocketProvider,we as SocketSubscriber,Ts as StructFragment,ct as Transaction,Ns as TransactionDescription,Ht as TransactionReceipt,Kt as TransactionResponse,vs as Typed,Vt as TypedDataEncoder,Ss as UndecodedEventLog,Se as UnmanagedSubscriber,Qt as Utf8ErrorFuncs,Xt as VoidSigner,Zt as Wallet,qe as WebSocketProvider,qs as WeiPerEther,Yt as Wordlist,ht as WordlistOwl,vn as WordlistOwlA,er as ZeroAddress,tr as ZeroHash,ot as accessListify,b as assert,d as assertArgument,rr as assertArgumentCount,sr as assertNormalize,nr as assertPrivate,ar as authorizationify,_s as checkResultErrors,ir as computeAddress,Ve as computeHmac,be as concat,or as copyRequest,nt as dataLength,cr as dataSlice,ur as decodeBase58,xs as decodeBase64,Zs as decodeBytes32String,lr as decodeRlp,fr as decryptCrowdsaleJson,hr as decryptKeystoreJson,mr as decryptKeystoreJsonSync,dr as defaultPath,R as defineProperties,Os as dnsEncode,pr as encodeBase58,Cs as encodeBase64,Xs as encodeBytes32String,gr as encodeRlp,br as encryptKeystoreJson,yr as encryptKeystoreJsonSync,Is as ensNormalize,An as ethers,As as formatEther,Fs as formatUnits,wr as fromTwos,kr as getAccountPath,tt as getAddress,ut as getBigInt,P as getBytes,Er as getBytesCopy,Bs as getCreate2Address,pt as getCreateAddress,wn as getDefaultProvider,Rr as getIcapAddress,Pr as getIndexedAccountPath,X as getNumber,Tr as getUint,Nr as hashAuthorization,vr as hashMessage,Q as hexlify,Sr as id,_r as isAddress,xr as isAddressable,Or as isBytesLike,Cr as isCallException,Ir as isCrowdsaleJson,ye as isError,ft as isHexString,Ar as isKeystoreJson,Us as isValidName,Fe as keccak256,zs as lock,me as makeError,Fr as mask,Ds as namehash,$s as parseEther,Ms as parseUnits,Qe as pbkdf2,Ne as randomBytes,Br as recoverAddress,Ur as resolveAddress,at as resolveProperties,Xe as ripemd160,Ze as scrypt,Ye as scryptSync,Be as sha256,et as sha512,B as showThrottleMessage,$e as solidityPacked,Vs as solidityPackedKeccak256,Qs as solidityPackedSha256,Dr as stripZerosLeft,st as toBeArray,$r as toBeHex,Mr as toBigInt,jr as toNumber,it as toQuantity,rt as toTwos,Ue as toUtf8Bytes,qr as toUtf8CodePoints,he as toUtf8String,Jr as uuidV4,Lr as verifyAuthorization,Wr as verifyMessage,zr as verifyTypedData,Gr as version,Sn as wordlists,De as zeroPadBytes,le as zeroPadValue};
//# sourceMappingURL=index-COfMMj_9.js.map
