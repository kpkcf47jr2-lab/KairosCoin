{"version":3,"file":"StrategyBuilder-ClW_OKYp.js","sources":["../../src/components/Strategy/StrategyBuilder.jsx"],"sourcesContent":["// Kairos Trade — Strategy Builder (v2 — with Kairos Script Editor)\nimport { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Zap, Plus, Trash2, Play, Copy, Code2, Edit3, ChevronRight } from 'lucide-react';\nimport useStore from '../../store/useStore';\nimport { POPULAR_PAIRS, TIMEFRAMES } from '../../constants';\nimport StrategyEditor from '../Bots/StrategyEditor';\n\nconst PRESET_TEMPLATES = [\n  {\n    name: 'EMA Cross Classic',\n    description: 'Cruces de EMA rápida/lenta — Tendencia',\n    entry: { condition: 'EMA 20 cruza por encima de EMA 50', indicator: 'ema_cross', params: { fast: 20, slow: 50 } },\n    exit: { condition: 'EMA 20 cruza por debajo de EMA 50', indicator: 'ema_cross', params: { fast: 20, slow: 50 } },\n    stopLoss: '2', takeProfit: '4',\n  },\n  {\n    name: 'RSI Reversal',\n    description: 'Compra en sobreventa, vende en sobrecompra',\n    entry: { condition: 'RSI < 30 (sobreventa)', indicator: 'rsi', params: { period: 14, oversold: 30 } },\n    exit: { condition: 'RSI > 70 (sobrecompra)', indicator: 'rsi', params: { period: 14, overbought: 70 } },\n    stopLoss: '1.5', takeProfit: '3',\n  },\n  {\n    name: 'MACD Momentum',\n    description: 'Cruce de línea MACD y señal',\n    entry: { condition: 'MACD cruza por encima de señal', indicator: 'macd_cross', params: { fast: 12, slow: 26, signal: 9 } },\n    exit: { condition: 'MACD cruza por debajo de señal', indicator: 'macd_cross', params: {} },\n    stopLoss: '2', takeProfit: '4',\n  },\n  {\n    name: 'EMA + RSI Combo',\n    description: 'Más preciso: cruces de EMA confirmados con RSI',\n    entry: { condition: 'EMA 20 > EMA 50 + RSI < 30', indicator: 'ema_cross_rsi', params: { fastEma: 20, slowEma: 50, rsiPeriod: 14, rsiOversold: 30 } },\n    exit: { condition: 'RSI > 70', indicator: 'rsi', params: { rsiOverbought: 70 } },\n    stopLoss: '2', takeProfit: '4',\n  },\n];\n\nexport default function StrategyBuilder() {\n  const { strategies, addStrategy, removeStrategy, setPage } = useStore();\n  const [showEditor, setShowEditor] = useState(false);\n  const [editingStrategy, setEditingStrategy] = useState(null);\n  const [activeTab, setActiveTab] = useState('custom'); // 'custom' | 'preset'\n\n  const customStrategies = strategies.filter(s => s.type === 'custom_script');\n  const presetStrategies = strategies.filter(s => s.type !== 'custom_script');\n\n  const handleUseTemplate = (template) => {\n    addStrategy({ ...template, pair: 'BTCUSDT', timeframe: '1h' });\n  };\n\n  const handleEditStrategy = (strategy) => {\n    setEditingStrategy(strategy);\n    setShowEditor(true);\n  };\n\n  return (\n    <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-xl font-bold\">Estrategias de Trading</h1>\n          <p className=\"text-sm text-[var(--text-dim)]\">\n            Crea estrategias con código o usa plantillas predefinidas\n          </p>\n        </div>\n        <button onClick={() => { setEditingStrategy(null); setShowEditor(true); }}\n          className=\"flex items-center gap-2 px-4 py-2 btn-gold rounded-xl text-sm\">\n          <Code2 size={16} /> Crear con Código\n        </button>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex gap-1 bg-[var(--dark-3)] rounded-lg p-1 w-fit\">\n        <button onClick={() => setActiveTab('custom')}\n          className={`flex items-center gap-1.5 px-4 py-1.5 text-sm rounded-md transition-colors ${\n            activeTab === 'custom' ? 'bg-[var(--gold)] text-white font-bold' : 'text-[var(--text-dim)]'\n          }`}>\n          <Code2 size={14} /> Custom Scripts ({customStrategies.length})\n        </button>\n        <button onClick={() => setActiveTab('preset')}\n          className={`flex items-center gap-1.5 px-4 py-1.5 text-sm rounded-md transition-colors ${\n            activeTab === 'preset' ? 'bg-[var(--gold)] text-white font-bold' : 'text-[var(--text-dim)]'\n          }`}>\n          <Zap size={14} /> Predefinidas ({presetStrategies.length})\n        </button>\n      </div>\n\n      {/* Custom Scripts Tab */}\n      {activeTab === 'custom' && (\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"space-y-4\">\n          {/* Hero CTA */}\n          <div className=\"rounded-xl p-6 text-center\" style={{\n            background: 'linear-gradient(135deg, rgba(168,85,247,0.08) 0%, rgba(59,130,246,0.08) 100%)',\n            border: '1px solid rgba(168,85,247,0.15)',\n          }}>\n            <div className=\"w-14 h-14 rounded-2xl flex items-center justify-center mx-auto mb-3\"\n              style={{ background: 'rgba(168,85,247,0.1)', border: '1px solid rgba(168,85,247,0.2)' }}>\n              <Code2 size={24} className=\"text-[#A855F7]\" />\n            </div>\n            <h2 className=\"text-lg font-bold mb-1\">Kairos Script</h2>\n            <p className=\"text-sm text-[var(--text-secondary)] mb-4 max-w-md mx-auto\">\n              Escribe tu propia estrategia con código simple, o pídele a ChatGPT que la genere por ti.\n              Más fácil que Pine Script, más potente que MQL.\n            </p>\n            <div className=\"flex gap-3 justify-center flex-wrap\">\n              <button onClick={() => { setEditingStrategy(null); setShowEditor(true); }}\n                className=\"flex items-center gap-2 px-5 py-2.5 btn-gold rounded-xl text-sm font-bold\">\n                <Code2 size={14} /> Crear Estrategia\n              </button>\n            </div>\n          </div>\n\n          {/* How it works */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2\">\n            {[\n              { step: '1', title: 'Pide a ChatGPT', desc: 'Dile qué estrategia quieres con nuestro prompt optimizado', color: '#A855F7' },\n              { step: '2', title: 'Pega el Código', desc: 'Copia el código que te generó y pégalo en el editor', color: '#3B82F6' },\n              { step: '3', title: 'Activa el Bot', desc: 'Testea con backtest y asígnala a un Script Bot', color: '#00DC82' },\n            ].map(({ step, title, desc, color }) => (\n              <div key={step} className=\"rounded-xl p-4 flex gap-3\"\n                style={{ background: 'var(--surface)', border: '1px solid var(--border)' }}>\n                <div className=\"w-8 h-8 rounded-lg flex items-center justify-center shrink-0 text-sm font-black\"\n                  style={{ background: `${color}15`, color, border: `1px solid ${color}25` }}>\n                  {step}\n                </div>\n                <div>\n                  <p className=\"text-xs font-bold mb-0.5\">{title}</p>\n                  <p className=\"text-[10px] text-[var(--text-dim)] leading-relaxed\">{desc}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Custom strategy list */}\n          {customStrategies.length > 0 ? (\n            <div className=\"space-y-2\">\n              <h3 className=\"text-sm font-bold\">Mis Scripts ({customStrategies.length})</h3>\n              {customStrategies.map(strat => (\n                <motion.div key={strat.id} layout\n                  className=\"rounded-xl p-4 flex items-center justify-between\"\n                  style={{ background: 'var(--surface)', border: '1px solid var(--border)' }}>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-10 h-10 rounded-xl flex items-center justify-center\"\n                      style={{ background: 'rgba(168,85,247,0.1)', border: '1px solid rgba(168,85,247,0.2)' }}>\n                      <Code2 size={18} className=\"text-[#A855F7]\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-bold\">{strat.name}</p>\n                      <p className=\"text-[10px] text-[var(--text-dim)]\">\n                        {strat.code?.split('\\n').filter(l => l.trim() && !l.trim().startsWith('//')).length || 0} líneas de lógica\n                        {' • '}Creada: {new Date(strat.createdAt).toLocaleDateString('es')}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2 flex-wrap\">\n                    <button onClick={() => handleEditStrategy(strat)}\n                      className=\"flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors\"\n                      style={{ background: 'rgba(168,85,247,0.1)', border: '1px solid rgba(168,85,247,0.2)', color: '#A855F7' }}>\n                      <Edit3 size={12} /> Editar\n                    </button>\n                    <button onClick={() => setPage('bots')}\n                      className=\"flex items-center gap-1 px-3 py-1.5 bg-[var(--green)]/10 text-[var(--green)] rounded-lg text-xs font-bold border border-[var(--green)]/20\">\n                      <Play size={12} /> Usar en Bot\n                    </button>\n                    <button onClick={() => removeStrategy(strat.id)}\n                      className=\"p-1.5 text-[var(--text-dim)] hover:text-[var(--red)] transition-colors\">\n                      <Trash2 size={14} />\n                    </button>\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"rounded-xl p-8 text-center\" style={{ background: 'var(--surface)', border: '1px solid var(--border)' }}>\n              <Code2 size={32} className=\"text-[var(--text-dim)]/20 mx-auto mb-3\" />\n              <p className=\"text-sm text-[var(--text-dim)]\">No tienes scripts custom aún</p>\n              <p className=\"text-xs text-[var(--text-dim)] mt-1\">Crea tu primera estrategia personalizada</p>\n            </div>\n          )}\n        </motion.div>\n      )}\n\n      {/* Preset Templates Tab */}\n      {activeTab === 'preset' && (\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-3\">\n            {PRESET_TEMPLATES.map((tmpl, i) => (\n              <motion.div key={tmpl.name}\n                initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: i * 0.05 }}\n                className=\"bg-[var(--dark-2)] border border-[var(--border)] rounded-xl p-4 hover:border-[var(--gold)]/30 transition-colors\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Zap size={16} className=\"text-[var(--gold)]\" />\n                  <h3 className=\"text-sm font-bold\">{tmpl.name}</h3>\n                </div>\n                <p className=\"text-xs text-[var(--text-dim)] mb-3\">{tmpl.description}</p>\n                <div className=\"space-y-1 text-xs mb-3\">\n                  <p><span className=\"text-[var(--green)]\">▲</span> {tmpl.entry.condition}</p>\n                  <p><span className=\"text-[var(--red)]\">▼</span> {tmpl.exit.condition}</p>\n                  <p className=\"text-[var(--text-dim)]\">SL: {tmpl.stopLoss}% | TP: {tmpl.takeProfit}%</p>\n                </div>\n                <button onClick={() => handleUseTemplate(tmpl)}\n                  className=\"w-full py-1.5 bg-[var(--gold)]/20 text-[var(--gold)] rounded-lg text-xs font-bold hover:bg-[var(--gold)]/30 transition-colors\">\n                  Usar Plantilla\n                </button>\n              </motion.div>\n            ))}\n          </div>\n\n          {/* Saved preset strategies */}\n          {presetStrategies.length > 0 && (\n            <div className=\"space-y-2\">\n              <h3 className=\"text-sm font-bold\">Guardadas ({presetStrategies.length})</h3>\n              {presetStrategies.map(strat => (\n                <div key={strat.id} className=\"bg-[var(--dark-2)] border border-[var(--border)] rounded-xl p-4 flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-bold\">{strat.name}</p>\n                    <p className=\"text-xs text-[var(--text-dim)]\">\n                      {strat.entry?.condition} | SL: {strat.stopLoss}% | TP: {strat.takeProfit}%\n                    </p>\n                  </div>\n                  <div className=\"flex gap-2 flex-wrap\">\n                    <button onClick={() => setPage('bots')}\n                      className=\"px-3 py-1.5 bg-[var(--green)]/20 text-[var(--green)] rounded-lg text-xs font-bold\">\n                      <Play size={12} className=\"inline mr-1\" /> Usar en Bot\n                    </button>\n                    <button onClick={() => removeStrategy(strat.id)} className=\"p-1.5 text-[var(--text-dim)] hover:text-[var(--red)]\">\n                      <Trash2 size={14} />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </motion.div>\n      )}\n\n      {/* Strategy Editor Modal */}\n      <AnimatePresence>\n        {showEditor && (\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}\n            className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\n            style={{ background: 'rgba(0,0,0,0.7)', backdropFilter: 'blur(8px)' }}\n            onClick={() => { setShowEditor(false); setEditingStrategy(null); }}>\n            <motion.div initial={{ scale: 0.95, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.95, opacity: 0 }}\n              className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\"\n              onClick={(e) => e.stopPropagation()}>\n              <StrategyEditor\n                initialCode={editingStrategy?.code}\n                initialName={editingStrategy?.name}\n                editMode={!!editingStrategy}\n                onClose={() => { setShowEditor(false); setEditingStrategy(null); }}\n                onSave={(strategy) => {\n                  addStrategy(strategy);\n                  setShowEditor(false);\n                  setEditingStrategy(null);\n                }}\n              />\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"names":["PRESET_TEMPLATES","StrategyBuilder","strategies","addStrategy","removeStrategy","setPage","useStore","showEditor","setShowEditor","useState","editingStrategy","setEditingStrategy","activeTab","setActiveTab","customStrategies","presetStrategies","handleUseTemplate","template","handleEditStrategy","strategy","jsxs","jsx","Code2","Zap","motion","step","title","desc","color","strat","_a","l","Edit3","Play","Trash2","tmpl","i","AnimatePresence","e","StrategyEditor"],"mappings":"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"}