import{a as r,j as e,o as I,m as x,h as te,X as F,W as $,Z as Ge,S as H,am as A,V as ae,Y as M,ay as Qe,al as me,av as qe,aR as Pe,aS as Ze,z as Xe,s as Ye,au as Y,ap as ce,w as se,I as et,y as de,N as tt,O as st,a7 as at,a6 as rt}from"./ui-CUucduZ3.js";import{u as oe,k as lt,d as Ee,K as B,W as xe,l as $e,s as Fe,m as it}from"./index-BhWCJaKV.js";import{initWCClient as De,setCallbacks as nt,connect as ot,getConnectedAccount as ee,disconnect as Te}from"./walletConnectDApp-DdyjF_hI.js";import{C as Oe,f as ue,J as Be,p as ct}from"./provider-jsonrpc-BbN4VmB_.js";import"./vendor-B3xyLMQT.js";function dt({value:t,size:s=200}){return e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-48 h-48 rounded-2xl bg-white flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #fff 0%, #f3f4f6 100%)"},children:e.jsx(Ze,{className:"w-20 h-20 text-gray-400"})}),e.jsx("p",{className:"text-xs text-gray-500 text-center max-w-[240px]",children:"Copia el URI y pégalo en Kairos Wallet → WalletConnect"})]})}function xt({isOpen:t,onClose:s,onConnected:i}){var d,V,J,G,D;const[c,l]=r.useState("idle"),[n,p]=r.useState(""),[h,k]=r.useState(!1),[y,w]=r.useState(""),[f,j]=r.useState(null),R=r.useRef(null);r.useEffect(()=>{t&&(De().then(()=>{const m=ee();m&&(j(m),l("connected"))}).catch(()=>{}),nt({onDisconnect:()=>{j(null),l("idle"),i&&i(null)},onReconnect:m=>{const N=ee();N&&(j(N),l("connected"),i&&i(N))}}))},[t]);const K=r.useCallback(async()=>{var m,N;l("generating"),w("");try{const{uri:g,waitForApproval:Q}=await ot();p(g),l("waiting"),R.current=Q;const ge=await Q(),T=ee();j(T),l("connected"),i&&i(T)}catch(g){(m=g==null?void 0:g.message)!=null&&m.includes("rejected")||(N=g==null?void 0:g.message)!=null&&N.includes("expired")?w("Conexión rechazada o expirada. Intenta de nuevo."):w((g==null?void 0:g.message)||"Error al conectar"),l("error")}},[i]),S=r.useCallback(async()=>{await Te(),j(null),l("idle"),i&&i(null)},[i]),v=r.useCallback(async()=>{try{await navigator.clipboard.writeText(n),k(!0),setTimeout(()=>k(!1),2e3)}catch{}},[n]),P=r.useCallback(()=>{const m=n?`https://kairos-wallet.netlify.app?wc=${encodeURIComponent(n)}`:"https://kairos-wallet.netlify.app";window.open(m,"_blank")},[n]);return t?e.jsx(I,{children:e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:s,children:e.jsxs(x.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25},className:"bg-[#0C0D10] border border-white/10 rounded-2xl w-full max-w-md overflow-hidden",onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Conectar Wallet"})]}),e.jsx("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"p-5",children:e.jsxs(I,{mode:"wait",children:[c==="idle"&&e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Conecta tu Kairos Wallet u otra wallet compatible para firmar transacciones on-chain de forma segura."}),e.jsxs("button",{onClick:K,className:"w-full flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-purple-500/10 to-blue-500/10 border border-purple-500/20 hover:border-purple-500/40 transition-all group",children:[e.jsxs("div",{className:"w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center shrink-0",children:[e.jsx("img",{src:"https://kairos-wallet.netlify.app/icons/logo-128.png",alt:"Kairos Wallet",className:"w-8 h-8 rounded-lg",onError:m=>{m.target.style.display="none",m.target.nextSibling.style.display="flex"}}),e.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/30 items-center justify-center hidden",children:e.jsx($,{className:"w-5 h-5 text-purple-400"})})]}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-white group-hover:text-purple-300 transition-colors",children:"Kairos Wallet"}),e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-purple-500/20 text-purple-300 font-medium",children:"Recomendado"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Multi-chain · AES-256 · WalletConnect v2"})]}),e.jsx(Ge,{className:"w-4 h-4 text-purple-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsxs("button",{onClick:K,className:"w-full flex items-center gap-4 p-4 rounded-xl bg-white/[0.02] border border-white/5 hover:border-white/15 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center shrink-0",children:e.jsx(te,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"font-semibold text-white group-hover:text-blue-300 transition-colors",children:"WalletConnect"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"MetaMask, Trust Wallet, Rainbow y más"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3 px-1",children:[e.jsx(H,{className:"w-3.5 h-3.5 text-green-500/60"}),e.jsx("p",{className:"text-[11px] text-gray-600",children:"Tu clave privada nunca sale de tu wallet. Trade solo envía solicitudes de firma."})]})]},"idle"),c==="generating"&&e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center py-8 gap-4",children:[e.jsx(A,{className:"w-10 h-10 text-blue-400 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Generando conexión segura..."})]},"generating"),c==="waiting"&&e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center gap-4",children:[e.jsx(dt,{value:n}),e.jsxs("div",{className:"w-full flex items-center gap-2 bg-white/5 rounded-lg p-2",children:[e.jsx("code",{className:"flex-1 text-[10px] text-gray-400 truncate font-mono",children:n}),e.jsx("button",{onClick:v,className:"shrink-0 p-1.5 rounded-md hover:bg-white/10 transition-colors",children:h?e.jsx(ae,{className:"w-4 h-4 text-green-400"}):e.jsx(M,{className:"w-4 h-4 text-gray-400"})})]}),e.jsxs("button",{onClick:P,className:"w-full flex items-center justify-center gap-2 py-3 rounded-xl bg-purple-600 hover:bg-purple-500 text-white font-medium transition-colors",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Abrir Kairos Wallet",e.jsx(me,{className:"w-3.5 h-3.5 opacity-60"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-3.5 h-3.5 text-blue-400 animate-spin"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Esperando aprobación en tu wallet..."})]})]},"waiting"),c==="connected"&&f&&e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-green-500/10 border border-green-500/20",children:[e.jsx(qe,{className:"w-8 h-8 text-green-400 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-300",children:"Wallet Conectada"}),e.jsx("p",{className:"text-xs text-green-400/60 mt-0.5",children:f.peerName})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/[0.03] border border-white/5",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold text-sm",children:(d=f.address)==null?void 0:d.slice(2,4).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-mono text-white truncate",children:f.address}),e.jsxs("p",{className:"text-xs text-gray-500",children:[((V=f.chains)==null?void 0:V.length)||1," cadena",((J=f.chains)==null?void 0:J.length)>1?"s":""," conectada",((G=f.chains)==null?void 0:G.length)>1?"s":""]})]}),e.jsx("button",{onClick:()=>v(),className:"p-1.5 rounded-md hover:bg-white/10",children:e.jsx(M,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:(D=f.chains)==null?void 0:D.map(m=>e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-white/5 text-gray-400",children:{56:"BSC",1:"Ethereum",137:"Polygon",42161:"Arbitrum",43114:"Avalanche",8453:"Base"}[m]||`Chain ${m}`},m))}),e.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-xl border border-red-500/20 text-red-400 hover:bg-red-500/10 transition-colors text-sm",children:[e.jsx(Pe,{className:"w-4 h-4"}),"Desconectar"]})]},"connected"),c==="error"&&e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center gap-4 py-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center",children:e.jsx(F,{className:"w-8 h-8 text-red-400"})}),e.jsx("p",{className:"text-sm text-red-400 text-center",children:y}),e.jsx("button",{onClick:()=>{l("idle"),w("")},className:"px-6 py-2 rounded-lg bg-white/10 text-white text-sm hover:bg-white/15 transition-colors",children:"Intentar de nuevo"})]},"error")]})})]})})}):null}function pt(t,s=200){const i=encodeURIComponent(t);return`https://api.qrserver.com/v1/create-qr-code/?size=${s}x${s}&data=${i}&margin=8&format=svg`}function mt({value:t,size:s=192,className:i=""}){const[c,l]=r.useState(!1),[n,p]=r.useState(!1),h=pt(t,s);return n?e.jsx("div",{className:`flex items-center justify-center ${i}`,style:{width:s,height:s,background:"white",borderRadius:12},children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"text-2xl font-black text-blue-600 mb-1",children:"K"}),e.jsx("div",{className:"text-[8px] font-mono text-gray-500 break-all leading-tight",children:t})]})}):e.jsxs("div",{className:`relative flex items-center justify-center ${i}`,style:{width:s,height:s,background:"white",borderRadius:12},children:[!c&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white rounded-xl",children:e.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),e.jsx("img",{src:h,alt:"QR Code",width:s-16,height:s-16,onLoad:()=>l(!0),onError:()=>p(!0),style:{opacity:c?1:0,transition:"opacity 0.2s"}})]})}const C=[{id:56,name:"BNB Smart Chain",short:"BSC",color:"#F0B90B",rpc:"https://bsc-dataseed1.binance.org",rpcFallback:"https://bsc-dataseed2.binance.org",explorer:"https://bscscan.com",explorerApi:"https://api.bscscan.com/api",nativeSymbol:"BNB",nativeDecimals:18,apiKey:""},{id:8453,name:"Base",short:"Base",color:"#0052FF",rpc:"https://mainnet.base.org",rpcFallback:"https://base.publicnode.com",explorer:"https://basescan.org",explorerApi:"https://api.basescan.org/api",nativeSymbol:"ETH",nativeDecimals:18,apiKey:""},{id:42161,name:"Arbitrum One",short:"ARB",color:"#28A0F0",rpc:"https://arb1.arbitrum.io/rpc",rpcFallback:"https://arbitrum.publicnode.com",explorer:"https://arbiscan.io",explorerApi:"https://api.arbiscan.io/api",nativeSymbol:"ETH",nativeDecimals:18,apiKey:""},{id:137,name:"Polygon",short:"MATIC",color:"#8247E5",rpc:"https://polygon-rpc.com",rpcFallback:"https://polygon.publicnode.com",explorer:"https://polygonscan.com",explorerApi:"https://api.polygonscan.com/api",nativeSymbol:"POL",nativeDecimals:18,apiKey:""}],_e=["function balanceOf(address) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function decimals() view returns (uint8)","function symbol() view returns (string)"],pe=t=>t?`${t.slice(0,6)}...${t.slice(-4)}`:"",L=t=>{const s=parseFloat(t);return s===0?"0.00":s<.01?s.toFixed(6):s<1?s.toFixed(4):s<1e3?s.toFixed(2):s.toLocaleString(void 0,{maximumFractionDigits:2})},he=t=>{try{return new Be(t.rpc,t.id)}catch{return new Be(t.rpcFallback,t.id)}},ut=async(t,s)=>{try{const i=B.addresses[t.id];if(!i)return"0";const c=he(t),n=await new Oe(i,_e,c).balanceOf(s);return ue(n,B.decimals)}catch(i){return console.warn(`Failed to get KAIROS balance on ${t.short}:`,i.message),"0"}},ht=async(t,s)=>{try{const c=await he(t).getBalance(s);return ue(c,t.nativeDecimals)}catch{return"0"}},gt=async(t,s,i,c)=>{const l=B.addresses[t.id];if(!l)throw new Error(`KAIROS no está desplegado en ${t.name}`);const n=he(t),p=new xe(s,n),h=new Oe(l,_e,p),k=ct(c.toString(),B.decimals);return await h.transfer(i,k)},bt=async(t,s)=>{try{const i=B.addresses[t.id];if(!i)return[];const c=`${t.explorerApi}?module=account&action=tokentx&contractaddress=${i}&address=${s}&page=1&offset=10&sort=desc`,n=await(await fetch(c)).json();return n.status==="1"&&Array.isArray(n.result)?n.result.map(p=>({hash:p.hash,from:p.from,to:p.to,value:ue(p.value||"0",parseInt(p.tokenDecimal)||18),timestamp:parseInt(p.timeStamp)*1e3,chainId:t.id,chainShort:t.short,chainColor:t.color,isIncoming:p.to.toLowerCase()===s.toLowerCase()})):[]}catch{return[]}};function Ct(){var Ie,Re;const{user:t}=oe(),s=(t==null?void 0:t.walletAddress)||"",i=(t==null?void 0:t.role)==="admin",[c,l]=r.useState({}),[n,p]=r.useState(0),[h,k]=r.useState(!0),[y,w]=r.useState(!1),[f,j]=r.useState(!1),[R,K]=r.useState(!1),[S,v]=r.useState(!1),[P,d]=r.useState(!1),[V,J]=r.useState([]),[G,D]=r.useState(!1),[m,N]=r.useState(!1),[g,Q]=r.useState(!1),[ge,T]=r.useState(!1),[O,be]=r.useState(""),[fe,_]=r.useState(""),[ye,je]=r.useState(!1),q=r.useRef(null),[ve,Ne]=r.useState(!1),[Ue,re]=r.useState(!1),[le,ie]=r.useState(""),[we,ke]=r.useState(!1),[Se,W]=r.useState(""),[He,Z]=r.useState(!1),[U,ne]=r.useState(null);r.useEffect(()=>{De().then(()=>{const a=ee();a&&ne(a)}).catch(()=>{})},[]);const z=r.useMemo(()=>{try{const a=lt();if(a&&a.startsWith("0x"))return a;if(t!=null&&t.encryptedKey&&!t.encryptedKey.startsWith("v1:")){const o=atob(t.encryptedKey);if(o.startsWith("0x"))return o}const u=localStorage.getItem("kairos_trade_wallet");if(u){const{encryptedKey:o}=JSON.parse(u);if(o&&!o.startsWith("v1:")){const b=atob(o);if(b.startsWith("0x"))return b}}}catch{}return null},[t==null?void 0:t.encryptedKey]),X=r.useCallback(async()=>{if(!s)return;w(!0);const a={};let u=0;await Promise.all(C.map(async o=>{const[b,E]=await Promise.all([ut(o,s),ht(o,s)]);a[o.id]={kairos:b,native:E},u+=parseFloat(b)||0})),l(a),p(u),k(!1),w(!1)},[s]);r.useEffect(()=>{X()},[X]);const Le=r.useCallback(async()=>{if(!s)return;D(!0);const a=[];await Promise.all(C.map(async u=>{const o=await bt(u,s);a.push(...o)})),a.sort((u,o)=>o.timestamp-u.timestamp),J(a.slice(0,20)),D(!1)},[s]),Ce=r.useCallback(async a=>{try{await navigator.clipboard.writeText(a),j(!0),setTimeout(()=>j(!1),2e3)}catch{}},[]),Ae=async()=>{var a;if(O){je(!0),_("");try{(a=(await Ee.post("/auth/login",{email:t==null?void 0:t.email,password:O})).data)!=null&&a.success?(q.current=O,T(!0),be(""),setTimeout(()=>{T(!1),N(!1),q.current=null},6e4)):_("Contraseña incorrecta")}catch{_("Contraseña incorrecta")}finally{je(!1)}}},Me=async()=>{W("");const a=le.trim();if(!a.startsWith("0x")||a.length!==66){W("Private key inválida. Debe empezar con 0x y tener 66 caracteres.");return}const u=q.current;if(!u){W("Sesión de seguridad expirada. Desbloquea de nuevo.");return}ke(!0);try{const o=new xe(a),b=await $e(a,u);localStorage.setItem("kairos_trade_wallet",JSON.stringify({walletAddress:o.address,encryptedKey:b})),Fe(a),await fetch("https://kairos-api-u6k5.onrender.com/api/auth/update-key",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.accessToken}`},body:JSON.stringify({walletAddress:o.address,encryptedKey:b})});const{login:We}=oe.getState();We({...t,walletAddress:o.address,encryptedKey:b}),re(!1),ie("")}catch(o){W("Error al importar: "+o.message)}ke(!1)},[Ke,ze]=r.useState(!1),Ve=async()=>{const a=q.current||prompt("Ingresa tu contraseña para cifrar la wallet:");if(a){ze(!0);try{const u=xe.createRandom(),o=u.address,b=u.privateKey,E=await $e(b,a);localStorage.setItem("kairos_trade_wallet",JSON.stringify({walletAddress:o,encryptedKey:E})),Fe(b),await fetch("https://kairos-api-u6k5.onrender.com/api/auth/update-key",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.accessToken}`},body:JSON.stringify({walletAddress:o,encryptedKey:E})});const{login:Je}=oe.getState();Je({...t,walletAddress:o,encryptedKey:E})}catch(u){console.error("Failed to generate wallet:",u)}ze(!1)}};return s?e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-5 space-y-5",style:{maxWidth:"100%"},children:[e.jsxs(x.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--gold)]/15 flex items-center justify-center",children:e.jsx($,{size:22,className:"text-[var(--gold)]"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Kairos Wallet"}),i&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-[9px] font-bold uppercase tracking-wider",style:{background:"linear-gradient(135deg, #D4AF37, #B8972E)",color:"#0D0D0D"},children:"Admin"})]}),e.jsxs("button",{onClick:()=>Ce(s),className:"flex items-center gap-1.5 text-xs text-[var(--text-dim)] hover:text-[var(--gold)] transition-colors",children:[pe(s),f?e.jsx(ae,{size:10,className:"text-green-400"}):e.jsx(M,{size:10})]}),i&&e.jsx("p",{className:"text-[9px] text-[var(--gold)]/60 mt-0.5",children:"Wallet de comisiones — Kairos 777 Inc"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:X,disabled:y,className:"p-2 rounded-xl transition-all hover:bg-white/5",children:e.jsx(Xe,{size:16,className:`text-[var(--text-dim)] ${y?"animate-spin":""}`})}),e.jsxs("button",{onClick:async()=>{Ne(!0);try{const a=await Ee.post("/api/auth/cross-app-token",{target:"wallet"});a.success?window.open(`https://kairos-wallet.netlify.app?cat=${a.data.crossAppToken}`,"_blank"):window.open("https://kairos-wallet.netlify.app","_blank")}catch{window.open("https://kairos-wallet.netlify.app","_blank")}Ne(!1)},disabled:ve,className:"flex items-center gap-1.5 px-3 py-2 rounded-xl text-xs font-semibold text-[var(--gold)] transition-all hover:bg-[var(--gold)]/10 disabled:opacity-50",style:{border:"1px solid rgba(59,130,246,0.15)"},children:[ve?e.jsx(A,{size:12,className:"animate-spin"}):e.jsx(te,{size:12}),"Wallet Completa"]})]})]}),U&&e.jsxs(x.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"rounded-xl p-3.5 flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(168,85,247,0.08), rgba(59,130,246,0.04))",border:"1px solid rgba(168,85,247,0.15)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white text-[10px] font-bold",children:"WC"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold text-purple-300 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"}),U.peerName||"Wallet Externa"]}),e.jsxs("p",{className:"text-[10px] font-mono text-gray-500",children:[(Ie=U.address)==null?void 0:Ie.slice(0,6),"...",(Re=U.address)==null?void 0:Re.slice(-4)]})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("button",{onClick:()=>Z(!0),className:"px-2.5 py-1 rounded-lg text-[10px] font-semibold text-purple-300 hover:bg-purple-500/10 transition-colors",children:"Detalles"}),e.jsx("button",{onClick:async()=>{await Te(),ne(null)},className:"p-1.5 rounded-lg hover:bg-red-500/10 transition-colors",title:"Desconectar",children:e.jsx(Pe,{size:12,className:"text-red-400"})})]})]}),!U&&e.jsx(x.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"rounded-xl overflow-hidden cursor-pointer group",style:{border:"1px solid rgba(168,85,247,0.1)"},onClick:()=>Z(!0),children:e.jsxs("div",{className:"flex items-center gap-3 p-3.5 bg-white/[0.015] hover:bg-purple-500/5 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/10 flex items-center justify-center",children:e.jsx(te,{size:14,className:"text-purple-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-300 group-hover:text-purple-300 transition-colors",children:"Conectar Wallet Externa"}),e.jsx("p",{className:"text-[10px] text-gray-600",children:"Kairos Wallet, MetaMask, Trust Wallet via WalletConnect"})]}),e.jsx(Ye,{size:14,className:"text-gray-600 group-hover:text-purple-400 transition-colors"})]})}),e.jsx(xt,{isOpen:He,onClose:()=>Z(!1),onConnected:a=>{ne(a),a&&Z(!1)}}),e.jsxs(x.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05},className:"rounded-2xl p-6 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(59,130,246,0.08), rgba(59,130,246,0.02))",border:"1px solid rgba(59,130,246,0.12)"},children:[e.jsx("div",{className:"absolute -top-20 -right-20 w-60 h-60 rounded-full pointer-events-none",style:{background:"radial-gradient(circle, rgba(59,130,246,0.06), transparent)"}}),e.jsx("p",{className:"text-xs text-[var(--text-dim)] font-semibold uppercase tracking-wider mb-1",children:"Balance Total KAIROS"}),h?e.jsx("div",{className:"h-10 w-48 rounded-lg bg-white/5 animate-pulse"}):e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h2",{className:"text-4xl font-black text-white",children:L(n)}),e.jsx("span",{className:"text-sm font-bold text-[var(--gold)]",children:"KAIROS"})]}),e.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["≈ $",L(n)," USD ",e.jsx("span",{className:"text-[var(--text-dim)]/50",children:"(1 KAIROS = 1 USD)"})]}),e.jsxs("div",{className:"flex gap-3 mt-5",children:[i&&!z?e.jsxs("button",{onClick:()=>re(!0),className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold text-black transition-all hover:scale-[1.02]",style:{background:"linear-gradient(135deg, #D4AF37, #B8972E)",boxShadow:"0 4px 20px rgba(212,175,55,0.3)"},children:[e.jsx(Y,{size:16}),"Importar Wallet"]}):e.jsxs("button",{onClick:()=>K(!0),className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold text-white transition-all hover:scale-[1.02]",style:{background:"linear-gradient(135deg, #3B82F6, #2563EB)",boxShadow:"0 4px 20px rgba(59,130,246,0.2)"},children:[e.jsx(ce,{size:16}),"Enviar"]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold text-white transition-all hover:scale-[1.02]",style:{background:"rgba(0,220,130,0.15)",border:"1px solid rgba(0,220,130,0.2)"},children:[e.jsx(Y,{size:16,className:"text-[var(--green)]"}),e.jsx("span",{className:"text-[var(--green)]",children:"Recibir"})]}),e.jsxs("button",{onClick:()=>{d(!0),Le()},className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-sm font-bold text-[var(--text-dim)] transition-all hover:scale-[1.02] hover:text-white",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.06)"},children:[e.jsx(se,{size:16}),"Historial"]})]})]}),i&&e.jsx(x.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"rounded-xl p-4",style:{background:"linear-gradient(135deg, rgba(212,175,55,0.08), rgba(212,175,55,0.03))",border:"1px solid rgba(212,175,55,0.15)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(H,{size:18,className:"text-[var(--gold)] mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-[var(--gold)] mb-1",children:"Kairos Wallet — Administrador"}),e.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] leading-relaxed",children:[!s&&"No tienes wallet vinculada. Genera una nueva o importa una existente para operar.",s&&!z&&"Wallet vinculada. Importa tu clave privada para enviar transacciones.",s&&z&&"Wallet activa — puedes enviar, recibir y operar directamente desde Kairos 777."]})]})]})}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("h3",{className:"text-sm font-bold flex items-center gap-2",children:[e.jsx(H,{size:14,className:"text-[var(--gold)]"}),"Balances por Chain"]}),C.map((a,u)=>{const o=c[a.id]||{kairos:"0",native:"0"},b=parseFloat(o.kairos);return e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1+u*.05},className:"rounded-xl p-4 flex items-center justify-between transition-all hover:scale-[1.005]",style:{background:`linear-gradient(135deg, ${a.color}06, ${a.color}02)`,border:`1px solid ${a.color}15`},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-sm font-black",style:{background:`${a.color}15`,color:a.color},children:a.short.slice(0,2)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold",children:a.name}),e.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[L(o.native)," ",a.nativeSymbol]})]})]}),e.jsx("div",{className:"text-right",children:h?e.jsx("div",{className:"h-5 w-20 rounded bg-white/5 animate-pulse"}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm font-bold",style:{color:b>0?"white":"var(--text-dim)"},children:[L(o.kairos)," ",e.jsx("span",{className:"text-[10px] text-[var(--gold)]",children:"KAIROS"})]}),e.jsxs("a",{href:`${a.explorer}/token/${B.addresses[a.id]}?a=${s}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--gold)] transition-colors flex items-center gap-1 justify-end",children:["Ver en explorer ",e.jsx(me,{size:8})]})]})})]},a.id)})]}),z&&e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[e.jsxs("button",{onClick:()=>{Q(!g),N(!1),_("")},className:"w-full flex items-center justify-between rounded-xl px-4 py-3 transition-all hover:scale-[1.005]",style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{size:14,className:"text-[var(--text-dim)]"}),e.jsx("span",{className:"text-xs font-medium text-[var(--text-dim)]",children:"Seguridad Avanzada"})]}),e.jsx(et,{size:14,className:`text-[var(--text-dim)] transition-transform ${g?"rotate-180":""}`})]}),e.jsx(I,{children:g&&e.jsx(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"rounded-xl p-4 mt-2",style:{background:"linear-gradient(135deg, rgba(239,68,68,0.03), rgba(239,68,68,0.01))",border:"1px solid rgba(239,68,68,0.08)"},children:ge?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{size:14,className:"text-red-400"}),e.jsx("span",{className:"text-xs font-bold text-red-400/80",children:"Clave Privada"})]}),e.jsxs("button",{onClick:()=>N(!m),className:"flex items-center gap-1.5 px-2 py-1 rounded-lg text-[10px] font-semibold text-red-400/60 hover:text-red-400 transition-colors",style:{background:"rgba(239,68,68,0.06)"},children:[m?e.jsx(tt,{size:10}):e.jsx(st,{size:10}),m?"Ocultar":"Mostrar"]})]}),m&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 text-[10px] text-red-400/70 font-mono break-all bg-black/20 rounded-lg p-2",children:z}),e.jsx("button",{onClick:()=>Ce(z),className:"p-2 rounded-lg hover:bg-red-400/10",children:e.jsx(M,{size:12,className:"text-red-400/50"})})]}),e.jsx("p",{className:"text-[9px] text-red-400/30 mt-2",children:"⚠️ Nunca compartas tu clave privada."})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-3",children:"Ingresa tu contraseña para acceder a la clave privada."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"password",value:O,onChange:a=>{be(a.target.value),_("")},onKeyDown:a=>a.key==="Enter"&&Ae(),placeholder:"Contraseña",className:"flex-1 bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-white placeholder-white/20 focus:outline-none focus:border-[var(--gold)]/40"}),e.jsx("button",{onClick:Ae,disabled:ye||!O,className:"px-4 py-2 rounded-lg text-xs font-semibold transition-all disabled:opacity-30",style:{background:"rgba(239,68,68,0.15)",color:"rgba(239,68,68,0.8)"},children:ye?e.jsx(A,{size:12,className:"animate-spin"}):"Verificar"})]}),fe&&e.jsx("p",{className:"text-[10px] text-red-400 mt-2",children:fe})]})})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2.5",children:[e.jsxs("a",{href:"https://kairos-wallet.netlify.app",target:"_blank",rel:"noopener noreferrer",className:"rounded-xl p-4 text-left transition-all hover:scale-[1.02] block",style:{background:"rgba(59,130,246,0.05)",border:"1px solid rgba(59,130,246,0.1)"},children:[e.jsx($,{size:20,className:"text-[var(--gold)] mb-2"}),e.jsx("p",{className:"text-xs font-bold",children:"Kairos Wallet"}),e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:"Swap, Bridge, Staking, NFTs, WalletConnect"})]}),e.jsxs("a",{href:`${C[0].explorer}/address/${s}`,target:"_blank",rel:"noopener noreferrer",className:"rounded-xl p-4 text-left transition-all hover:scale-[1.02] block",style:{background:"rgba(240,185,11,0.04)",border:"1px solid rgba(240,185,11,0.1)"},children:[e.jsx(se,{size:20,className:"text-amber-400 mb-2"}),e.jsx("p",{className:"text-xs font-bold",children:"BSCScan"}),e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:"Ver todas las transacciones on-chain"})]})]}),e.jsx(I,{children:Ue&&e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(x.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-md rounded-2xl p-6",style:{background:"var(--bg-card)",border:"1px solid rgba(212,175,55,0.2)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(Y,{size:18,className:"text-[var(--gold)]"}),"Importar Wallet a Kairos"]}),e.jsx("button",{onClick:()=>{re(!1),ie(""),W("")},className:"p-1 rounded-lg hover:bg-white/10",children:e.jsx(F,{size:18})})]}),e.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-4 leading-relaxed",children:"Pega tu clave privada para vincular tu wallet existente como wallet nativa de Kairos. La PK se encripta y almacena de forma segura en tu dispositivo."}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider mb-1 block",children:"Private Key"}),e.jsx("input",{type:"password",value:le,onChange:a=>{ie(a.target.value),W("")},placeholder:"0x...",className:"w-full px-4 py-3 rounded-xl text-sm bg-white/5 border border-white/10 focus:border-[var(--gold)] focus:outline-none font-mono"})]}),Se&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400 mb-3",children:[e.jsx(de,{size:12})," ",Se]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-amber-400/80 mb-4 p-2 rounded-lg",style:{background:"rgba(255,191,0,0.06)"},children:[e.jsx(H,{size:12,className:"flex-shrink-0"}),e.jsx("span",{children:"Tu PK nunca se envía a ningún servidor. Se encripta localmente en tu navegador."})]}),e.jsx("button",{onClick:Me,disabled:we||!le.trim(),className:"w-full py-3 rounded-xl text-sm font-bold text-black transition-all hover:brightness-110 disabled:opacity-50 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #D4AF37, #B8972E)"},children:we?e.jsxs(e.Fragment,{children:[e.jsx(A,{size:16,className:"animate-spin"})," Importando..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{size:16})," Importar y Vincular"]})})]})})}),e.jsx(I,{children:R&&e.jsx(ft,{chains:C,walletAddress:s,privateKey:z,onClose:()=>K(!1),onSuccess:X})}),e.jsx(I,{children:S&&e.jsx(yt,{walletAddress:s,onClose:()=>v(!1)})}),e.jsx(I,{children:P&&e.jsx(jt,{history:V,loading:G,walletAddress:s,onClose:()=>d(!1)})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 max-w-sm",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[var(--gold)]/10 flex items-center justify-center mx-auto mb-4",children:e.jsx($,{size:28,className:"text-[var(--gold)]"})}),e.jsx("h2",{className:"text-lg font-bold mb-2",children:"Configura tu Wallet"}),e.jsx("p",{className:"text-sm text-[var(--text-dim)] mb-6",children:"Tu wallet KAIROS te permite recibir, enviar y operar con KAIROS en múltiples blockchains de forma segura."}),e.jsx("button",{onClick:Ve,disabled:Ke,className:"w-full py-3 rounded-xl text-sm font-bold text-black transition-all hover:brightness-110 disabled:opacity-50 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #D4AF37, #B8972E)"},children:Ke?e.jsxs(e.Fragment,{children:[e.jsx(A,{size:16,className:"animate-spin"})," Generando..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{size:16})," Generar Mi Wallet"]})}),e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-3",children:"Se creará una wallet segura con clave privada encriptada en tu dispositivo."})]})})}function ft({chains:t,walletAddress:s,privateKey:i,onClose:c,onSuccess:l}){const[n,p]=r.useState(t[0]),[h,k]=r.useState(""),[y,w]=r.useState(""),[f,j]=r.useState(!1),[R,K]=r.useState(null),[S,v]=r.useState(""),P=async()=>{if(v(""),!h||!it(h)){v("Dirección inválida");return}if(!y||parseFloat(y)<=0){v("Ingresa un monto válido");return}if(!i){v("No se encontró la clave privada");return}j(!0);try{const d=await gt(n,i,h,y);K(d.hash),l==null||l()}catch(d){v(d.reason||d.message||"Error al enviar transacción")}finally{j(!1)}};return e.jsx(x.div,{className:"fixed inset-0 z-[60] flex items-center justify-center px-4",style:{background:"rgba(0,0,0,0.7)",backdropFilter:"blur(10px)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(x.div,{className:"w-full max-w-md rounded-2xl p-6",style:{background:"var(--surface)",border:"1px solid var(--border)"},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(ce,{size:18,className:"text-[var(--gold)]"}),"Enviar KAIROS"]}),e.jsx("button",{onClick:c,className:"p-1.5 rounded-lg hover:bg-white/5",children:e.jsx(F,{size:16})})]}),R?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/15 flex items-center justify-center mx-auto mb-4",children:e.jsx(ae,{size:28,className:"text-green-400"})}),e.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:"¡Transacción Enviada!"}),e.jsxs("p",{className:"text-xs text-[var(--text-dim)] mb-4",children:["Tu transacción está siendo procesada en ",n.name]}),e.jsxs("a",{href:`${n.explorer}/tx/${R}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-semibold text-[var(--gold)] hover:bg-[var(--gold)]/10 transition-colors",style:{border:"1px solid rgba(59,130,246,0.15)"},children:["Ver en Explorer ",e.jsx(me,{size:12})]}),e.jsx("button",{onClick:c,className:"block w-full mt-4 py-3 rounded-xl text-sm font-bold text-white",style:{background:"linear-gradient(135deg, #3B82F6, #2563EB)"},children:"Cerrar"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-[var(--text-dim)] uppercase tracking-wider mb-1.5 block",children:"Red"}),e.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:t.map(d=>e.jsx("button",{onClick:()=>p(d),className:"flex items-center justify-center gap-1 py-2 rounded-lg text-[11px] font-bold transition-all",style:{background:n.id===d.id?`${d.color}20`:"rgba(255,255,255,0.03)",border:`1px solid ${n.id===d.id?d.color+"40":"rgba(255,255,255,0.06)"}`,color:n.id===d.id?d.color:"var(--text-dim)"},children:d.short},d.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-[var(--text-dim)] uppercase tracking-wider mb-1.5 block",children:"Dirección destino"}),e.jsx("input",{type:"text",value:h,onChange:d=>k(d.target.value),placeholder:"0x...",className:"w-full px-4 py-3 rounded-xl text-sm font-mono outline-none transition-all focus:ring-2 focus:ring-[var(--gold)]/30",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-[var(--text-dim)] uppercase tracking-wider mb-1.5 block",children:"Cantidad KAIROS"}),e.jsx("input",{type:"number",value:y,onChange:d=>w(d.target.value),placeholder:"0.00",className:"w-full px-4 py-3 rounded-xl text-sm outline-none transition-all focus:ring-2 focus:ring-[var(--gold)]/30",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"}})]}),S&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl text-xs text-red-400",style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.15)"},children:[e.jsx(de,{size:12}),typeof S=="string"?S:String(S)]}),e.jsx("button",{onClick:P,disabled:f,className:"w-full py-3.5 rounded-xl text-sm font-bold text-white transition-all hover:scale-[1.01] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #3B82F6, #2563EB)",boxShadow:"0 4px 20px rgba(59,130,246,0.2)"},children:f?e.jsxs(e.Fragment,{children:[e.jsx(A,{size:16,className:"animate-spin"})," Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{size:16})," Enviar ",y?`${y} KAIROS`:"KAIROS"]})}),e.jsxs("p",{className:"text-[9px] text-[var(--text-dim)]/50 text-center",children:["Necesitas ",n.nativeSymbol," en ",n.name," para pagar el gas"]})]})]})})}function yt({walletAddress:t,onClose:s}){const[i,c]=r.useState(!1),l=async()=>{try{await navigator.clipboard.writeText(t),c(!0),setTimeout(()=>c(!1),2e3)}catch{}};return e.jsx(x.div,{className:"fixed inset-0 z-[60] flex items-center justify-center px-4",style:{background:"rgba(0,0,0,0.7)",backdropFilter:"blur(10px)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(x.div,{className:"w-full max-w-sm rounded-2xl p-6 text-center",style:{background:"var(--surface)",border:"1px solid var(--border)"},initial:{scale:.9},animate:{scale:1},exit:{scale:.9},children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(Y,{size:18,className:"text-green-400"}),"Recibir KAIROS"]}),e.jsx("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-white/5",children:e.jsx(F,{size:16})})]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(mt,{value:t,size:192,className:"shadow-lg"})}),e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-3",children:"Envía KAIROS a esta dirección en cualquier chain soportada"}),e.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-mono transition-all hover:bg-white/5",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[e.jsx("span",{className:"truncate",children:t}),i?e.jsx(ae,{size:14,className:"text-green-400 shrink-0"}):e.jsx(M,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:C.map(n=>e.jsx("div",{className:"px-2 py-1 rounded-md text-[9px] font-bold",style:{background:`${n.color}15`,color:n.color},children:n.short},n.id))})]})})}function jt({history:t,loading:s,walletAddress:i,onClose:c}){return e.jsx(x.div,{className:"fixed inset-0 z-[60] flex items-center justify-center px-4",style:{background:"rgba(0,0,0,0.7)",backdropFilter:"blur(10px)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(x.div,{className:"w-full max-w-lg rounded-2xl overflow-hidden",style:{background:"var(--surface)",border:"1px solid var(--border)",maxHeight:"80vh"},initial:{scale:.9},animate:{scale:1},exit:{scale:.9},children:[e.jsxs("div",{className:"flex items-center justify-between p-5",style:{borderBottom:"1px solid var(--border)"},children:[e.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(se,{size:18,className:"text-[var(--gold)]"}),"Historial KAIROS"]}),e.jsx("button",{onClick:c,className:"p-1.5 rounded-lg hover:bg-white/5",children:e.jsx(F,{size:16})})]}),e.jsxs("div",{className:"overflow-y-auto p-4 space-y-2",style:{maxHeight:"calc(80vh - 70px)"},children:[s&&e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(A,{size:24,className:"animate-spin text-[var(--gold)] mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cargando transacciones..."})]}),!s&&t.length===0&&e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(se,{size:32,className:"text-[var(--text-dim)]/30 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-[var(--text-dim)]",children:"No hay transacciones aún"})]}),!s&&t.map((l,n)=>{const p=C.find(h=>h.id===l.chainId)||C[0];return e.jsxs("a",{href:`${p.explorer}/tx/${l.hash}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-xl transition-all hover:bg-white/[0.03]",style:{border:"1px solid rgba(255,255,255,0.04)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center",style:{background:l.isIncoming?"rgba(0,220,130,0.1)":"rgba(59,130,246,0.1)"},children:l.isIncoming?e.jsx(at,{size:16,className:"text-green-400"}):e.jsx(rt,{size:16,className:"text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold",children:[l.isIncoming?"Recibido":"Enviado",e.jsx("span",{className:"ml-1.5 text-[9px] font-semibold px-1.5 py-0.5 rounded",style:{background:`${p.color}15`,color:p.color},children:p.short})]}),e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] font-mono",children:l.isIncoming?`de ${pe(l.from)}`:`a ${pe(l.to)}`})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-xs font-bold ${l.isIncoming?"text-green-400":"text-white"}`,children:[l.isIncoming?"+":"-",L(l.value)," KAIROS"]}),e.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:new Date(l.timestamp).toLocaleDateString("es",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]})]},`${l.hash}-${n}`)})]})]})})}export{Ct as default};
//# sourceMappingURL=WalletPage-VTPPm--T.js.map
