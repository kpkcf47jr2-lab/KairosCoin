{"version":3,"file":"TradingPanel-dolX05A5.js","sources":["../../src/components/Trading/TradingPanel.jsx"],"sourcesContent":["// Kairos Trade — Trading Panel (Premium v2)\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { DollarSign, TrendingUp, TrendingDown, Target, Shield, ChevronDown } from 'lucide-react';\nimport useStore from '../../store/useStore';\nimport marketData from '../../services/marketData';\nimport { toApiPair, getBase, QUOTE } from '../../utils/pairUtils';\n\nexport default function TradingPanel() {\n  const { selectedPair, currentPrice, positions, orders, addPosition, addOrder, closePosition, cancelOrder } = useStore();\n  const [side, setSide] = useState('buy');\n  const [orderType, setOrderType] = useState('market');\n  const [form, setForm] = useState({ quantity: '', price: '', stopLoss: '', takeProfit: '' });\n  const [orderBook, setOrderBook] = useState({ bids: [], asks: [] });\n  const [tab, setTab] = useState('order');\n\n  useEffect(() => {\n    loadOrderBook();\n    const interval = setInterval(loadOrderBook, 5000);\n    return () => clearInterval(interval);\n  }, [selectedPair]);\n\n  const loadOrderBook = async () => {\n    try {\n      const ob = await marketData.getOrderBook(toApiPair(selectedPair), 10);\n      setOrderBook(ob);\n    } catch {}\n  };\n\n  const handleSubmit = () => {\n    if (!form.quantity) return;\n    const price = orderType === 'market' ? currentPrice : parseFloat(form.price);\n    if (!price) return;\n\n    if (orderType === 'market') {\n      addPosition({\n        symbol: selectedPair,\n        side,\n        quantity: parseFloat(form.quantity),\n        entryPrice: price,\n        stopLoss: form.stopLoss ? parseFloat(form.stopLoss) : null,\n        takeProfit: form.takeProfit ? parseFloat(form.takeProfit) : null,\n        openedAt: new Date().toISOString(),\n      });\n    } else {\n      addOrder({\n        symbol: selectedPair,\n        side,\n        type: orderType,\n        quantity: parseFloat(form.quantity),\n        price,\n        stopLoss: form.stopLoss ? parseFloat(form.stopLoss) : null,\n        takeProfit: form.takeProfit ? parseFloat(form.takeProfit) : null,\n        status: 'open',\n        createdAt: new Date().toISOString(),\n      });\n    }\n\n    setForm({ quantity: '', price: '', stopLoss: '', takeProfit: '' });\n  };\n\n  const total = parseFloat(form.quantity || 0) * (orderType === 'market' ? (currentPrice || 0) : parseFloat(form.price || 0));\n\n  return (\n    <div className=\"flex flex-col h-full\" style={{ width: 320, borderLeft: '1px solid rgba(30,34,45,0.6)' }}>\n      {/* Paper Trading Badge */}\n      <div className=\"flex items-center justify-center gap-1.5 py-1.5 shrink-0\"\n        style={{ background: 'rgba(245,158,11,0.08)', borderBottom: '1px solid rgba(245,158,11,0.15)' }}>\n        <div className=\"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse\" />\n        <span className=\"text-[10px] font-bold text-amber-400 tracking-wider uppercase\">Simulador — Paper Trading</span>\n      </div>\n      {/* Tabs */}\n      <div className=\"flex shrink-0 px-2 pt-2 gap-1\"\n        style={{ borderBottom: '1px solid rgba(30,34,45,0.4)' }}>\n        {['order', 'positions', 'orders'].map(t => (\n          <button\n            key={t}\n            onClick={() => setTab(t)}\n            className={`flex-1 py-2.5 text-[11px] font-bold rounded-t-lg transition-all\n              ${tab === t\n                ? 'text-[var(--gold)] bg-[var(--gold)]/[0.06]'\n                : 'text-[var(--text-dim)] hover:text-[var(--text)]'\n              }`}\n            style={tab === t ? { borderBottom: '2px solid var(--gold)' } : { borderBottom: '2px solid transparent' }}\n          >\n            {t === 'order' ? 'Orden' : t === 'positions' ? `Pos (${positions.length})` : `Órd (${orders.length})`}\n          </button>\n        ))}\n      </div>\n\n      {tab === 'order' && (\n        <div className=\"flex-1 overflow-y-auto p-3 space-y-3\">\n          {/* Buy/Sell toggle */}\n          <div className=\"flex gap-1 p-1 rounded-xl\"\n            style={{ background: 'rgba(24,26,32,0.8)', border: '1px solid rgba(30,34,45,0.4)' }}>\n            <button\n              onClick={() => setSide('buy')}\n              className={`flex-1 py-2.5 text-sm font-bold rounded-lg transition-all duration-200\n                ${side === 'buy' ? 'text-white shadow-lg' : 'text-[var(--text-dim)]'}`}\n              style={side === 'buy' ? { background: 'linear-gradient(135deg, #0ECB81, #0AA06A)', boxShadow: '0 4px 12px rgba(14,203,129,0.25)' } : {}}\n            >\n              Comprar\n            </button>\n            <button\n              onClick={() => setSide('sell')}\n              className={`flex-1 py-2.5 text-sm font-bold rounded-lg transition-all duration-200\n                ${side === 'sell' ? 'text-white shadow-lg' : 'text-[var(--text-dim)]'}`}\n              style={side === 'sell' ? { background: 'linear-gradient(135deg, #F6465D, #D32F4A)', boxShadow: '0 4px 12px rgba(246,70,93,0.25)' } : {}}\n            >\n              Vender\n            </button>\n          </div>\n\n          {/* Order type */}\n          <div className=\"flex gap-1 p-1 rounded-lg bg-[var(--dark-3)]\">\n            {['market', 'limit', 'stop_loss'].map(type => (\n              <button\n                key={type}\n                onClick={() => setOrderType(type)}\n                className={`flex-1 py-1.5 text-[10px] font-bold rounded-md transition-all\n                  ${orderType === type\n                    ? 'bg-[var(--dark-4)] text-[var(--text)] shadow-sm'\n                    : 'text-[var(--text-dim)] hover:text-[var(--text)]'\n                  }`}\n              >\n                {type === 'market' ? 'Market' : type === 'limit' ? 'Límite' : 'Stop'}\n              </button>\n            ))}\n          </div>\n\n          {/* Price (for limit/stop) */}\n          {orderType !== 'market' && (\n            <div>\n              <label className=\"text-[10px] text-[var(--text-dim)] mb-1 block font-semibold uppercase tracking-wider\">Precio</label>\n              <input\n                type=\"number\"\n                value={form.price}\n                onChange={(e) => setForm({ ...form, price: e.target.value })}\n                placeholder={currentPrice?.toString()}\n                className=\"w-full text-sm\"\n              />\n            </div>\n          )}\n\n          {/* Quantity */}\n          <div>\n            <label className=\"text-[10px] text-[var(--text-dim)] mb-1 block font-semibold uppercase tracking-wider\">Cantidad</label>\n            <input\n              type=\"number\"\n              value={form.quantity}\n              onChange={(e) => setForm({ ...form, quantity: e.target.value })}\n              placeholder=\"0.001\"\n              className=\"w-full text-sm\"\n            />\n            <div className=\"flex gap-1 mt-1.5\">\n              {[25, 50, 75, 100].map(pct => (\n                <button\n                  key={pct}\n                  onClick={() => {\n                    // Calculate quantity based on an assumed balance of $10,000 for demo\n                    const price = orderType === 'market' ? currentPrice : parseFloat(form.price) || currentPrice;\n                    if (price) {\n                      const balance = 10000; // Demo balance\n                      const qty = (balance * (pct / 100)) / price;\n                      setForm({ ...form, quantity: qty.toFixed(6) });\n                    }\n                  }}\n                  className=\"flex-1 py-1.5 text-[10px] font-semibold rounded-md text-[var(--text-dim)] hover:text-[var(--gold)] hover:border-[var(--gold)]/30 transition-all\"\n                  style={{ background: 'rgba(14,16,21,0.6)', border: '1px solid var(--border)' }}\n                >\n                  {pct}%\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Stop Loss / Take Profit */}\n          <div className=\"grid grid-cols-2 gap-2\">\n            <div>\n              <label className=\"text-[10px] text-[var(--text-dim)] mb-1 flex items-center gap-1 font-semibold uppercase tracking-wider\">\n                <Shield size={9} className=\"text-[var(--red)]\" /> SL\n              </label>\n              <input\n                type=\"number\"\n                value={form.stopLoss}\n                onChange={(e) => setForm({ ...form, stopLoss: e.target.value })}\n                placeholder=\"Precio\"\n                className=\"w-full text-xs\"\n              />\n            </div>\n            <div>\n              <label className=\"text-[10px] text-[var(--text-dim)] mb-1 flex items-center gap-1 font-semibold uppercase tracking-wider\">\n                <Target size={9} className=\"text-[var(--green)]\" /> TP\n              </label>\n              <input\n                type=\"number\"\n                value={form.takeProfit}\n                onChange={(e) => setForm({ ...form, takeProfit: e.target.value })}\n                placeholder=\"Precio\"\n                className=\"w-full text-xs\"\n              />\n            </div>\n          </div>\n\n          {/* Total */}\n          <div className=\"rounded-lg p-3 flex items-center justify-between\"\n            style={{ background: 'rgba(24,26,32,0.6)', border: '1px solid rgba(30,34,45,0.4)' }}>\n            <span className=\"text-[10px] text-[var(--text-dim)] font-semibold uppercase tracking-wider\">Total</span>\n            <span className=\"text-sm font-mono font-bold\">${total.toFixed(2)}</span>\n          </div>\n\n          {/* Submit */}\n          <button\n            onClick={handleSubmit}\n            disabled={!form.quantity}\n            className=\"w-full py-3.5 font-bold rounded-xl text-sm transition-all duration-200 disabled:opacity-40 text-white\"\n            style={side === 'buy'\n              ? { background: 'linear-gradient(135deg, #0ECB81, #0AA06A)', boxShadow: '0 4px 15px rgba(14,203,129,0.25)' }\n              : { background: 'linear-gradient(135deg, #F6465D, #D32F4A)', boxShadow: '0 4px 15px rgba(246,70,93,0.25)' }\n            }\n          >\n            {side === 'buy' ? 'Comprar' : 'Vender'} {getBase(selectedPair)}\n          </button>\n\n          {/* Mini order book */}\n          <div className=\"rounded-xl p-3\"\n            style={{ background: 'rgba(24,26,32,0.6)', border: '1px solid rgba(30,34,45,0.4)' }}>\n            <p className=\"text-[10px] text-[var(--text-dim)] mb-2 font-bold uppercase tracking-wider\">Order Book</p>\n            <div className=\"space-y-[2px] text-[10px] font-mono\">\n              {orderBook.asks.slice(0, 5).reverse().map((a, i) => (\n                <div key={`a${i}`} className=\"flex justify-between text-[var(--red)] py-0.5 px-1 rounded hover:bg-[var(--red)]/[0.04]\">\n                  <span>${a.price.toFixed(2)}</span>\n                  <span className=\"text-[var(--text-dim)]\">{a.quantity.toFixed(4)}</span>\n                </div>\n              ))}\n              <div className=\"text-center py-1.5 text-[15px] font-bold text-[var(--gold)] my-1\"\n                style={{ background: 'rgba(59,130,246,0.04)', borderRadius: '6px' }}>\n                ${currentPrice?.toLocaleString(undefined, { minimumFractionDigits: 2 }) || '---'}\n              </div>\n              {orderBook.bids.slice(0, 5).map((b, i) => (\n                <div key={`b${i}`} className=\"flex justify-between text-[var(--green)] py-0.5 px-1 rounded hover:bg-[var(--green)]/[0.04]\">\n                  <span>${b.price.toFixed(2)}</span>\n                  <span className=\"text-[var(--text-dim)]\">{b.quantity.toFixed(4)}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Positions tab */}\n      {tab === 'positions' && (\n        <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\n          {positions.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <DollarSign size={32} className=\"mx-auto text-[var(--text-dim)]/20 mb-2\" />\n              <p className=\"text-sm text-[var(--text-dim)]\">Sin posiciones abiertas</p>\n            </div>\n          ) : positions.map(pos => {\n            const pnl = pos.side === 'buy'\n              ? (currentPrice - pos.entryPrice) * pos.quantity\n              : (pos.entryPrice - currentPrice) * pos.quantity;\n            return (\n              <div key={pos.id} className=\"rounded-xl p-3\"\n                style={{\n                  background: 'linear-gradient(135deg, rgba(17,19,24,0.8), rgba(24,26,32,0.6))',\n                  border: `1px solid ${pnl >= 0 ? 'rgba(14,203,129,0.1)' : 'rgba(246,70,93,0.1)'}`,\n                }}>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-xs font-bold\">{pos.symbol}</span>\n                  <span className={`text-[10px] font-bold px-2 py-0.5 rounded-md ${pos.side === 'buy' ? 'text-[var(--green)] bg-[var(--green)]/[0.08]' : 'text-[var(--red)] bg-[var(--red)]/[0.08]'}`}>\n                    {pos.side.toUpperCase()}\n                  </span>\n                </div>\n                <div className=\"flex justify-between text-[10px] text-[var(--text-dim)] mb-2\">\n                  <span>Entrada: ${pos.entryPrice}</span>\n                  <span className={`font-bold ${pnl >= 0 ? 'text-[var(--green)]' : 'text-[var(--red)]'}`}>\n                    P&L: {pnl >= 0 ? '+' : ''}${pnl.toFixed(2)}\n                  </span>\n                </div>\n                <button\n                  onClick={() => closePosition(pos.id)}\n                  className=\"w-full py-1.5 rounded-lg text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--red)] transition-all\"\n                  style={{ background: 'rgba(24,26,32,0.6)', border: '1px solid rgba(30,34,45,0.4)' }}\n                >\n                  Cerrar Posición\n                </button>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Orders tab */}\n      {tab === 'orders' && (\n        <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\n          {orders.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <DollarSign size={32} className=\"mx-auto text-[var(--text-dim)]/20 mb-2\" />\n              <p className=\"text-sm text-[var(--text-dim)]\">Sin órdenes pendientes</p>\n            </div>\n          ) : orders.map(order => (\n            <div key={order.id} className=\"rounded-xl p-3\"\n              style={{\n                background: 'linear-gradient(135deg, rgba(17,19,24,0.8), rgba(24,26,32,0.6))',\n                border: '1px solid rgba(30,34,45,0.5)',\n              }}>\n              <div className=\"flex items-center justify-between mb-1\">\n                <span className=\"text-xs font-bold\">{order.symbol}</span>\n                <span className={`text-[10px] font-bold ${order.side === 'buy' ? 'text-[var(--green)]' : 'text-[var(--red)]'}`}>\n                  {order.side.toUpperCase()} {order.type}\n                </span>\n              </div>\n              <div className=\"text-[10px] text-[var(--text-dim)] mb-2\">\n                Precio: ${order.price} | Cantidad: {order.quantity}\n              </div>\n              <button\n                onClick={() => cancelOrder(order.id)}\n                className=\"w-full py-1.5 rounded-lg text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--red)] transition-all\"\n                style={{ background: 'rgba(24,26,32,0.6)', border: '1px solid rgba(30,34,45,0.4)' }}\n              >\n                Cancelar\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["TradingPanel","selectedPair","currentPrice","positions","orders","addPosition","addOrder","closePosition","cancelOrder","useStore","side","setSide","useState","orderType","setOrderType","form","setForm","orderBook","setOrderBook","tab","setTab","useEffect","loadOrderBook","interval","ob","marketData","toApiPair","handleSubmit","price","total","jsxs","jsx","type","e","pct","qty","Shield","Target","getBase","a","i","b","DollarSign","pos","pnl","order"],"mappings":"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"}