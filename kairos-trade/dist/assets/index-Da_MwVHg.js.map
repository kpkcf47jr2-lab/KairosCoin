{"version":3,"file":"index-Da_MwVHg.js","sources":["../../node_modules/ethers/lib.esm/constants/numbers.js","../../node_modules/ethers/lib.esm/crypto/index.js","../../node_modules/ethers/lib.esm/hash/solidity.js","../../node_modules/ethers/lib.esm/abi/bytes32.js","../../node_modules/ethers/lib.esm/contract/factory.js","../../node_modules/ethers/lib.esm/providers/community.js","../../node_modules/ethers/lib.esm/providers/provider-ankr.js","../../node_modules/ethers/lib.esm/providers/provider-alchemy.js","../../node_modules/ethers/lib.esm/providers/provider-chainstack.js","../../node_modules/ethers/lib.esm/providers/provider-cloudflare.js","../../node_modules/ethers/lib.esm/providers/provider-etherscan.js","../../node_modules/ethers/lib.esm/providers/ws-browser.js","../../node_modules/ethers/lib.esm/providers/provider-socket.js","../../node_modules/ethers/lib.esm/providers/provider-websocket.js","../../node_modules/ethers/lib.esm/providers/provider-infura.js","../../node_modules/ethers/lib.esm/providers/provider-quicknode.js","../../node_modules/ethers/lib.esm/providers/provider-fallback.js","../../node_modules/ethers/lib.esm/providers/default-provider.js","../../node_modules/ethers/lib.esm/providers/signer-noncemanager.js","../../node_modules/ethers/lib.esm/providers/provider-browser.js","../../node_modules/ethers/lib.esm/providers/provider-blockscout.js","../../node_modules/ethers/lib.esm/providers/provider-pocket.js","../../node_modules/ethers/lib.esm/providers/provider-ipcsocket-browser.js","../../node_modules/ethers/lib.esm/wordlists/bit-reader.js","../../node_modules/ethers/lib.esm/wordlists/decode-owla.js","../../node_modules/ethers/lib.esm/wordlists/wordlist-owla.js","../../node_modules/ethers/lib.esm/wordlists/wordlists-browser.js"],"sourcesContent":["/**\n *  A constant for the order N for the secp256k1 curve.\n *\n *  (**i.e.** ``0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n``)\n */\nexport const N = BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\");\n/**\n *  A constant for the number of wei in a single ether.\n *\n *  (**i.e.** ``1000000000000000000n``)\n */\nexport const WeiPerEther = BigInt(\"1000000000000000000\");\n/**\n *  A constant for the maximum value for a ``uint256``.\n *\n *  (**i.e.** ``0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn``)\n */\nexport const MaxUint256 = BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");\n/**\n *  A constant for the minimum value for an ``int256``.\n *\n *  (**i.e.** ``-8000000000000000000000000000000000000000000000000000000000000000n``)\n */\nexport const MinInt256 = BigInt(\"0x8000000000000000000000000000000000000000000000000000000000000000\") * BigInt(-1);\n/**\n *  A constant for the maximum value for an ``int256``.\n *\n *  (**i.e.** ``0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn``)\n */\nexport const MaxInt256 = BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");\n//# sourceMappingURL=numbers.js.map","/**\n *  A fundamental building block of Ethereum is the underlying\n *  cryptographic primitives.\n *\n *  @_section: api/crypto:Cryptographic Functions   [about-crypto]\n */\nnull;\n// We import all these so we can export lock()\nimport { computeHmac } from \"./hmac.js\";\nimport { keccak256 } from \"./keccak.js\";\nimport { ripemd160 } from \"./ripemd160.js\";\nimport { pbkdf2 } from \"./pbkdf2.js\";\nimport { randomBytes } from \"./random.js\";\nimport { scrypt, scryptSync } from \"./scrypt.js\";\nimport { sha256, sha512 } from \"./sha2.js\";\nexport { computeHmac, randomBytes, keccak256, ripemd160, sha256, sha512, pbkdf2, scrypt, scryptSync };\nexport { SigningKey } from \"./signing-key.js\";\nexport { Signature } from \"./signature.js\";\n/**\n *  Once called, prevents any future change to the underlying cryptographic\n *  primitives using the ``.register`` feature for hooks.\n */\nfunction lock() {\n    computeHmac.lock();\n    keccak256.lock();\n    pbkdf2.lock();\n    randomBytes.lock();\n    ripemd160.lock();\n    scrypt.lock();\n    scryptSync.lock();\n    sha256.lock();\n    sha512.lock();\n    randomBytes.lock();\n}\nexport { lock };\n//# sourceMappingURL=index.js.map","import { getAddress } from \"../address/index.js\";\nimport { keccak256 as _keccak256, sha256 as _sha256 } from \"../crypto/index.js\";\nimport { concat, dataLength, getBytes, hexlify, toBeArray, toTwos, toUtf8Bytes, zeroPadBytes, zeroPadValue, assertArgument } from \"../utils/index.js\";\nconst regexBytes = new RegExp(\"^bytes([0-9]+)$\");\nconst regexNumber = new RegExp(\"^(u?int)([0-9]*)$\");\nconst regexArray = new RegExp(\"^(.*)\\\\[([0-9]*)\\\\]$\");\nfunction _pack(type, value, isArray) {\n    switch (type) {\n        case \"address\":\n            if (isArray) {\n                return getBytes(zeroPadValue(value, 32));\n            }\n            return getBytes(getAddress(value));\n        case \"string\":\n            return toUtf8Bytes(value);\n        case \"bytes\":\n            return getBytes(value);\n        case \"bool\":\n            value = (!!value ? \"0x01\" : \"0x00\");\n            if (isArray) {\n                return getBytes(zeroPadValue(value, 32));\n            }\n            return getBytes(value);\n    }\n    let match = type.match(regexNumber);\n    if (match) {\n        let signed = (match[1] === \"int\");\n        let size = parseInt(match[2] || \"256\");\n        assertArgument((!match[2] || match[2] === String(size)) && (size % 8 === 0) && size !== 0 && size <= 256, \"invalid number type\", \"type\", type);\n        if (isArray) {\n            size = 256;\n        }\n        if (signed) {\n            value = toTwos(value, size);\n        }\n        return getBytes(zeroPadValue(toBeArray(value), size / 8));\n    }\n    match = type.match(regexBytes);\n    if (match) {\n        const size = parseInt(match[1]);\n        assertArgument(String(size) === match[1] && size !== 0 && size <= 32, \"invalid bytes type\", \"type\", type);\n        assertArgument(dataLength(value) === size, `invalid value for ${type}`, \"value\", value);\n        if (isArray) {\n            return getBytes(zeroPadBytes(value, 32));\n        }\n        return value;\n    }\n    match = type.match(regexArray);\n    if (match && Array.isArray(value)) {\n        const baseType = match[1];\n        const count = parseInt(match[2] || String(value.length));\n        assertArgument(count === value.length, `invalid array length for ${type}`, \"value\", value);\n        const result = [];\n        value.forEach(function (value) {\n            result.push(_pack(baseType, value, true));\n        });\n        return getBytes(concat(result));\n    }\n    assertArgument(false, \"invalid type\", \"type\", type);\n}\n// @TODO: Array Enum\n/**\n *   Computes the [[link-solc-packed]] representation of %%values%%\n *   respectively to their %%types%%.\n *\n *   @example:\n *       addr = \"0x8ba1f109551bd432803012645ac136ddd64dba72\"\n *       solidityPacked([ \"address\", \"uint\" ], [ addr, 45 ]);\n *       //_result:\n */\nexport function solidityPacked(types, values) {\n    assertArgument(types.length === values.length, \"wrong number of values; expected ${ types.length }\", \"values\", values);\n    const tight = [];\n    types.forEach(function (type, index) {\n        tight.push(_pack(type, values[index]));\n    });\n    return hexlify(concat(tight));\n}\n/**\n *   Computes the [[link-solc-packed]] [[keccak256]] hash of %%values%%\n *   respectively to their %%types%%.\n *\n *   @example:\n *       addr = \"0x8ba1f109551bd432803012645ac136ddd64dba72\"\n *       solidityPackedKeccak256([ \"address\", \"uint\" ], [ addr, 45 ]);\n *       //_result:\n */\nexport function solidityPackedKeccak256(types, values) {\n    return _keccak256(solidityPacked(types, values));\n}\n/**\n *   Computes the [[link-solc-packed]] [[sha256]] hash of %%values%%\n *   respectively to their %%types%%.\n *\n *   @example:\n *       addr = \"0x8ba1f109551bd432803012645ac136ddd64dba72\"\n *       solidityPackedSha256([ \"address\", \"uint\" ], [ addr, 45 ]);\n *       //_result:\n */\nexport function solidityPackedSha256(types, values) {\n    return _sha256(solidityPacked(types, values));\n}\n//# sourceMappingURL=solidity.js.map","/**\n *  About bytes32 strings...\n *\n *  @_docloc: api/utils:Bytes32 Strings\n */\nimport { getBytes, toUtf8Bytes, toUtf8String, zeroPadBytes } from \"../utils/index.js\";\n/**\n *  Encodes %%text%% as a Bytes32 string.\n */\nexport function encodeBytes32String(text) {\n    // Get the bytes\n    const bytes = toUtf8Bytes(text);\n    // Check we have room for null-termination\n    if (bytes.length > 31) {\n        throw new Error(\"bytes32 string must be less than 32 bytes\");\n    }\n    // Zero-pad (implicitly null-terminates)\n    return zeroPadBytes(bytes, 32);\n}\n/**\n *  Encodes the Bytes32-encoded %%bytes%% into a string.\n */\nexport function decodeBytes32String(_bytes) {\n    const data = getBytes(_bytes, \"bytes\");\n    // Must be 32 bytes with a null-termination\n    if (data.length !== 32) {\n        throw new Error(\"invalid bytes32 - not 32 bytes long\");\n    }\n    if (data[31] !== 0) {\n        throw new Error(\"invalid bytes32 string - no null terminator\");\n    }\n    // Find the null termination\n    let length = 31;\n    while (data[length - 1] === 0) {\n        length--;\n    }\n    // Determine the string value\n    return toUtf8String(data.slice(0, length));\n}\n//# sourceMappingURL=bytes32.js.map","import { Interface } from \"../abi/index.js\";\nimport { getCreateAddress } from \"../address/index.js\";\nimport { concat, defineProperties, getBytes, hexlify, assert, assertArgument } from \"../utils/index.js\";\nimport { BaseContract, copyOverrides, resolveArgs } from \"./contract.js\";\n// A = Arguments to the constructor\n// I = Interface of deployed contracts\n/**\n *  A **ContractFactory** is used to deploy a Contract to the blockchain.\n */\nexport class ContractFactory {\n    /**\n     *  The Contract Interface.\n     */\n    interface;\n    /**\n     *  The Contract deployment bytecode. Often called the initcode.\n     */\n    bytecode;\n    /**\n     *  The ContractRunner to deploy the Contract as.\n     */\n    runner;\n    /**\n     *  Create a new **ContractFactory** with %%abi%% and %%bytecode%%,\n     *  optionally connected to %%runner%%.\n     *\n     *  The %%bytecode%% may be the ``bytecode`` property within the\n     *  standard Solidity JSON output.\n     */\n    constructor(abi, bytecode, runner) {\n        const iface = Interface.from(abi);\n        // Dereference Solidity bytecode objects and allow a missing `0x`-prefix\n        if (bytecode instanceof Uint8Array) {\n            bytecode = hexlify(getBytes(bytecode));\n        }\n        else {\n            if (typeof (bytecode) === \"object\") {\n                bytecode = bytecode.object;\n            }\n            if (!bytecode.startsWith(\"0x\")) {\n                bytecode = \"0x\" + bytecode;\n            }\n            bytecode = hexlify(getBytes(bytecode));\n        }\n        defineProperties(this, {\n            bytecode, interface: iface, runner: (runner || null)\n        });\n    }\n    attach(target) {\n        return new BaseContract(target, this.interface, this.runner);\n    }\n    /**\n     *  Resolves to the transaction to deploy the contract, passing %%args%%\n     *  into the constructor.\n     */\n    async getDeployTransaction(...args) {\n        let overrides = {};\n        const fragment = this.interface.deploy;\n        if (fragment.inputs.length + 1 === args.length) {\n            overrides = await copyOverrides(args.pop());\n        }\n        if (fragment.inputs.length !== args.length) {\n            throw new Error(\"incorrect number of arguments to constructor\");\n        }\n        const resolvedArgs = await resolveArgs(this.runner, fragment.inputs, args);\n        const data = concat([this.bytecode, this.interface.encodeDeploy(resolvedArgs)]);\n        return Object.assign({}, overrides, { data });\n    }\n    /**\n     *  Resolves to the Contract deployed by passing %%args%% into the\n     *  constructor.\n     *\n     *  This will resolve to the Contract before it has been deployed to the\n     *  network, so the [[BaseContract-waitForDeployment]] should be used before\n     *  sending any transactions to it.\n     */\n    async deploy(...args) {\n        const tx = await this.getDeployTransaction(...args);\n        assert(this.runner && typeof (this.runner.sendTransaction) === \"function\", \"factory runner does not support sending transactions\", \"UNSUPPORTED_OPERATION\", {\n            operation: \"sendTransaction\"\n        });\n        const sentTx = await this.runner.sendTransaction(tx);\n        const address = getCreateAddress(sentTx);\n        return new BaseContract(address, this.interface, this.runner, sentTx);\n    }\n    /**\n     *  Return a new **ContractFactory** with the same ABI and bytecode,\n     *  but connected to %%runner%%.\n     */\n    connect(runner) {\n        return new ContractFactory(this.interface, this.bytecode, runner);\n    }\n    /**\n     *  Create a new **ContractFactory** from the standard Solidity JSON output.\n     */\n    static fromSolidity(output, runner) {\n        assertArgument(output != null, \"bad compiler output\", \"output\", output);\n        if (typeof (output) === \"string\") {\n            output = JSON.parse(output);\n        }\n        const abi = output.abi;\n        let bytecode = \"\";\n        if (output.bytecode) {\n            bytecode = output.bytecode;\n        }\n        else if (output.evm && output.evm.bytecode) {\n            bytecode = output.evm.bytecode;\n        }\n        return new this(abi, bytecode, runner);\n    }\n}\n//# sourceMappingURL=factory.js.map","/**\n *  There are many awesome community services that provide Ethereum\n *  nodes both for developers just starting out and for large-scale\n *  communities.\n *\n *  @_section: api/providers/thirdparty: Community Providers  [thirdparty]\n */\n// Show the throttle message only once per service\nconst shown = new Set();\n/**\n *  Displays a warning in the console when the community resource is\n *  being used too heavily by the app, recommending the developer\n *  acquire their own credentials instead of using the community\n *  credentials.\n *\n *  The notification will only occur once per service.\n */\nexport function showThrottleMessage(service) {\n    if (shown.has(service)) {\n        return;\n    }\n    shown.add(service);\n    console.log(\"========= NOTICE =========\");\n    console.log(`Request-Rate Exceeded for ${service} (this message will not be repeated)`);\n    console.log(\"\");\n    console.log(\"The default API keys for each service are provided as a highly-throttled,\");\n    console.log(\"community resource for low-traffic projects and early prototyping.\");\n    console.log(\"\");\n    console.log(\"While your application will continue to function, we highly recommended\");\n    console.log(\"signing up for your own API keys to improve performance, increase your\");\n    console.log(\"request rate/limit and enable other perks, such as metrics and advanced APIs.\");\n    console.log(\"\");\n    console.log(\"For more details: https:/\\/docs.ethers.org/api-keys/\");\n    console.log(\"==========================\");\n}\n//# sourceMappingURL=community.js.map","/**\n *  [[link-ankr]] provides a third-party service for connecting to\n *  various blockchains over JSON-RPC.\n *\n *  **Supported Networks**\n *\n *  - Ethereum Mainnet (``mainnet``)\n *  - Goerli Testnet (``goerli``)\n *  - Sepolia Testnet (``sepolia``)\n *  - Arbitrum (``arbitrum``)\n *  - Base (``base``)\n *  - Base Goerlia Testnet (``base-goerli``)\n *  - Base Sepolia Testnet (``base-sepolia``)\n *  - BNB (``bnb``)\n *  - BNB Testnet (``bnbt``)\n *  - Filecoin (``filecoin``)\n *  - Filecoin Calibration Testnet (``filecoin-calibration``)\n *  - Optimism (``optimism``)\n *  - Optimism Goerli Testnet (``optimism-goerli``)\n *  - Optimism Sepolia Testnet (``optimism-sepolia``)\n *  - Polygon (``matic``)\n *  - Polygon Mumbai Testnet (``matic-mumbai``)\n *\n *  @_subsection: api/providers/thirdparty:Ankr  [providers-ankr]\n */\nimport { defineProperties, FetchRequest, assertArgument } from \"../utils/index.js\";\nimport { showThrottleMessage } from \"./community.js\";\nimport { Network } from \"./network.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\nconst defaultApiKey = \"9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972\";\nfunction getHost(name) {\n    switch (name) {\n        case \"mainnet\":\n            return \"rpc.ankr.com/eth\";\n        case \"goerli\":\n            return \"rpc.ankr.com/eth_goerli\";\n        case \"sepolia\":\n            return \"rpc.ankr.com/eth_sepolia\";\n        case \"arbitrum\":\n            return \"rpc.ankr.com/arbitrum\";\n        case \"base\":\n            return \"rpc.ankr.com/base\";\n        case \"base-goerli\":\n            return \"rpc.ankr.com/base_goerli\";\n        case \"base-sepolia\":\n            return \"rpc.ankr.com/base_sepolia\";\n        case \"bnb\":\n            return \"rpc.ankr.com/bsc\";\n        case \"bnbt\":\n            return \"rpc.ankr.com/bsc_testnet_chapel\";\n        case \"filecoin\":\n            return \"rpc.ankr.com/filecoin\";\n        case \"filecoin-calibration\":\n            return \"rpc.ankr.com/filecoin_testnet\";\n        case \"matic\":\n            return \"rpc.ankr.com/polygon\";\n        case \"matic-mumbai\":\n            return \"rpc.ankr.com/polygon_mumbai\";\n        case \"optimism\":\n            return \"rpc.ankr.com/optimism\";\n        case \"optimism-goerli\":\n            return \"rpc.ankr.com/optimism_testnet\";\n        case \"optimism-sepolia\":\n            return \"rpc.ankr.com/optimism_sepolia\";\n    }\n    assertArgument(false, \"unsupported network\", \"network\", name);\n}\n/**\n *  The **AnkrProvider** connects to the [[link-ankr]]\n *  JSON-RPC end-points.\n *\n *  By default, a highly-throttled API key is used, which is\n *  appropriate for quick prototypes and simple scripts. To\n *  gain access to an increased rate-limit, it is highly\n *  recommended to [sign up here](link-ankr-signup).\n */\nexport class AnkrProvider extends JsonRpcProvider {\n    /**\n     *  The API key for the Ankr connection.\n     */\n    apiKey;\n    /**\n     *  Create a new **AnkrProvider**.\n     *\n     *  By default connecting to ``mainnet`` with a highly throttled\n     *  API key.\n     */\n    constructor(_network, apiKey) {\n        if (_network == null) {\n            _network = \"mainnet\";\n        }\n        const network = Network.from(_network);\n        if (apiKey == null) {\n            apiKey = defaultApiKey;\n        }\n        // Ankr does not support filterId, so we force polling\n        const options = { polling: true, staticNetwork: network };\n        const request = AnkrProvider.getRequest(network, apiKey);\n        super(request, network, options);\n        defineProperties(this, { apiKey });\n    }\n    _getProvider(chainId) {\n        try {\n            return new AnkrProvider(chainId, this.apiKey);\n        }\n        catch (error) { }\n        return super._getProvider(chainId);\n    }\n    /**\n     *  Returns a prepared request for connecting to %%network%% with\n     *  %%apiKey%%.\n     */\n    static getRequest(network, apiKey) {\n        if (apiKey == null) {\n            apiKey = defaultApiKey;\n        }\n        const request = new FetchRequest(`https:/\\/${getHost(network.name)}/${apiKey}`);\n        request.allowGzip = true;\n        if (apiKey === defaultApiKey) {\n            request.retryFunc = async (request, response, attempt) => {\n                showThrottleMessage(\"AnkrProvider\");\n                return true;\n            };\n        }\n        return request;\n    }\n    getRpcError(payload, error) {\n        if (payload.method === \"eth_sendRawTransaction\") {\n            if (error && error.error && error.error.message === \"INTERNAL_ERROR: could not replace existing tx\") {\n                error.error.message = \"replacement transaction underpriced\";\n            }\n        }\n        return super.getRpcError(payload, error);\n    }\n    isCommunityResource() {\n        return (this.apiKey === defaultApiKey);\n    }\n}\n//# sourceMappingURL=provider-ankr.js.map","/**\n *  [[link-alchemy]] provides a third-party service for connecting to\n *  various blockchains over JSON-RPC.\n *\n *  **Supported Networks**\n *\n *  - Ethereum Mainnet (``mainnet``)\n *  - Goerli Testnet (``goerli``)\n *  - Sepolia Testnet (``sepolia``)\n *  - Arbitrum (``arbitrum``)\n *  - Arbitrum Goerli Testnet (``arbitrum-goerli``)\n *  - Arbitrum Sepolia Testnet (``arbitrum-sepolia``)\n *  - Base (``base``)\n *  - Base Goerlia Testnet (``base-goerli``)\n *  - Base Sepolia Testnet (``base-sepolia``)\n *  - Optimism (``optimism``)\n *  - Optimism Goerli Testnet (``optimism-goerli``)\n *  - Optimism Sepolia Testnet (``optimism-sepolia``)\n *  - Polygon (``matic``)\n *  - Polygon Amoy Testnet (``matic-amoy``)\n *  - Polygon Mumbai Testnet (``matic-mumbai``)\n *\n *  @_subsection: api/providers/thirdparty:Alchemy  [providers-alchemy]\n */\nimport { defineProperties, resolveProperties, assert, assertArgument, FetchRequest } from \"../utils/index.js\";\nimport { showThrottleMessage } from \"./community.js\";\nimport { Network } from \"./network.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\nconst defaultApiKey = \"_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC\";\nfunction getHost(name) {\n    switch (name) {\n        case \"mainnet\":\n            return \"eth-mainnet.g.alchemy.com\";\n        case \"goerli\":\n            return \"eth-goerli.g.alchemy.com\";\n        case \"sepolia\":\n            return \"eth-sepolia.g.alchemy.com\";\n        case \"arbitrum\":\n            return \"arb-mainnet.g.alchemy.com\";\n        case \"arbitrum-goerli\":\n            return \"arb-goerli.g.alchemy.com\";\n        case \"arbitrum-sepolia\":\n            return \"arb-sepolia.g.alchemy.com\";\n        case \"base\":\n            return \"base-mainnet.g.alchemy.com\";\n        case \"base-goerli\":\n            return \"base-goerli.g.alchemy.com\";\n        case \"base-sepolia\":\n            return \"base-sepolia.g.alchemy.com\";\n        case \"matic\":\n            return \"polygon-mainnet.g.alchemy.com\";\n        case \"matic-amoy\":\n            return \"polygon-amoy.g.alchemy.com\";\n        case \"matic-mumbai\":\n            return \"polygon-mumbai.g.alchemy.com\";\n        case \"optimism\":\n            return \"opt-mainnet.g.alchemy.com\";\n        case \"optimism-goerli\":\n            return \"opt-goerli.g.alchemy.com\";\n        case \"optimism-sepolia\":\n            return \"opt-sepolia.g.alchemy.com\";\n    }\n    assertArgument(false, \"unsupported network\", \"network\", name);\n}\n/**\n *  The **AlchemyProvider** connects to the [[link-alchemy]]\n *  JSON-RPC end-points.\n *\n *  By default, a highly-throttled API key is used, which is\n *  appropriate for quick prototypes and simple scripts. To\n *  gain access to an increased rate-limit, it is highly\n *  recommended to [sign up here](link-alchemy-signup).\n *\n *  @_docloc: api/providers/thirdparty\n */\nexport class AlchemyProvider extends JsonRpcProvider {\n    apiKey;\n    constructor(_network, apiKey) {\n        if (_network == null) {\n            _network = \"mainnet\";\n        }\n        const network = Network.from(_network);\n        if (apiKey == null) {\n            apiKey = defaultApiKey;\n        }\n        const request = AlchemyProvider.getRequest(network, apiKey);\n        super(request, network, { staticNetwork: network });\n        defineProperties(this, { apiKey });\n    }\n    _getProvider(chainId) {\n        try {\n            return new AlchemyProvider(chainId, this.apiKey);\n        }\n        catch (error) { }\n        return super._getProvider(chainId);\n    }\n    async _perform(req) {\n        // https://docs.alchemy.com/reference/trace-transaction\n        if (req.method === \"getTransactionResult\") {\n            const { trace, tx } = await resolveProperties({\n                trace: this.send(\"trace_transaction\", [req.hash]),\n                tx: this.getTransaction(req.hash)\n            });\n            if (trace == null || tx == null) {\n                return null;\n            }\n            let data;\n            let error = false;\n            try {\n                data = trace[0].result.output;\n                error = (trace[0].error === \"Reverted\");\n            }\n            catch (error) { }\n            if (data) {\n                assert(!error, \"an error occurred during transaction executions\", \"CALL_EXCEPTION\", {\n                    action: \"getTransactionResult\",\n                    data,\n                    reason: null,\n                    transaction: tx,\n                    invocation: null,\n                    revert: null // @TODO\n                });\n                return data;\n            }\n            assert(false, \"could not parse trace result\", \"BAD_DATA\", { value: trace });\n        }\n        return await super._perform(req);\n    }\n    isCommunityResource() {\n        return (this.apiKey === defaultApiKey);\n    }\n    static getRequest(network, apiKey) {\n        if (apiKey == null) {\n            apiKey = defaultApiKey;\n        }\n        const request = new FetchRequest(`https:/\\/${getHost(network.name)}/v2/${apiKey}`);\n        request.allowGzip = true;\n        if (apiKey === defaultApiKey) {\n            request.retryFunc = async (request, response, attempt) => {\n                showThrottleMessage(\"alchemy\");\n                return true;\n            };\n        }\n        return request;\n    }\n}\n//# sourceMappingURL=provider-alchemy.js.map","/**\n *  [[link-chainstack]] provides a third-party service for connecting to\n *  various blockchains over JSON-RPC.\n *\n *  **Supported Networks**\n *\n *  - Ethereum Mainnet (``mainnet``)\n *  - Arbitrum (``arbitrum``)\n *  - BNB Smart Chain Mainnet (``bnb``)\n *  - Polygon (``matic``)\n *\n *  @_subsection: api/providers/thirdparty:Chainstack  [providers-chainstack]\n */\nimport { defineProperties, FetchRequest, assertArgument } from \"../utils/index.js\";\nimport { showThrottleMessage } from \"./community.js\";\nimport { Network } from \"./network.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\nfunction getApiKey(name) {\n    switch (name) {\n        case \"mainnet\": return \"39f1d67cedf8b7831010a665328c9197\";\n        case \"arbitrum\": return \"0550c209db33c3abf4cc927e1e18cea1\";\n        case \"bnb\": return \"98b5a77e531614387366f6fc5da097f8\";\n        case \"matic\": return \"cd9d4d70377471aa7c142ec4a4205249\";\n    }\n    assertArgument(false, \"unsupported network\", \"network\", name);\n}\nfunction getHost(name) {\n    switch (name) {\n        case \"mainnet\":\n            return \"ethereum-mainnet.core.chainstack.com\";\n        case \"arbitrum\":\n            return \"arbitrum-mainnet.core.chainstack.com\";\n        case \"bnb\":\n            return \"bsc-mainnet.core.chainstack.com\";\n        case \"matic\":\n            return \"polygon-mainnet.core.chainstack.com\";\n    }\n    assertArgument(false, \"unsupported network\", \"network\", name);\n}\n/**\n *  The **ChainstackProvider** connects to the [[link-chainstack]]\n *  JSON-RPC end-points.\n *\n *  By default, a highly-throttled API key is used, which is\n *  appropriate for quick prototypes and simple scripts. To\n *  gain access to an increased rate-limit, it is highly\n *  recommended to [sign up here](link-chainstack).\n */\nexport class ChainstackProvider extends JsonRpcProvider {\n    /**\n     *  The API key for the Chainstack connection.\n     */\n    apiKey;\n    /**\n     *  Creates a new **ChainstackProvider**.\n     */\n    constructor(_network, apiKey) {\n        if (_network == null) {\n            _network = \"mainnet\";\n        }\n        const network = Network.from(_network);\n        if (apiKey == null) {\n            apiKey = getApiKey(network.name);\n        }\n        const request = ChainstackProvider.getRequest(network, apiKey);\n        super(request, network, { staticNetwork: network });\n        defineProperties(this, { apiKey });\n    }\n    _getProvider(chainId) {\n        try {\n            return new ChainstackProvider(chainId, this.apiKey);\n        }\n        catch (error) { }\n        return super._getProvider(chainId);\n    }\n    isCommunityResource() {\n        return (this.apiKey === getApiKey(this._network.name));\n    }\n    /**\n     *  Returns a prepared request for connecting to %%network%%\n     *  with %%apiKey%% and %%projectSecret%%.\n     */\n    static getRequest(network, apiKey) {\n        if (apiKey == null) {\n            apiKey = getApiKey(network.name);\n        }\n        const request = new FetchRequest(`https:/\\/${getHost(network.name)}/${apiKey}`);\n        request.allowGzip = true;\n        if (apiKey === getApiKey(network.name)) {\n            request.retryFunc = async (request, response, attempt) => {\n                showThrottleMessage(\"ChainstackProvider\");\n                return true;\n            };\n        }\n        return request;\n    }\n}\n//# sourceMappingURL=provider-chainstack.js.map","/**\n *  About Cloudflare\n *\n *  @_subsection: api/providers/thirdparty:Cloudflare  [providers-cloudflare]\n */\nimport { assertArgument } from \"../utils/index.js\";\nimport { Network } from \"./network.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\n/**\n *  About Cloudflare...\n */\nexport class CloudflareProvider extends JsonRpcProvider {\n    constructor(_network) {\n        if (_network == null) {\n            _network = \"mainnet\";\n        }\n        const network = Network.from(_network);\n        assertArgument(network.name === \"mainnet\", \"unsupported network\", \"network\", _network);\n        super(\"https:/\\/cloudflare-eth.com/\", network, { staticNetwork: network });\n    }\n}\n//# sourceMappingURL=provider-cloudflare.js.map","/**\n *  [[link-etherscan]] provides a third-party service for connecting to\n *  various blockchains over a combination of JSON-RPC and custom API\n *  endpoints.\n *\n *  **Supported Networks**\n *\n *  - Ethereum Mainnet (``mainnet``)\n *  - Goerli Testnet (``goerli``)\n *  - Sepolia Testnet (``sepolia``)\n *  - Holesky Testnet (``holesky``)\n *  - Arbitrum (``arbitrum``)\n *  - Arbitrum Goerli Testnet (``arbitrum-goerli``)\n *  - Base (``base``)\n *  - Base Sepolia Testnet (``base-sepolia``)\n *  - BNB Smart Chain Mainnet (``bnb``)\n *  - BNB Smart Chain Testnet (``bnbt``)\n *  - Optimism (``optimism``)\n *  - Optimism Goerli Testnet (``optimism-goerli``)\n *  - Polygon (``matic``)\n *  - Polygon Mumbai Testnet (``matic-mumbai``)\n *  - Polygon Amoy Testnet (``matic-amoy``)\n *\n *  @_subsection api/providers/thirdparty:Etherscan  [providers-etherscan]\n */\nimport { AbiCoder } from \"../abi/index.js\";\nimport { Contract } from \"../contract/index.js\";\nimport { accessListify, Transaction } from \"../transaction/index.js\";\nimport { defineProperties, hexlify, toQuantity, FetchRequest, assert, assertArgument, isError, \n//    parseUnits,\ntoUtf8String } from \"../utils/index.js\";\nimport { AbstractProvider } from \"./abstract-provider.js\";\nimport { Network } from \"./network.js\";\nimport { NetworkPlugin } from \"./plugins-network.js\";\nimport { showThrottleMessage } from \"./community.js\";\n// See: https://docs.etherscan.io/supported-chains\nconst Supported = (\"1 11155111 17000 560048 2741 11124 33111 33139 42170 \" +\n    \"42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 \" +\n    \"168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 \" +\n    \"59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 \" +\n    \"11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 \" +\n    \"988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300\").split(/ /g);\nconst THROTTLE = 2000;\nfunction isPromise(value) {\n    return (value && typeof (value.then) === \"function\");\n}\nconst EtherscanPluginId = \"org.ethers.plugins.provider.Etherscan\";\n/**\n *  A Network can include an **EtherscanPlugin** to provide\n *  a custom base URL.\n *\n *  @_docloc: api/providers/thirdparty:Etherscan\n */\nexport class EtherscanPlugin extends NetworkPlugin {\n    /**\n     *  The Etherscan API base URL.\n     */\n    baseUrl;\n    /**\n     *  Creates a new **EtherscanProvider** which will use\n     *  %%baseUrl%%.\n     */\n    constructor(baseUrl) {\n        super(EtherscanPluginId);\n        defineProperties(this, { baseUrl });\n    }\n    clone() {\n        return new EtherscanPlugin(this.baseUrl);\n    }\n}\nconst skipKeys = [\"enableCcipRead\"];\nlet nextId = 1;\n/**\n *  The **EtherscanBaseProvider** is the super-class of\n *  [[EtherscanProvider]], which should generally be used instead.\n *\n *  Since the **EtherscanProvider** includes additional code for\n *  [[Contract]] access, in //rare cases// that contracts are not\n *  used, this class can reduce code size.\n *\n *  @_docloc: api/providers/thirdparty:Etherscan\n */\nexport class EtherscanProvider extends AbstractProvider {\n    /**\n     *  The connected network.\n     */\n    network;\n    /**\n     *  The API key or null if using the community provided bandwidth.\n     */\n    apiKey;\n    #plugin;\n    /**\n     *  Creates a new **EtherscanBaseProvider**.\n     */\n    constructor(_network, _apiKey) {\n        const apiKey = (_apiKey != null) ? _apiKey : null;\n        super();\n        const network = Network.from(_network);\n        assertArgument(Supported.indexOf(`${network.chainId}`) >= 0, \"unsupported network\", \"network\", network);\n        this.#plugin = network.getPlugin(EtherscanPluginId);\n        defineProperties(this, { apiKey, network });\n    }\n    /**\n     *  Returns the base URL.\n     *\n     *  If an [[EtherscanPlugin]] is configured on the\n     *  [[EtherscanBaseProvider_network]], returns the plugin's\n     *  baseUrl.\n     *\n     *  Deprecated; for Etherscan v2 the base is no longer a simply\n     *  host, but instead a URL including a chainId parameter. Changing\n     *  this to return a URL prefix could break some libraries, so it\n     *  is left intact but will be removed in the future as it is unused.\n     */\n    getBaseUrl() {\n        if (this.#plugin) {\n            return this.#plugin.baseUrl;\n        }\n        switch (this.network.name) {\n            case \"mainnet\":\n                return \"https:/\\/api.etherscan.io\";\n            case \"goerli\":\n                return \"https:/\\/api-goerli.etherscan.io\";\n            case \"sepolia\":\n                return \"https:/\\/api-sepolia.etherscan.io\";\n            case \"holesky\":\n                return \"https:/\\/api-holesky.etherscan.io\";\n            case \"arbitrum\":\n                return \"https:/\\/api.arbiscan.io\";\n            case \"arbitrum-goerli\":\n                return \"https:/\\/api-goerli.arbiscan.io\";\n            case \"base\":\n                return \"https:/\\/api.basescan.org\";\n            case \"base-sepolia\":\n                return \"https:/\\/api-sepolia.basescan.org\";\n            case \"bnb\":\n                return \"https:/\\/api.bscscan.com\";\n            case \"bnbt\":\n                return \"https:/\\/api-testnet.bscscan.com\";\n            case \"matic\":\n                return \"https:/\\/api.polygonscan.com\";\n            case \"matic-amoy\":\n                return \"https:/\\/api-amoy.polygonscan.com\";\n            case \"matic-mumbai\":\n                return \"https:/\\/api-testnet.polygonscan.com\";\n            case \"optimism\":\n                return \"https:/\\/api-optimistic.etherscan.io\";\n            case \"optimism-goerli\":\n                return \"https:/\\/api-goerli-optimistic.etherscan.io\";\n            default:\n        }\n        assertArgument(false, \"unsupported network\", \"network\", this.network);\n    }\n    /**\n     *  Returns the URL for the %%module%% and %%params%%.\n     */\n    getUrl(module, params) {\n        let query = Object.keys(params).reduce((accum, key) => {\n            const value = params[key];\n            if (value != null) {\n                accum += `&${key}=${value}`;\n            }\n            return accum;\n        }, \"\");\n        if (this.apiKey) {\n            query += `&apikey=${this.apiKey}`;\n        }\n        return `https:/\\/api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${module}${query}`;\n    }\n    /**\n     *  Returns the URL for using POST requests.\n     */\n    getPostUrl() {\n        return `https:/\\/api.etherscan.io/v2/api?chainid=${this.network.chainId}`;\n    }\n    /**\n     *  Returns the parameters for using POST requests.\n     */\n    getPostData(module, params) {\n        params.module = module;\n        params.apikey = this.apiKey;\n        params.chainid = this.network.chainId;\n        return params;\n    }\n    async detectNetwork() {\n        return this.network;\n    }\n    /**\n     *  Resolves to the result of calling %%module%% with %%params%%.\n     *\n     *  If %%post%%, the request is made as a POST request.\n     */\n    async fetch(module, params, post) {\n        const id = nextId++;\n        const url = (post ? this.getPostUrl() : this.getUrl(module, params));\n        const payload = (post ? this.getPostData(module, params) : null);\n        this.emit(\"debug\", { action: \"sendRequest\", id, url, payload: payload });\n        const request = new FetchRequest(url);\n        request.setThrottleParams({ slotInterval: 1000 });\n        request.retryFunc = (req, resp, attempt) => {\n            if (this.isCommunityResource()) {\n                showThrottleMessage(\"Etherscan\");\n            }\n            return Promise.resolve(true);\n        };\n        request.processFunc = async (request, response) => {\n            const result = response.hasBody() ? JSON.parse(toUtf8String(response.body)) : {};\n            const throttle = ((typeof (result.result) === \"string\") ? result.result : \"\").toLowerCase().indexOf(\"rate limit\") >= 0;\n            if (module === \"proxy\") {\n                // This JSON response indicates we are being throttled\n                if (result && result.status == 0 && result.message == \"NOTOK\" && throttle) {\n                    this.emit(\"debug\", { action: \"receiveError\", id, reason: \"proxy-NOTOK\", error: result });\n                    response.throwThrottleError(result.result, THROTTLE);\n                }\n            }\n            else {\n                if (throttle) {\n                    this.emit(\"debug\", { action: \"receiveError\", id, reason: \"null result\", error: result.result });\n                    response.throwThrottleError(result.result, THROTTLE);\n                }\n            }\n            return response;\n        };\n        if (payload) {\n            request.setHeader(\"content-type\", \"application/x-www-form-urlencoded; charset=UTF-8\");\n            request.body = Object.keys(payload).map((k) => `${k}=${payload[k]}`).join(\"&\");\n        }\n        const response = await request.send();\n        try {\n            response.assertOk();\n        }\n        catch (error) {\n            this.emit(\"debug\", { action: \"receiveError\", id, error, reason: \"assertOk\" });\n            assert(false, \"response error\", \"SERVER_ERROR\", { request, response });\n        }\n        if (!response.hasBody()) {\n            this.emit(\"debug\", { action: \"receiveError\", id, error: \"missing body\", reason: \"null body\" });\n            assert(false, \"missing response\", \"SERVER_ERROR\", { request, response });\n        }\n        const result = JSON.parse(toUtf8String(response.body));\n        if (module === \"proxy\") {\n            if (result.jsonrpc != \"2.0\") {\n                this.emit(\"debug\", { action: \"receiveError\", id, result, reason: \"invalid JSON-RPC\" });\n                assert(false, \"invalid JSON-RPC response (missing jsonrpc='2.0')\", \"SERVER_ERROR\", { request, response, info: { result } });\n            }\n            if (result.error) {\n                this.emit(\"debug\", { action: \"receiveError\", id, result, reason: \"JSON-RPC error\" });\n                assert(false, \"error response\", \"SERVER_ERROR\", { request, response, info: { result } });\n            }\n            this.emit(\"debug\", { action: \"receiveRequest\", id, result });\n            return result.result;\n        }\n        else {\n            // getLogs, getHistory have weird success responses\n            if (result.status == 0 && (result.message === \"No records found\" || result.message === \"No transactions found\")) {\n                this.emit(\"debug\", { action: \"receiveRequest\", id, result });\n                return result.result;\n            }\n            if (result.status != 1 || (typeof (result.message) === \"string\" && !result.message.match(/^OK/))) {\n                this.emit(\"debug\", { action: \"receiveError\", id, result });\n                assert(false, \"error response\", \"SERVER_ERROR\", { request, response, info: { result } });\n            }\n            this.emit(\"debug\", { action: \"receiveRequest\", id, result });\n            return result.result;\n        }\n    }\n    /**\n     *  Returns %%transaction%% normalized for the Etherscan API.\n     */\n    _getTransactionPostData(transaction) {\n        const result = {};\n        for (let key in transaction) {\n            if (skipKeys.indexOf(key) >= 0) {\n                continue;\n            }\n            if (transaction[key] == null) {\n                continue;\n            }\n            let value = transaction[key];\n            if (key === \"type\" && value === 0) {\n                continue;\n            }\n            if (key === \"blockTag\" && value === \"latest\") {\n                continue;\n            }\n            // Quantity-types require no leading zero, unless 0\n            if ({ type: true, gasLimit: true, gasPrice: true, maxFeePerGs: true, maxPriorityFeePerGas: true, nonce: true, value: true }[key]) {\n                value = toQuantity(value);\n            }\n            else if (key === \"accessList\") {\n                value = \"[\" + accessListify(value).map((set) => {\n                    return `{address:\"${set.address}\",storageKeys:[\"${set.storageKeys.join('\",\"')}\"]}`;\n                }).join(\",\") + \"]\";\n            }\n            else if (key === \"blobVersionedHashes\") {\n                if (value.length === 0) {\n                    continue;\n                }\n                // @TODO: update this once the API supports blobs\n                assert(false, \"Etherscan API does not support blobVersionedHashes\", \"UNSUPPORTED_OPERATION\", {\n                    operation: \"_getTransactionPostData\",\n                    info: { transaction }\n                });\n            }\n            else {\n                value = hexlify(value);\n            }\n            result[key] = value;\n        }\n        return result;\n    }\n    /**\n     *  Throws the normalized Etherscan error.\n     */\n    _checkError(req, error, transaction) {\n        // Pull any message out if, possible\n        let message = \"\";\n        if (isError(error, \"SERVER_ERROR\")) {\n            // Check for an error emitted by a proxy call\n            try {\n                message = error.info.result.error.message;\n            }\n            catch (e) { }\n            if (!message) {\n                try {\n                    message = error.info.message;\n                }\n                catch (e) { }\n            }\n        }\n        if (req.method === \"estimateGas\") {\n            if (!message.match(/revert/i) && message.match(/insufficient funds/i)) {\n                assert(false, \"insufficient funds\", \"INSUFFICIENT_FUNDS\", {\n                    transaction: req.transaction\n                });\n            }\n        }\n        if (req.method === \"call\" || req.method === \"estimateGas\") {\n            if (message.match(/execution reverted/i)) {\n                let data = \"\";\n                try {\n                    data = error.info.result.error.data;\n                }\n                catch (error) { }\n                const e = AbiCoder.getBuiltinCallException(req.method, req.transaction, data);\n                e.info = { request: req, error };\n                throw e;\n            }\n        }\n        if (message) {\n            if (req.method === \"broadcastTransaction\") {\n                const transaction = Transaction.from(req.signedTransaction);\n                if (message.match(/replacement/i) && message.match(/underpriced/i)) {\n                    assert(false, \"replacement fee too low\", \"REPLACEMENT_UNDERPRICED\", {\n                        transaction\n                    });\n                }\n                if (message.match(/insufficient funds/)) {\n                    assert(false, \"insufficient funds for intrinsic transaction cost\", \"INSUFFICIENT_FUNDS\", {\n                        transaction\n                    });\n                }\n                if (message.match(/same hash was already imported|transaction nonce is too low|nonce too low/)) {\n                    assert(false, \"nonce has already been used\", \"NONCE_EXPIRED\", {\n                        transaction\n                    });\n                }\n            }\n        }\n        // Something we could not process\n        throw error;\n    }\n    async _detectNetwork() {\n        return this.network;\n    }\n    async _perform(req) {\n        switch (req.method) {\n            case \"chainId\":\n                return this.network.chainId;\n            case \"getBlockNumber\":\n                return this.fetch(\"proxy\", { action: \"eth_blockNumber\" });\n            case \"getGasPrice\":\n                return this.fetch(\"proxy\", { action: \"eth_gasPrice\" });\n            case \"getPriorityFee\":\n                // This is temporary until Etherscan completes support\n                if (this.network.name === \"mainnet\") {\n                    return \"1000000000\";\n                }\n                else if (this.network.name === \"optimism\") {\n                    return \"1000000\";\n                }\n                else {\n                    throw new Error(\"fallback onto the AbstractProvider default\");\n                }\n            /* Working with Etherscan to get this added:\n            try {\n                const test = await this.fetch(\"proxy\", {\n                    action: \"eth_maxPriorityFeePerGas\"\n                });\n                console.log(test);\n                return test;\n            } catch (e) {\n                console.log(\"DEBUG\", e);\n                throw e;\n            }\n            */\n            /* This might be safe; but due to rounding neither myself\n               or Etherscan are necessarily comfortable with this. :)\n            try {\n                const result = await this.fetch(\"gastracker\", { action: \"gasoracle\" });\n                console.log(result);\n                const gasPrice = parseUnits(result.SafeGasPrice, \"gwei\");\n                const baseFee = parseUnits(result.suggestBaseFee, \"gwei\");\n                const priorityFee = gasPrice - baseFee;\n                if (priorityFee < 0) { throw new Error(\"negative priority fee; defer to abstract provider default\"); }\n                return priorityFee;\n            } catch (error) {\n                console.log(\"DEBUG\", error);\n                throw error;\n            }\n            */\n            case \"getBalance\":\n                // Returns base-10 result\n                return this.fetch(\"account\", {\n                    action: \"balance\",\n                    address: req.address,\n                    tag: req.blockTag\n                });\n            case \"getTransactionCount\":\n                return this.fetch(\"proxy\", {\n                    action: \"eth_getTransactionCount\",\n                    address: req.address,\n                    tag: req.blockTag\n                });\n            case \"getCode\":\n                return this.fetch(\"proxy\", {\n                    action: \"eth_getCode\",\n                    address: req.address,\n                    tag: req.blockTag\n                });\n            case \"getStorage\":\n                return this.fetch(\"proxy\", {\n                    action: \"eth_getStorageAt\",\n                    address: req.address,\n                    position: req.position,\n                    tag: req.blockTag\n                });\n            case \"broadcastTransaction\":\n                return this.fetch(\"proxy\", {\n                    action: \"eth_sendRawTransaction\",\n                    hex: req.signedTransaction\n                }, true).catch((error) => {\n                    return this._checkError(req, error, req.signedTransaction);\n                });\n            case \"getBlock\":\n                if (\"blockTag\" in req) {\n                    return this.fetch(\"proxy\", {\n                        action: \"eth_getBlockByNumber\",\n                        tag: req.blockTag,\n                        boolean: (req.includeTransactions ? \"true\" : \"false\")\n                    });\n                }\n                assert(false, \"getBlock by blockHash not supported by Etherscan\", \"UNSUPPORTED_OPERATION\", {\n                    operation: \"getBlock(blockHash)\"\n                });\n            case \"getTransaction\":\n                return this.fetch(\"proxy\", {\n                    action: \"eth_getTransactionByHash\",\n                    txhash: req.hash\n                });\n            case \"getTransactionReceipt\":\n                return this.fetch(\"proxy\", {\n                    action: \"eth_getTransactionReceipt\",\n                    txhash: req.hash\n                });\n            case \"call\": {\n                if (req.blockTag !== \"latest\") {\n                    throw new Error(\"EtherscanProvider does not support blockTag for call\");\n                }\n                const postData = this._getTransactionPostData(req.transaction);\n                postData.module = \"proxy\";\n                postData.action = \"eth_call\";\n                try {\n                    return await this.fetch(\"proxy\", postData, true);\n                }\n                catch (error) {\n                    return this._checkError(req, error, req.transaction);\n                }\n            }\n            case \"estimateGas\": {\n                const postData = this._getTransactionPostData(req.transaction);\n                postData.module = \"proxy\";\n                postData.action = \"eth_estimateGas\";\n                try {\n                    return await this.fetch(\"proxy\", postData, true);\n                }\n                catch (error) {\n                    return this._checkError(req, error, req.transaction);\n                }\n            }\n            /*\n                        case \"getLogs\": {\n                            // Needs to complain if more than one address is passed in\n                            const args: Record<string, any> = { action: \"getLogs\" }\n            \n                            if (params.filter.fromBlock) {\n                                args.fromBlock = checkLogTag(params.filter.fromBlock);\n                            }\n            \n                            if (params.filter.toBlock) {\n                                args.toBlock = checkLogTag(params.filter.toBlock);\n                            }\n            \n                            if (params.filter.address) {\n                                args.address = params.filter.address;\n                            }\n            \n                            // @TODO: We can handle slightly more complicated logs using the logs API\n                            if (params.filter.topics && params.filter.topics.length > 0) {\n                                if (params.filter.topics.length > 1) {\n                                    logger.throwError(\"unsupported topic count\", Logger.Errors.UNSUPPORTED_OPERATION, { topics: params.filter.topics });\n                                }\n                                if (params.filter.topics.length === 1) {\n                                    const topic0 = params.filter.topics[0];\n                                    if (typeof(topic0) !== \"string\" || topic0.length !== 66) {\n                                        logger.throwError(\"unsupported topic format\", Logger.Errors.UNSUPPORTED_OPERATION, { topic0: topic0 });\n                                    }\n                                    args.topic0 = topic0;\n                                }\n                            }\n            \n                            const logs: Array<any> = await this.fetch(\"logs\", args);\n            \n                            // Cache txHash => blockHash\n                            let blocks: { [tag: string]: string } = {};\n            \n                            // Add any missing blockHash to the logs\n                            for (let i = 0; i < logs.length; i++) {\n                                const log = logs[i];\n                                if (log.blockHash != null) { continue; }\n                                if (blocks[log.blockNumber] == null) {\n                                    const block = await this.getBlock(log.blockNumber);\n                                    if (block) {\n                                        blocks[log.blockNumber] = block.hash;\n                                    }\n                                }\n            \n                                log.blockHash = blocks[log.blockNumber];\n                            }\n            \n                            return logs;\n                        }\n            */\n            default:\n                break;\n        }\n        return super._perform(req);\n    }\n    async getNetwork() {\n        return this.network;\n    }\n    /**\n     *  Resolves to the current price of ether.\n     *\n     *  This returns ``0`` on any network other than ``mainnet``.\n     */\n    async getEtherPrice() {\n        if (this.network.name !== \"mainnet\") {\n            return 0.0;\n        }\n        return parseFloat((await this.fetch(\"stats\", { action: \"ethprice\" })).ethusd);\n    }\n    /**\n     *  Resolves to a [Contract]] for %%address%%, using the\n     *  Etherscan API to retreive the Contract ABI.\n     */\n    async getContract(_address) {\n        let address = this._getAddress(_address);\n        if (isPromise(address)) {\n            address = await address;\n        }\n        try {\n            const resp = await this.fetch(\"contract\", {\n                action: \"getabi\", address\n            });\n            const abi = JSON.parse(resp);\n            return new Contract(address, abi, this);\n        }\n        catch (error) {\n            return null;\n        }\n    }\n    isCommunityResource() {\n        return (this.apiKey == null);\n    }\n}\n//# sourceMappingURL=provider-etherscan.js.map","function getGlobal() {\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    throw new Error('unable to locate global object');\n}\n;\nconst _WebSocket = getGlobal().WebSocket;\nexport { _WebSocket as WebSocket };\n//# sourceMappingURL=ws-browser.js.map","/**\n *  Generic long-lived socket provider.\n *\n *  Sub-classing notes\n *  - a sub-class MUST call the `_start()` method once connected\n *  - a sub-class MUST override the `_write(string)` method\n *  - a sub-class MUST call `_processMessage(string)` for each message\n *\n *  @_subsection: api/providers/abstract-provider:Socket Providers  [about-socketProvider]\n */\nimport { UnmanagedSubscriber } from \"./abstract-provider.js\";\nimport { assert, assertArgument, makeError } from \"../utils/index.js\";\nimport { JsonRpcApiProvider } from \"./provider-jsonrpc.js\";\n/**\n *  A **SocketSubscriber** uses a socket transport to handle events and\n *  should use [[_emit]] to manage the events.\n */\nexport class SocketSubscriber {\n    #provider;\n    #filter;\n    /**\n     *  The filter.\n     */\n    get filter() { return JSON.parse(this.#filter); }\n    #filterId;\n    #paused;\n    #emitPromise;\n    /**\n     *  Creates a new **SocketSubscriber** attached to %%provider%% listening\n     *  to %%filter%%.\n     */\n    constructor(provider, filter) {\n        this.#provider = provider;\n        this.#filter = JSON.stringify(filter);\n        this.#filterId = null;\n        this.#paused = null;\n        this.#emitPromise = null;\n    }\n    start() {\n        this.#filterId = this.#provider.send(\"eth_subscribe\", this.filter).then((filterId) => {\n            ;\n            this.#provider._register(filterId, this);\n            return filterId;\n        });\n    }\n    stop() {\n        (this.#filterId).then((filterId) => {\n            if (this.#provider.destroyed) {\n                return;\n            }\n            this.#provider.send(\"eth_unsubscribe\", [filterId]);\n        });\n        this.#filterId = null;\n    }\n    // @TODO: pause should trap the current blockNumber, unsub, and on resume use getLogs\n    //        and resume\n    pause(dropWhilePaused) {\n        assert(dropWhilePaused, \"preserve logs while paused not supported by SocketSubscriber yet\", \"UNSUPPORTED_OPERATION\", { operation: \"pause(false)\" });\n        this.#paused = !!dropWhilePaused;\n    }\n    resume() {\n        this.#paused = null;\n    }\n    /**\n     *  @_ignore:\n     */\n    _handleMessage(message) {\n        if (this.#filterId == null) {\n            return;\n        }\n        if (this.#paused === null) {\n            let emitPromise = this.#emitPromise;\n            if (emitPromise == null) {\n                emitPromise = this._emit(this.#provider, message);\n            }\n            else {\n                emitPromise = emitPromise.then(async () => {\n                    await this._emit(this.#provider, message);\n                });\n            }\n            this.#emitPromise = emitPromise.then(() => {\n                if (this.#emitPromise === emitPromise) {\n                    this.#emitPromise = null;\n                }\n            });\n        }\n    }\n    /**\n     *  Sub-classes **must** override this to emit the events on the\n     *  provider.\n     */\n    async _emit(provider, message) {\n        throw new Error(\"sub-classes must implemente this; _emit\");\n    }\n}\n/**\n *  A **SocketBlockSubscriber** listens for ``newHeads`` events and emits\n *  ``\"block\"`` events.\n */\nexport class SocketBlockSubscriber extends SocketSubscriber {\n    /**\n     *  @_ignore:\n     */\n    constructor(provider) {\n        super(provider, [\"newHeads\"]);\n    }\n    async _emit(provider, message) {\n        provider.emit(\"block\", parseInt(message.number));\n    }\n}\n/**\n *  A **SocketPendingSubscriber** listens for pending transacitons and emits\n *  ``\"pending\"`` events.\n */\nexport class SocketPendingSubscriber extends SocketSubscriber {\n    /**\n     *  @_ignore:\n     */\n    constructor(provider) {\n        super(provider, [\"newPendingTransactions\"]);\n    }\n    async _emit(provider, message) {\n        provider.emit(\"pending\", message);\n    }\n}\n/**\n *  A **SocketEventSubscriber** listens for event logs.\n */\nexport class SocketEventSubscriber extends SocketSubscriber {\n    #logFilter;\n    /**\n     *  The filter.\n     */\n    get logFilter() { return JSON.parse(this.#logFilter); }\n    /**\n     *  @_ignore:\n     */\n    constructor(provider, filter) {\n        super(provider, [\"logs\", filter]);\n        this.#logFilter = JSON.stringify(filter);\n    }\n    async _emit(provider, message) {\n        provider.emit(this.logFilter, provider._wrapLog(message, provider._network));\n    }\n}\n/**\n *  A **SocketProvider** is backed by a long-lived connection over a\n *  socket, which can subscribe and receive real-time messages over\n *  its communication channel.\n */\nexport class SocketProvider extends JsonRpcApiProvider {\n    #callbacks;\n    // Maps each filterId to its subscriber\n    #subs;\n    // If any events come in before a subscriber has finished\n    // registering, queue them\n    #pending;\n    /**\n     *  Creates a new **SocketProvider** connected to %%network%%.\n     *\n     *  If unspecified, the network will be discovered.\n     */\n    constructor(network, _options) {\n        // Copy the options\n        const options = Object.assign({}, (_options != null) ? _options : {});\n        // Support for batches is generally not supported for\n        // connection-base providers; if this changes in the future\n        // the _send should be updated to reflect this\n        assertArgument(options.batchMaxCount == null || options.batchMaxCount === 1, \"sockets-based providers do not support batches\", \"options.batchMaxCount\", _options);\n        options.batchMaxCount = 1;\n        // Socket-based Providers (generally) cannot change their network,\n        // since they have a long-lived connection; but let people override\n        // this if they have just cause.\n        if (options.staticNetwork == null) {\n            options.staticNetwork = true;\n        }\n        super(network, options);\n        this.#callbacks = new Map();\n        this.#subs = new Map();\n        this.#pending = new Map();\n    }\n    // This value is only valid after _start has been called\n    /*\n    get _network(): Network {\n        if (this.#network == null) {\n            throw new Error(\"this shouldn't happen\");\n        }\n        return this.#network.clone();\n    }\n    */\n    _getSubscriber(sub) {\n        switch (sub.type) {\n            case \"close\":\n                return new UnmanagedSubscriber(\"close\");\n            case \"block\":\n                return new SocketBlockSubscriber(this);\n            case \"pending\":\n                return new SocketPendingSubscriber(this);\n            case \"event\":\n                return new SocketEventSubscriber(this, sub.filter);\n            case \"orphan\":\n                // Handled auto-matically within AbstractProvider\n                // when the log.removed = true\n                if (sub.filter.orphan === \"drop-log\") {\n                    return new UnmanagedSubscriber(\"drop-log\");\n                }\n        }\n        return super._getSubscriber(sub);\n    }\n    /**\n     *  Register a new subscriber. This is used internalled by Subscribers\n     *  and generally is unecessary unless extending capabilities.\n     */\n    _register(filterId, subscriber) {\n        this.#subs.set(filterId, subscriber);\n        const pending = this.#pending.get(filterId);\n        if (pending) {\n            for (const message of pending) {\n                subscriber._handleMessage(message);\n            }\n            this.#pending.delete(filterId);\n        }\n    }\n    async _send(payload) {\n        // WebSocket provider doesn't accept batches\n        assertArgument(!Array.isArray(payload), \"WebSocket does not support batch send\", \"payload\", payload);\n        // @TODO: stringify payloads here and store to prevent mutations\n        // Prepare a promise to respond to\n        const promise = new Promise((resolve, reject) => {\n            this.#callbacks.set(payload.id, { payload, resolve, reject });\n        });\n        // Wait until the socket is connected before writing to it\n        await this._waitUntilReady();\n        // Write the request to the socket\n        await this._write(JSON.stringify(payload));\n        return [await promise];\n    }\n    // Sub-classes must call this once they are connected\n    /*\n    async _start(): Promise<void> {\n        if (this.#ready) { return; }\n\n        for (const { payload } of this.#callbacks.values()) {\n            await this._write(JSON.stringify(payload));\n        }\n\n        this.#ready = (async function() {\n            await super._start();\n        })();\n    }\n    */\n    /**\n     *  Sub-classes **must** call this with messages received over their\n     *  transport to be processed and dispatched.\n     */\n    async _processMessage(message) {\n        const result = (JSON.parse(message));\n        if (result && typeof (result) === \"object\" && \"id\" in result) {\n            const callback = this.#callbacks.get(result.id);\n            if (callback == null) {\n                this.emit(\"error\", makeError(\"received result for unknown id\", \"UNKNOWN_ERROR\", {\n                    reasonCode: \"UNKNOWN_ID\",\n                    result\n                }));\n                return;\n            }\n            this.#callbacks.delete(result.id);\n            callback.resolve(result);\n        }\n        else if (result && result.method === \"eth_subscription\") {\n            const filterId = result.params.subscription;\n            const subscriber = this.#subs.get(filterId);\n            if (subscriber) {\n                subscriber._handleMessage(result.params.result);\n            }\n            else {\n                let pending = this.#pending.get(filterId);\n                if (pending == null) {\n                    pending = [];\n                    this.#pending.set(filterId, pending);\n                }\n                pending.push(result.params.result);\n            }\n        }\n        else {\n            this.emit(\"error\", makeError(\"received unexpected message\", \"UNKNOWN_ERROR\", {\n                reasonCode: \"UNEXPECTED_MESSAGE\",\n                result\n            }));\n            return;\n        }\n    }\n    /**\n     *  Sub-classes **must** override this to send %%message%% over their\n     *  transport.\n     */\n    async _write(message) {\n        throw new Error(\"sub-classes must override this\");\n    }\n}\n//# sourceMappingURL=provider-socket.js.map","import { WebSocket as _WebSocket } from \"./ws.js\"; /*-browser*/\nimport { SocketProvider } from \"./provider-socket.js\";\n/**\n *  A JSON-RPC provider which is backed by a WebSocket.\n *\n *  WebSockets are often preferred because they retain a live connection\n *  to a server, which permits more instant access to events.\n *\n *  However, this incurs higher server infrasturture costs, so additional\n *  resources may be required to host your own WebSocket nodes and many\n *  third-party services charge additional fees for WebSocket endpoints.\n */\nexport class WebSocketProvider extends SocketProvider {\n    #connect;\n    #websocket;\n    get websocket() {\n        if (this.#websocket == null) {\n            throw new Error(\"websocket closed\");\n        }\n        return this.#websocket;\n    }\n    constructor(url, network, options) {\n        super(network, options);\n        if (typeof (url) === \"string\") {\n            this.#connect = () => { return new _WebSocket(url); };\n            this.#websocket = this.#connect();\n        }\n        else if (typeof (url) === \"function\") {\n            this.#connect = url;\n            this.#websocket = url();\n        }\n        else {\n            this.#connect = null;\n            this.#websocket = url;\n        }\n        this.websocket.onopen = async () => {\n            try {\n                await this._start();\n                this.resume();\n            }\n            catch (error) {\n                console.log(\"failed to start WebsocketProvider\", error);\n                // @TODO: now what? Attempt reconnect?\n            }\n        };\n        this.websocket.onmessage = (message) => {\n            this._processMessage(message.data);\n        };\n        /*\n                this.websocket.onclose = (event) => {\n                    // @TODO: What event.code should we reconnect on?\n                    const reconnect = false;\n                    if (reconnect) {\n                        this.pause(true);\n                        if (this.#connect) {\n                            this.#websocket = this.#connect();\n                            this.#websocket.onopen = ...\n                            // @TODO: this requires the super class to rebroadcast; move it there\n                        }\n                        this._reconnect();\n                    }\n                };\n        */\n    }\n    async _write(message) {\n        this.websocket.send(message);\n    }\n    async destroy() {\n        if (this.#websocket != null) {\n            this.#websocket.close();\n            this.#websocket = null;\n        }\n        super.destroy();\n    }\n}\n//# sourceMappingURL=provider-websocket.js.map","/**\n *  [[link-infura]] provides a third-party service for connecting to\n *  various blockchains over JSON-RPC.\n *\n *  **Supported Networks**\n *\n *  - Ethereum Mainnet (``mainnet``)\n *  - Goerli Testnet (``goerli``)\n *  - Sepolia Testnet (``sepolia``)\n *  - Arbitrum (``arbitrum``)\n *  - Arbitrum Goerli Testnet (``arbitrum-goerli``)\n *  - Arbitrum Sepolia Testnet (``arbitrum-sepolia``)\n *  - Base (``base``)\n *  - Base Goerlia Testnet (``base-goerli``)\n *  - Base Sepolia Testnet (``base-sepolia``)\n *  - BNB Smart Chain Mainnet (``bnb``)\n *  - BNB Smart Chain Testnet (``bnbt``)\n *  - Linea (``linea``)\n *  - Linea Goerli Testnet (``linea-goerli``)\n *  - Linea Sepolia Testnet (``linea-sepolia``)\n *  - Optimism (``optimism``)\n *  - Optimism Goerli Testnet (``optimism-goerli``)\n *  - Optimism Sepolia Testnet (``optimism-sepolia``)\n *  - Polygon (``matic``)\n *  - Polygon Amoy Testnet (``matic-amoy``)\n *  - Polygon Mumbai Testnet (``matic-mumbai``)\n *\n *  @_subsection: api/providers/thirdparty:INFURA  [providers-infura]\n */\nimport { defineProperties, FetchRequest, assert, assertArgument } from \"../utils/index.js\";\nimport { showThrottleMessage } from \"./community.js\";\nimport { Network } from \"./network.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\nimport { WebSocketProvider } from \"./provider-websocket.js\";\nconst defaultProjectId = \"84842078b09946638c03157f83405213\";\nfunction getHost(name) {\n    switch (name) {\n        case \"mainnet\":\n            return \"mainnet.infura.io\";\n        case \"goerli\":\n            return \"goerli.infura.io\";\n        case \"sepolia\":\n            return \"sepolia.infura.io\";\n        case \"arbitrum\":\n            return \"arbitrum-mainnet.infura.io\";\n        case \"arbitrum-goerli\":\n            return \"arbitrum-goerli.infura.io\";\n        case \"arbitrum-sepolia\":\n            return \"arbitrum-sepolia.infura.io\";\n        case \"base\":\n            return \"base-mainnet.infura.io\";\n        case \"base-goerlia\": // @TODO: Remove this typo in the future!\n        case \"base-goerli\":\n            return \"base-goerli.infura.io\";\n        case \"base-sepolia\":\n            return \"base-sepolia.infura.io\";\n        case \"bnb\":\n            return \"bsc-mainnet.infura.io\";\n        case \"bnbt\":\n            return \"bsc-testnet.infura.io\";\n        case \"linea\":\n            return \"linea-mainnet.infura.io\";\n        case \"linea-goerli\":\n            return \"linea-goerli.infura.io\";\n        case \"linea-sepolia\":\n            return \"linea-sepolia.infura.io\";\n        case \"matic\":\n            return \"polygon-mainnet.infura.io\";\n        case \"matic-amoy\":\n            return \"polygon-amoy.infura.io\";\n        case \"matic-mumbai\":\n            return \"polygon-mumbai.infura.io\";\n        case \"optimism\":\n            return \"optimism-mainnet.infura.io\";\n        case \"optimism-goerli\":\n            return \"optimism-goerli.infura.io\";\n        case \"optimism-sepolia\":\n            return \"optimism-sepolia.infura.io\";\n    }\n    assertArgument(false, \"unsupported network\", \"network\", name);\n}\n/**\n *  The **InfuraWebSocketProvider** connects to the [[link-infura]]\n *  WebSocket end-points.\n *\n *  By default, a highly-throttled API key is used, which is\n *  appropriate for quick prototypes and simple scripts. To\n *  gain access to an increased rate-limit, it is highly\n *  recommended to [sign up here](link-infura-signup).\n */\nexport class InfuraWebSocketProvider extends WebSocketProvider {\n    /**\n     *  The Project ID for the INFURA connection.\n     */\n    projectId;\n    /**\n     *  The Project Secret.\n     *\n     *  If null, no authenticated requests are made. This should not\n     *  be used outside of private contexts.\n     */\n    projectSecret;\n    /**\n     *  Creates a new **InfuraWebSocketProvider**.\n     */\n    constructor(network, projectId) {\n        const provider = new InfuraProvider(network, projectId);\n        const req = provider._getConnection();\n        assert(!req.credentials, \"INFURA WebSocket project secrets unsupported\", \"UNSUPPORTED_OPERATION\", { operation: \"InfuraProvider.getWebSocketProvider()\" });\n        const url = req.url.replace(/^http/i, \"ws\").replace(\"/v3/\", \"/ws/v3/\");\n        super(url, provider._network);\n        defineProperties(this, {\n            projectId: provider.projectId,\n            projectSecret: provider.projectSecret\n        });\n    }\n    isCommunityResource() {\n        return (this.projectId === defaultProjectId);\n    }\n}\n/**\n *  The **InfuraProvider** connects to the [[link-infura]]\n *  JSON-RPC end-points.\n *\n *  By default, a highly-throttled API key is used, which is\n *  appropriate for quick prototypes and simple scripts. To\n *  gain access to an increased rate-limit, it is highly\n *  recommended to [sign up here](link-infura-signup).\n */\nexport class InfuraProvider extends JsonRpcProvider {\n    /**\n     *  The Project ID for the INFURA connection.\n     */\n    projectId;\n    /**\n     *  The Project Secret.\n     *\n     *  If null, no authenticated requests are made. This should not\n     *  be used outside of private contexts.\n     */\n    projectSecret;\n    /**\n     *  Creates a new **InfuraProvider**.\n     */\n    constructor(_network, projectId, projectSecret) {\n        if (_network == null) {\n            _network = \"mainnet\";\n        }\n        const network = Network.from(_network);\n        if (projectId == null) {\n            projectId = defaultProjectId;\n        }\n        if (projectSecret == null) {\n            projectSecret = null;\n        }\n        const request = InfuraProvider.getRequest(network, projectId, projectSecret);\n        super(request, network, { staticNetwork: network });\n        defineProperties(this, { projectId, projectSecret });\n    }\n    _getProvider(chainId) {\n        try {\n            return new InfuraProvider(chainId, this.projectId, this.projectSecret);\n        }\n        catch (error) { }\n        return super._getProvider(chainId);\n    }\n    isCommunityResource() {\n        return (this.projectId === defaultProjectId);\n    }\n    /**\n     *  Creates a new **InfuraWebSocketProvider**.\n     */\n    static getWebSocketProvider(network, projectId) {\n        return new InfuraWebSocketProvider(network, projectId);\n    }\n    /**\n     *  Returns a prepared request for connecting to %%network%%\n     *  with %%projectId%% and %%projectSecret%%.\n     */\n    static getRequest(network, projectId, projectSecret) {\n        if (projectId == null) {\n            projectId = defaultProjectId;\n        }\n        if (projectSecret == null) {\n            projectSecret = null;\n        }\n        const request = new FetchRequest(`https:/\\/${getHost(network.name)}/v3/${projectId}`);\n        request.allowGzip = true;\n        if (projectSecret) {\n            request.setCredentials(\"\", projectSecret);\n        }\n        if (projectId === defaultProjectId) {\n            request.retryFunc = async (request, response, attempt) => {\n                showThrottleMessage(\"InfuraProvider\");\n                return true;\n            };\n        }\n        return request;\n    }\n}\n//# sourceMappingURL=provider-infura.js.map","/**\n *  [[link-quicknode]] provides a third-party service for connecting to\n *  various blockchains over JSON-RPC.\n *\n *  **Supported Networks**\n *\n *  - Ethereum Mainnet (``mainnet``)\n *  - Goerli Testnet (``goerli``)\n *  - Sepolia Testnet (``sepolia``)\n *  - Holesky Testnet (``holesky``)\n *  - Arbitrum (``arbitrum``)\n *  - Arbitrum Goerli Testnet (``arbitrum-goerli``)\n *  - Arbitrum Sepolia Testnet (``arbitrum-sepolia``)\n *  - Base Mainnet (``base``);\n *  - Base Goerli Testnet (``base-goerli``);\n *  - Base Sepolia Testnet (``base-sepolia``);\n *  - BNB Smart Chain Mainnet (``bnb``)\n *  - BNB Smart Chain Testnet (``bnbt``)\n *  - Optimism (``optimism``)\n *  - Optimism Goerli Testnet (``optimism-goerli``)\n *  - Optimism Sepolia Testnet (``optimism-sepolia``)\n *  - Polygon (``matic``)\n *  - Polygon Mumbai Testnet (``matic-mumbai``)\n *\n *  @_subsection: api/providers/thirdparty:QuickNode  [providers-quicknode]\n */\nimport { defineProperties, FetchRequest, assertArgument } from \"../utils/index.js\";\nimport { showThrottleMessage } from \"./community.js\";\nimport { Network } from \"./network.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\nconst defaultToken = \"919b412a057b5e9c9b6dce193c5a60242d6efadb\";\nfunction getHost(name) {\n    switch (name) {\n        case \"mainnet\":\n            return \"ethers.quiknode.pro\";\n        case \"goerli\":\n            return \"ethers.ethereum-goerli.quiknode.pro\";\n        case \"sepolia\":\n            return \"ethers.ethereum-sepolia.quiknode.pro\";\n        case \"holesky\":\n            return \"ethers.ethereum-holesky.quiknode.pro\";\n        case \"arbitrum\":\n            return \"ethers.arbitrum-mainnet.quiknode.pro\";\n        case \"arbitrum-goerli\":\n            return \"ethers.arbitrum-goerli.quiknode.pro\";\n        case \"arbitrum-sepolia\":\n            return \"ethers.arbitrum-sepolia.quiknode.pro\";\n        case \"base\":\n            return \"ethers.base-mainnet.quiknode.pro\";\n        case \"base-goerli\":\n            return \"ethers.base-goerli.quiknode.pro\";\n        case \"base-spolia\":\n            return \"ethers.base-sepolia.quiknode.pro\";\n        case \"bnb\":\n            return \"ethers.bsc.quiknode.pro\";\n        case \"bnbt\":\n            return \"ethers.bsc-testnet.quiknode.pro\";\n        case \"matic\":\n            return \"ethers.matic.quiknode.pro\";\n        case \"matic-mumbai\":\n            return \"ethers.matic-testnet.quiknode.pro\";\n        case \"optimism\":\n            return \"ethers.optimism.quiknode.pro\";\n        case \"optimism-goerli\":\n            return \"ethers.optimism-goerli.quiknode.pro\";\n        case \"optimism-sepolia\":\n            return \"ethers.optimism-sepolia.quiknode.pro\";\n        case \"xdai\":\n            return \"ethers.xdai.quiknode.pro\";\n    }\n    assertArgument(false, \"unsupported network\", \"network\", name);\n}\n/*\n@TODO:\n  These networks are not currently present in the Network\n  default included networks. Research them and ensure they\n  are EVM compatible and work with ethers\n\n  http://ethers.matic-amoy.quiknode.pro\n\n  http://ethers.avalanche-mainnet.quiknode.pro\n  http://ethers.avalanche-testnet.quiknode.pro\n  http://ethers.blast-sepolia.quiknode.pro\n  http://ethers.celo-mainnet.quiknode.pro\n  http://ethers.fantom.quiknode.pro\n  http://ethers.imx-demo.quiknode.pro\n  http://ethers.imx-mainnet.quiknode.pro\n  http://ethers.imx-testnet.quiknode.pro\n  http://ethers.near-mainnet.quiknode.pro\n  http://ethers.near-testnet.quiknode.pro\n  http://ethers.nova-mainnet.quiknode.pro\n  http://ethers.scroll-mainnet.quiknode.pro\n  http://ethers.scroll-testnet.quiknode.pro\n  http://ethers.tron-mainnet.quiknode.pro\n  http://ethers.zkevm-mainnet.quiknode.pro\n  http://ethers.zkevm-testnet.quiknode.pro\n  http://ethers.zksync-mainnet.quiknode.pro\n  http://ethers.zksync-testnet.quiknode.pro\n*/\n/**\n *  The **QuickNodeProvider** connects to the [[link-quicknode]]\n *  JSON-RPC end-points.\n *\n *  By default, a highly-throttled API token is used, which is\n *  appropriate for quick prototypes and simple scripts. To\n *  gain access to an increased rate-limit, it is highly\n *  recommended to [sign up here](link-quicknode).\n */\nexport class QuickNodeProvider extends JsonRpcProvider {\n    /**\n     *  The API token.\n     */\n    token;\n    /**\n     *  Creates a new **QuickNodeProvider**.\n     */\n    constructor(_network, token) {\n        if (_network == null) {\n            _network = \"mainnet\";\n        }\n        const network = Network.from(_network);\n        if (token == null) {\n            token = defaultToken;\n        }\n        const request = QuickNodeProvider.getRequest(network, token);\n        super(request, network, { staticNetwork: network });\n        defineProperties(this, { token });\n    }\n    _getProvider(chainId) {\n        try {\n            return new QuickNodeProvider(chainId, this.token);\n        }\n        catch (error) { }\n        return super._getProvider(chainId);\n    }\n    isCommunityResource() {\n        return (this.token === defaultToken);\n    }\n    /**\n     *  Returns a new request prepared for %%network%% and the\n     *  %%token%%.\n     */\n    static getRequest(network, token) {\n        if (token == null) {\n            token = defaultToken;\n        }\n        const request = new FetchRequest(`https:/\\/${getHost(network.name)}/${token}`);\n        request.allowGzip = true;\n        //if (projectSecret) { request.setCredentials(\"\", projectSecret); }\n        if (token === defaultToken) {\n            request.retryFunc = async (request, response, attempt) => {\n                showThrottleMessage(\"QuickNodeProvider\");\n                return true;\n            };\n        }\n        return request;\n    }\n}\n//# sourceMappingURL=provider-quicknode.js.map","/**\n *  A **FallbackProvider** provides resilience, security and performance\n *  in a way that is customizable and configurable.\n *\n *  @_section: api/providers/fallback-provider:Fallback Provider [about-fallback-provider]\n */\nimport { assert, assertArgument, getBigInt, getNumber, isError } from \"../utils/index.js\";\nimport { AbstractProvider } from \"./abstract-provider.js\";\nimport { Network } from \"./network.js\";\nconst BN_1 = BigInt(\"1\");\nconst BN_2 = BigInt(\"2\");\nfunction shuffle(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        const tmp = array[i];\n        array[i] = array[j];\n        array[j] = tmp;\n    }\n}\nfunction stall(duration) {\n    return new Promise((resolve) => { setTimeout(resolve, duration); });\n}\nfunction getTime() { return (new Date()).getTime(); }\nfunction stringify(value) {\n    return JSON.stringify(value, (key, value) => {\n        if (typeof (value) === \"bigint\") {\n            return { type: \"bigint\", value: value.toString() };\n        }\n        return value;\n    });\n}\n;\nconst defaultConfig = { stallTimeout: 400, priority: 1, weight: 1 };\nconst defaultState = {\n    blockNumber: -2, requests: 0, lateResponses: 0, errorResponses: 0,\n    outOfSync: -1, unsupportedEvents: 0, rollingDuration: 0, score: 0,\n    _network: null, _updateNumber: null, _totalTime: 0,\n    _lastFatalError: null, _lastFatalErrorTimestamp: 0\n};\nasync function waitForSync(config, blockNumber) {\n    while (config.blockNumber < 0 || config.blockNumber < blockNumber) {\n        if (!config._updateNumber) {\n            config._updateNumber = (async () => {\n                try {\n                    const blockNumber = await config.provider.getBlockNumber();\n                    if (blockNumber > config.blockNumber) {\n                        config.blockNumber = blockNumber;\n                    }\n                }\n                catch (error) {\n                    config.blockNumber = -2;\n                    config._lastFatalError = error;\n                    config._lastFatalErrorTimestamp = getTime();\n                }\n                config._updateNumber = null;\n            })();\n        }\n        await config._updateNumber;\n        config.outOfSync++;\n        if (config._lastFatalError) {\n            break;\n        }\n    }\n}\nfunction _normalize(value) {\n    if (value == null) {\n        return \"null\";\n    }\n    if (Array.isArray(value)) {\n        return \"[\" + (value.map(_normalize)).join(\",\") + \"]\";\n    }\n    if (typeof (value) === \"object\" && typeof (value.toJSON) === \"function\") {\n        return _normalize(value.toJSON());\n    }\n    switch (typeof (value)) {\n        case \"boolean\":\n        case \"symbol\":\n            return value.toString();\n        case \"bigint\":\n        case \"number\":\n            return BigInt(value).toString();\n        case \"string\":\n            return JSON.stringify(value);\n        case \"object\": {\n            const keys = Object.keys(value);\n            keys.sort();\n            return \"{\" + keys.map((k) => `${JSON.stringify(k)}:${_normalize(value[k])}`).join(\",\") + \"}\";\n        }\n    }\n    console.log(\"Could not serialize\", value);\n    throw new Error(\"Hmm...\");\n}\nfunction normalizeResult(method, value) {\n    if (\"error\" in value) {\n        const error = value.error;\n        let tag;\n        if (isError(error, \"CALL_EXCEPTION\")) {\n            tag = _normalize(Object.assign({}, error, {\n                shortMessage: undefined, reason: undefined, info: undefined\n            }));\n        }\n        else {\n            tag = _normalize(error);\n        }\n        return { tag, value: error };\n    }\n    const result = value.result;\n    return { tag: _normalize(result), value: result };\n}\n// This strategy picks the highest weight result, as long as the weight is\n// equal to or greater than quorum\nfunction checkQuorum(quorum, results) {\n    const tally = new Map();\n    for (const { value, tag, weight } of results) {\n        const t = tally.get(tag) || { value, weight: 0 };\n        t.weight += weight;\n        tally.set(tag, t);\n    }\n    let best = null;\n    for (const r of tally.values()) {\n        if (r.weight >= quorum && (!best || r.weight > best.weight)) {\n            best = r;\n        }\n    }\n    if (best) {\n        return best.value;\n    }\n    return undefined;\n}\nfunction getMedian(quorum, results) {\n    let resultWeight = 0;\n    const errorMap = new Map();\n    let bestError = null;\n    const values = [];\n    for (const { value, tag, weight } of results) {\n        if (value instanceof Error) {\n            const e = errorMap.get(tag) || { value, weight: 0 };\n            e.weight += weight;\n            errorMap.set(tag, e);\n            if (bestError == null || e.weight > bestError.weight) {\n                bestError = e;\n            }\n        }\n        else {\n            values.push(BigInt(value));\n            resultWeight += weight;\n        }\n    }\n    if (resultWeight < quorum) {\n        // We have quorum for an error\n        if (bestError && bestError.weight >= quorum) {\n            return bestError.value;\n        }\n        // We do not have quorum for a result\n        return undefined;\n    }\n    // Get the sorted values\n    values.sort((a, b) => ((a < b) ? -1 : (b > a) ? 1 : 0));\n    const mid = Math.floor(values.length / 2);\n    // Odd-length; take the middle value\n    if (values.length % 2) {\n        return values[mid];\n    }\n    // Even length; take the ceiling of the mean of the center two values\n    return (values[mid - 1] + values[mid] + BN_1) / BN_2;\n}\nfunction getAnyResult(quorum, results) {\n    // If any value or error meets quorum, that is our preferred result\n    const result = checkQuorum(quorum, results);\n    if (result !== undefined) {\n        return result;\n    }\n    // Otherwise, do we have any result?\n    for (const r of results) {\n        if (r.value) {\n            return r.value;\n        }\n    }\n    // Nope!\n    return undefined;\n}\nfunction getFuzzyMode(quorum, results) {\n    if (quorum === 1) {\n        return getNumber(getMedian(quorum, results), \"%internal\");\n    }\n    const tally = new Map();\n    const add = (result, weight) => {\n        const t = tally.get(result) || { result, weight: 0 };\n        t.weight += weight;\n        tally.set(result, t);\n    };\n    for (const { weight, value } of results) {\n        const r = getNumber(value);\n        add(r - 1, weight);\n        add(r, weight);\n        add(r + 1, weight);\n    }\n    let bestWeight = 0;\n    let bestResult = undefined;\n    for (const { weight, result } of tally.values()) {\n        // Use this result, if this result meets quorum and has either:\n        // - a better weight\n        // - or equal weight, but the result is larger\n        if (weight >= quorum && (weight > bestWeight || (bestResult != null && weight === bestWeight && result > bestResult))) {\n            bestWeight = weight;\n            bestResult = result;\n        }\n    }\n    return bestResult;\n}\n/**\n *  A **FallbackProvider** manages several [[Providers]] providing\n *  resilience by switching between slow or misbehaving nodes, security\n *  by requiring multiple backends to aggree and performance by allowing\n *  faster backends to respond earlier.\n *\n */\nexport class FallbackProvider extends AbstractProvider {\n    /**\n     *  The number of backends that must agree on a value before it is\n     *  accpeted.\n     */\n    quorum;\n    /**\n     *  @_ignore:\n     */\n    eventQuorum;\n    /**\n     *  @_ignore:\n     */\n    eventWorkers;\n    #configs;\n    #height;\n    #initialSyncPromise;\n    /**\n     *  Creates a new **FallbackProvider** with %%providers%% connected to\n     *  %%network%%.\n     *\n     *  If a [[Provider]] is included in %%providers%%, defaults are used\n     *  for the configuration.\n     */\n    constructor(providers, network, options) {\n        super(network, options);\n        this.#configs = providers.map((p) => {\n            if (p instanceof AbstractProvider) {\n                return Object.assign({ provider: p }, defaultConfig, defaultState);\n            }\n            else {\n                return Object.assign({}, defaultConfig, p, defaultState);\n            }\n        });\n        this.#height = -2;\n        this.#initialSyncPromise = null;\n        if (options && options.quorum != null) {\n            this.quorum = options.quorum;\n        }\n        else {\n            this.quorum = Math.ceil(this.#configs.reduce((accum, config) => {\n                accum += config.weight;\n                return accum;\n            }, 0) / 2);\n        }\n        this.eventQuorum = 1;\n        this.eventWorkers = 1;\n        assertArgument(this.quorum <= this.#configs.reduce((a, c) => (a + c.weight), 0), \"quorum exceed provider weight\", \"quorum\", this.quorum);\n    }\n    get providerConfigs() {\n        return this.#configs.map((c) => {\n            const result = Object.assign({}, c);\n            for (const key in result) {\n                if (key[0] === \"_\") {\n                    delete result[key];\n                }\n            }\n            return result;\n        });\n    }\n    async _detectNetwork() {\n        return Network.from(getBigInt(await this._perform({ method: \"chainId\" })));\n    }\n    // @TODO: Add support to select providers to be the event subscriber\n    //_getSubscriber(sub: Subscription): Subscriber {\n    //    throw new Error(\"@TODO\");\n    //}\n    /**\n     *  Transforms a %%req%% into the correct method call on %%provider%%.\n     */\n    async _translatePerform(provider, req) {\n        switch (req.method) {\n            case \"broadcastTransaction\":\n                return await provider.broadcastTransaction(req.signedTransaction);\n            case \"call\":\n                return await provider.call(Object.assign({}, req.transaction, { blockTag: req.blockTag }));\n            case \"chainId\":\n                return (await provider.getNetwork()).chainId;\n            case \"estimateGas\":\n                return await provider.estimateGas(req.transaction);\n            case \"getBalance\":\n                return await provider.getBalance(req.address, req.blockTag);\n            case \"getBlock\": {\n                const block = (\"blockHash\" in req) ? req.blockHash : req.blockTag;\n                return await provider.getBlock(block, req.includeTransactions);\n            }\n            case \"getBlockNumber\":\n                return await provider.getBlockNumber();\n            case \"getCode\":\n                return await provider.getCode(req.address, req.blockTag);\n            case \"getGasPrice\":\n                return (await provider.getFeeData()).gasPrice;\n            case \"getPriorityFee\":\n                return (await provider.getFeeData()).maxPriorityFeePerGas;\n            case \"getLogs\":\n                return await provider.getLogs(req.filter);\n            case \"getStorage\":\n                return await provider.getStorage(req.address, req.position, req.blockTag);\n            case \"getTransaction\":\n                return await provider.getTransaction(req.hash);\n            case \"getTransactionCount\":\n                return await provider.getTransactionCount(req.address, req.blockTag);\n            case \"getTransactionReceipt\":\n                return await provider.getTransactionReceipt(req.hash);\n            case \"getTransactionResult\":\n                return await provider.getTransactionResult(req.hash);\n        }\n    }\n    // Grab the next (random) config that is not already part of\n    // the running set\n    #getNextConfig(running) {\n        // @TODO: Maybe do a check here to favour (heavily) providers that\n        //        do not require waitForSync and disfavour providers that\n        //        seem down-ish or are behaving slowly\n        const configs = Array.from(running).map((r) => r.config);\n        // Shuffle the states, sorted by priority\n        const allConfigs = this.#configs.slice();\n        shuffle(allConfigs);\n        allConfigs.sort((a, b) => (a.priority - b.priority));\n        for (const config of allConfigs) {\n            if (config._lastFatalError) {\n                continue;\n            }\n            if (configs.indexOf(config) === -1) {\n                return config;\n            }\n        }\n        return null;\n    }\n    // Adds a new runner (if available) to running.\n    #addRunner(running, req) {\n        const config = this.#getNextConfig(running);\n        // No runners available\n        if (config == null) {\n            return null;\n        }\n        // Create a new runner\n        const runner = {\n            config, result: null, didBump: false,\n            perform: null, staller: null\n        };\n        const now = getTime();\n        // Start performing this operation\n        runner.perform = (async () => {\n            try {\n                config.requests++;\n                const result = await this._translatePerform(config.provider, req);\n                runner.result = { result };\n            }\n            catch (error) {\n                config.errorResponses++;\n                runner.result = { error };\n            }\n            const dt = (getTime() - now);\n            config._totalTime += dt;\n            config.rollingDuration = 0.95 * config.rollingDuration + 0.05 * dt;\n            runner.perform = null;\n        })();\n        // Start a staller; when this times out, it's time to force\n        // kicking off another runner because we are taking too long\n        runner.staller = (async () => {\n            await stall(config.stallTimeout);\n            runner.staller = null;\n        })();\n        running.add(runner);\n        return runner;\n    }\n    // Initializes the blockNumber and network for each runner and\n    // blocks until initialized\n    async #initialSync() {\n        let initialSync = this.#initialSyncPromise;\n        if (!initialSync) {\n            const promises = [];\n            this.#configs.forEach((config) => {\n                promises.push((async () => {\n                    await waitForSync(config, 0);\n                    if (!config._lastFatalError) {\n                        config._network = await config.provider.getNetwork();\n                    }\n                })());\n            });\n            this.#initialSyncPromise = initialSync = (async () => {\n                // Wait for all providers to have a block number and network\n                await Promise.all(promises);\n                // Check all the networks match\n                let chainId = null;\n                for (const config of this.#configs) {\n                    if (config._lastFatalError) {\n                        continue;\n                    }\n                    const network = (config._network);\n                    if (chainId == null) {\n                        chainId = network.chainId;\n                    }\n                    else if (network.chainId !== chainId) {\n                        assert(false, \"cannot mix providers on different networks\", \"UNSUPPORTED_OPERATION\", {\n                            operation: \"new FallbackProvider\"\n                        });\n                    }\n                }\n            })();\n        }\n        await initialSync;\n    }\n    async #checkQuorum(running, req) {\n        // Get all the result objects\n        const results = [];\n        for (const runner of running) {\n            if (runner.result != null) {\n                const { tag, value } = normalizeResult(req.method, runner.result);\n                results.push({ tag, value, weight: runner.config.weight });\n            }\n        }\n        // Are there enough results to event meet quorum?\n        if (results.reduce((a, r) => (a + r.weight), 0) < this.quorum) {\n            return undefined;\n        }\n        switch (req.method) {\n            case \"getBlockNumber\": {\n                // We need to get the bootstrap block height\n                if (this.#height === -2) {\n                    this.#height = Math.ceil(getNumber(getMedian(this.quorum, this.#configs.filter((c) => (!c._lastFatalError)).map((c) => ({\n                        value: c.blockNumber,\n                        tag: getNumber(c.blockNumber).toString(),\n                        weight: c.weight\n                    })))));\n                }\n                // Find the mode across all the providers, allowing for\n                // a little drift between block heights\n                const mode = getFuzzyMode(this.quorum, results);\n                if (mode === undefined) {\n                    return undefined;\n                }\n                if (mode > this.#height) {\n                    this.#height = mode;\n                }\n                return this.#height;\n            }\n            case \"getGasPrice\":\n            case \"getPriorityFee\":\n            case \"estimateGas\":\n                return getMedian(this.quorum, results);\n            case \"getBlock\":\n                // Pending blocks are in the mempool and already\n                // quite untrustworthy; just grab anything\n                if (\"blockTag\" in req && req.blockTag === \"pending\") {\n                    return getAnyResult(this.quorum, results);\n                }\n                return checkQuorum(this.quorum, results);\n            case \"call\":\n            case \"chainId\":\n            case \"getBalance\":\n            case \"getTransactionCount\":\n            case \"getCode\":\n            case \"getStorage\":\n            case \"getTransaction\":\n            case \"getTransactionReceipt\":\n            case \"getLogs\":\n                return checkQuorum(this.quorum, results);\n            case \"broadcastTransaction\":\n                return getAnyResult(this.quorum, results);\n        }\n        assert(false, \"unsupported method\", \"UNSUPPORTED_OPERATION\", {\n            operation: `_perform(${stringify(req.method)})`\n        });\n    }\n    async #waitForQuorum(running, req) {\n        if (running.size === 0) {\n            throw new Error(\"no runners?!\");\n        }\n        // Any promises that are interesting to watch for; an expired stall\n        // or a successful perform\n        const interesting = [];\n        let newRunners = 0;\n        for (const runner of running) {\n            // No responses, yet; keep an eye on it\n            if (runner.perform) {\n                interesting.push(runner.perform);\n            }\n            // Still stalling...\n            if (runner.staller) {\n                interesting.push(runner.staller);\n                continue;\n            }\n            // This runner has already triggered another runner\n            if (runner.didBump) {\n                continue;\n            }\n            // Got a response (result or error) or stalled; kick off another runner\n            runner.didBump = true;\n            newRunners++;\n        }\n        // Check if we have reached quorum on a result (or error)\n        const value = await this.#checkQuorum(running, req);\n        if (value !== undefined) {\n            if (value instanceof Error) {\n                throw value;\n            }\n            return value;\n        }\n        // Add any new runners, because a staller timed out or a result\n        // or error response came in.\n        for (let i = 0; i < newRunners; i++) {\n            this.#addRunner(running, req);\n        }\n        // All providers have returned, and we have no result\n        assert(interesting.length > 0, \"quorum not met\", \"SERVER_ERROR\", {\n            request: \"%sub-requests\",\n            info: { request: req, results: Array.from(running).map((r) => stringify(r.result)) }\n        });\n        // Wait for someone to either complete its perform or stall out\n        await Promise.race(interesting);\n        // This is recursive, but at worst case the depth is 2x the\n        // number of providers (each has a perform and a staller)\n        return await this.#waitForQuorum(running, req);\n    }\n    async _perform(req) {\n        // Broadcasting a transaction is rare (ish) and already incurs\n        // a cost on the user, so spamming is safe-ish. Just send it to\n        // every backend.\n        if (req.method === \"broadcastTransaction\") {\n            // Once any broadcast provides a positive result, use it. No\n            // need to wait for anyone else\n            const results = this.#configs.map((c) => null);\n            const broadcasts = this.#configs.map(async ({ provider, weight }, index) => {\n                try {\n                    const result = await provider._perform(req);\n                    results[index] = Object.assign(normalizeResult(req.method, { result }), { weight });\n                }\n                catch (error) {\n                    results[index] = Object.assign(normalizeResult(req.method, { error }), { weight });\n                }\n            });\n            // As each promise finishes...\n            while (true) {\n                // Check for a valid broadcast result\n                const done = results.filter((r) => (r != null));\n                for (const { value } of done) {\n                    if (!(value instanceof Error)) {\n                        return value;\n                    }\n                }\n                // Check for a legit broadcast error (one which we cannot\n                // recover from; some nodes may return the following red\n                // herring events:\n                // - alredy seend (UNKNOWN_ERROR)\n                // - NONCE_EXPIRED\n                // - REPLACEMENT_UNDERPRICED\n                const result = checkQuorum(this.quorum, results.filter((r) => (r != null)));\n                if (isError(result, \"INSUFFICIENT_FUNDS\")) {\n                    throw result;\n                }\n                // Kick off the next provider (if any)\n                const waiting = broadcasts.filter((b, i) => (results[i] == null));\n                if (waiting.length === 0) {\n                    break;\n                }\n                await Promise.race(waiting);\n            }\n            // Use standard quorum results; any result was returned above,\n            // so this will find any error that met quorum if any\n            const result = getAnyResult(this.quorum, results);\n            assert(result !== undefined, \"problem multi-broadcasting\", \"SERVER_ERROR\", {\n                request: \"%sub-requests\",\n                info: { request: req, results: results.map(stringify) }\n            });\n            if (result instanceof Error) {\n                throw result;\n            }\n            return result;\n        }\n        await this.#initialSync();\n        // Bootstrap enough runners to meet quorum\n        const running = new Set();\n        let inflightQuorum = 0;\n        while (true) {\n            const runner = this.#addRunner(running, req);\n            if (runner == null) {\n                break;\n            }\n            inflightQuorum += runner.config.weight;\n            if (inflightQuorum >= this.quorum) {\n                break;\n            }\n        }\n        const result = await this.#waitForQuorum(running, req);\n        // Track requests sent to a provider that are still\n        // outstanding after quorum has been otherwise found\n        for (const runner of running) {\n            if (runner.perform && runner.result == null) {\n                runner.config.lateResponses++;\n            }\n        }\n        return result;\n    }\n    async destroy() {\n        for (const { provider } of this.#configs) {\n            provider.destroy();\n        }\n        super.destroy();\n    }\n}\n//# sourceMappingURL=provider-fallback.js.map","import { assert } from \"../utils/index.js\";\nimport { AnkrProvider } from \"./provider-ankr.js\";\nimport { AlchemyProvider } from \"./provider-alchemy.js\";\n//import { BlockscoutProvider } from \"./provider-blockscout.js\";\nimport { ChainstackProvider } from \"./provider-chainstack.js\";\nimport { CloudflareProvider } from \"./provider-cloudflare.js\";\nimport { EtherscanProvider } from \"./provider-etherscan.js\";\nimport { InfuraProvider } from \"./provider-infura.js\";\n//import { PocketProvider } from \"./provider-pocket.js\";\nimport { QuickNodeProvider } from \"./provider-quicknode.js\";\nimport { FallbackProvider } from \"./provider-fallback.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\nimport { Network } from \"./network.js\";\nimport { WebSocketProvider } from \"./provider-websocket.js\";\nfunction isWebSocketLike(value) {\n    return (value && typeof (value.send) === \"function\" &&\n        typeof (value.close) === \"function\");\n}\nconst Testnets = \"goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt\".split(\" \");\n/**\n *  Returns a default provider for %%network%%.\n *\n *  If %%network%% is a [[WebSocketLike]] or string that begins with\n *  ``\"ws:\"`` or ``\"wss:\"``, a [[WebSocketProvider]] is returned backed\n *  by that WebSocket or URL.\n *\n *  If %%network%% is a string that begins with ``\"HTTP:\"`` or ``\"HTTPS:\"``,\n *  a [[JsonRpcProvider]] is returned connected to that URL.\n *\n *  Otherwise, a default provider is created backed by well-known public\n *  Web3 backends (such as [[link-infura]]) using community-provided API\n *  keys.\n *\n *  The %%options%% allows specifying custom API keys per backend (setting\n *  an API key to ``\"-\"`` will omit that provider) and ``options.exclusive``\n *  can be set to either a backend name or and array of backend names, which\n *  will whitelist **only** those backends.\n *\n *  Current backend strings supported are:\n *  - ``\"alchemy\"``\n *  - ``\"ankr\"``\n *  - ``\"cloudflare\"``\n *  - ``\"chainstack\"``\n *  - ``\"etherscan\"``\n *  - ``\"infura\"``\n *  - ``\"publicPolygon\"``\n *  - ``\"quicknode\"``\n *\n *  @example:\n *    // Connect to a local Geth node\n *    provider = getDefaultProvider(\"http://localhost:8545/\");\n *\n *    // Connect to Ethereum mainnet with any current and future\n *    // third-party services available\n *    provider = getDefaultProvider(\"mainnet\");\n *\n *    // Connect to Polygon, but only allow Etherscan and\n *    // INFURA and use \"MY_API_KEY\" in calls to Etherscan.\n *    provider = getDefaultProvider(\"matic\", {\n *      etherscan: \"MY_API_KEY\",\n *      exclusive: [ \"etherscan\", \"infura\" ]\n *    });\n */\nexport function getDefaultProvider(network, options) {\n    if (options == null) {\n        options = {};\n    }\n    const allowService = (name) => {\n        if (options[name] === \"-\") {\n            return false;\n        }\n        if (typeof (options.exclusive) === \"string\") {\n            return (name === options.exclusive);\n        }\n        if (Array.isArray(options.exclusive)) {\n            return (options.exclusive.indexOf(name) !== -1);\n        }\n        return true;\n    };\n    if (typeof (network) === \"string\" && network.match(/^https?:/)) {\n        return new JsonRpcProvider(network);\n    }\n    if (typeof (network) === \"string\" && network.match(/^wss?:/) || isWebSocketLike(network)) {\n        return new WebSocketProvider(network);\n    }\n    // Get the network and name, if possible\n    let staticNetwork = null;\n    try {\n        staticNetwork = Network.from(network);\n    }\n    catch (error) { }\n    const providers = [];\n    if (allowService(\"publicPolygon\") && staticNetwork) {\n        if (staticNetwork.name === \"matic\") {\n            providers.push(new JsonRpcProvider(\"https:/\\/polygon-rpc.com/\", staticNetwork, { staticNetwork }));\n        }\n        else if (staticNetwork.name === \"matic-amoy\") {\n            providers.push(new JsonRpcProvider(\"https:/\\/rpc-amoy.polygon.technology/\", staticNetwork, { staticNetwork }));\n        }\n    }\n    if (allowService(\"alchemy\")) {\n        try {\n            providers.push(new AlchemyProvider(network, options.alchemy));\n        }\n        catch (error) { }\n    }\n    if (allowService(\"ankr\") && options.ankr != null) {\n        try {\n            providers.push(new AnkrProvider(network, options.ankr));\n        }\n        catch (error) { }\n    }\n    /* Temporarily remove until custom error issue is fixed\n        if (allowService(\"blockscout\")) {\n            try {\n                providers.push(new BlockscoutProvider(network, options.blockscout));\n            } catch (error) { }\n        }\n    */\n    if (allowService(\"chainstack\")) {\n        try {\n            providers.push(new ChainstackProvider(network, options.chainstack));\n        }\n        catch (error) { }\n    }\n    if (allowService(\"cloudflare\")) {\n        try {\n            providers.push(new CloudflareProvider(network));\n        }\n        catch (error) { }\n    }\n    if (allowService(\"etherscan\")) {\n        try {\n            providers.push(new EtherscanProvider(network, options.etherscan));\n        }\n        catch (error) { }\n    }\n    if (allowService(\"infura\")) {\n        try {\n            let projectId = options.infura;\n            let projectSecret = undefined;\n            if (typeof (projectId) === \"object\") {\n                projectSecret = projectId.projectSecret;\n                projectId = projectId.projectId;\n            }\n            providers.push(new InfuraProvider(network, projectId, projectSecret));\n        }\n        catch (error) { }\n    }\n    /*\n        if (options.pocket !== \"-\") {\n            try {\n                let appId = options.pocket;\n                let secretKey: undefined | string = undefined;\n                let loadBalancer: undefined | boolean = undefined;\n                if (typeof(appId) === \"object\") {\n                    loadBalancer = !!appId.loadBalancer;\n                    secretKey = appId.secretKey;\n                    appId = appId.appId;\n                }\n                providers.push(new PocketProvider(network, appId, secretKey, loadBalancer));\n            } catch (error) { console.log(error); }\n        }\n    */\n    if (allowService(\"quicknode\")) {\n        try {\n            let token = options.quicknode;\n            providers.push(new QuickNodeProvider(network, token));\n        }\n        catch (error) { }\n    }\n    assert(providers.length, \"unsupported default network\", \"UNSUPPORTED_OPERATION\", {\n        operation: \"getDefaultProvider\"\n    });\n    // No need for a FallbackProvider\n    if (providers.length === 1) {\n        return providers[0];\n    }\n    // We use the floor because public third-party providers can be unreliable,\n    // so a low number of providers with a large quorum will fail too often\n    let quorum = Math.floor(providers.length / 2);\n    if (quorum > 2) {\n        quorum = 2;\n    }\n    // Testnets don't need as strong a security gaurantee and speed is\n    // more useful during testing\n    if (staticNetwork && Testnets.indexOf(staticNetwork.name) !== -1) {\n        quorum = 1;\n    }\n    // Provided override qorum takes priority\n    if (options && options.quorum) {\n        quorum = options.quorum;\n    }\n    return new FallbackProvider(providers, undefined, { quorum });\n}\n//# sourceMappingURL=default-provider.js.map","import { defineProperties } from \"../utils/index.js\";\nimport { AbstractSigner } from \"./abstract-signer.js\";\n/**\n *  A **NonceManager** wraps another [[Signer]] and automatically manages\n *  the nonce, ensuring serialized and sequential nonces are used during\n *  transaction.\n */\nexport class NonceManager extends AbstractSigner {\n    /**\n     *  The Signer being managed.\n     */\n    signer;\n    #noncePromise;\n    #delta;\n    /**\n     *  Creates a new **NonceManager** to manage %%signer%%.\n     */\n    constructor(signer) {\n        super(signer.provider);\n        defineProperties(this, { signer });\n        this.#noncePromise = null;\n        this.#delta = 0;\n    }\n    async getAddress() {\n        return this.signer.getAddress();\n    }\n    connect(provider) {\n        return new NonceManager(this.signer.connect(provider));\n    }\n    async getNonce(blockTag) {\n        if (blockTag === \"pending\") {\n            if (this.#noncePromise == null) {\n                this.#noncePromise = super.getNonce(\"pending\");\n            }\n            const delta = this.#delta;\n            return (await this.#noncePromise) + delta;\n        }\n        return super.getNonce(blockTag);\n    }\n    /**\n     *  Manually increment the nonce. This may be useful when managng\n     *  offline transactions.\n     */\n    increment() {\n        this.#delta++;\n    }\n    /**\n     *  Resets the nonce, causing the **NonceManager** to reload the current\n     *  nonce from the blockchain on the next transaction.\n     */\n    reset() {\n        this.#delta = 0;\n        this.#noncePromise = null;\n    }\n    async sendTransaction(tx) {\n        const noncePromise = this.getNonce(\"pending\");\n        this.increment();\n        tx = await this.signer.populateTransaction(tx);\n        tx.nonce = await noncePromise;\n        // @TODO: Maybe handle interesting/recoverable errors?\n        // Like don't increment if the tx was certainly not sent\n        return await this.signer.sendTransaction(tx);\n    }\n    signTransaction(tx) {\n        return this.signer.signTransaction(tx);\n    }\n    signMessage(message) {\n        return this.signer.signMessage(message);\n    }\n    signTypedData(domain, types, value) {\n        return this.signer.signTypedData(domain, types, value);\n    }\n}\n//# sourceMappingURL=signer-noncemanager.js.map","import { assertArgument, makeError } from \"../utils/index.js\";\nimport { JsonRpcApiPollingProvider } from \"./provider-jsonrpc.js\";\n;\n/**\n *  A **BrowserProvider** is intended to wrap an injected provider which\n *  adheres to the [[link-eip-1193]] standard, which most (if not all)\n *  currently do.\n */\nexport class BrowserProvider extends JsonRpcApiPollingProvider {\n    #request;\n    #providerInfo;\n    /**\n     *  Connect to the %%ethereum%% provider, optionally forcing the\n     *  %%network%%.\n     */\n    constructor(ethereum, network, _options) {\n        // Copy the options\n        const options = Object.assign({}, ((_options != null) ? _options : {}), { batchMaxCount: 1 });\n        assertArgument(ethereum && ethereum.request, \"invalid EIP-1193 provider\", \"ethereum\", ethereum);\n        super(network, options);\n        this.#providerInfo = null;\n        if (_options && _options.providerInfo) {\n            this.#providerInfo = _options.providerInfo;\n        }\n        this.#request = async (method, params) => {\n            const payload = { method, params };\n            this.emit(\"debug\", { action: \"sendEip1193Request\", payload });\n            try {\n                const result = await ethereum.request(payload);\n                this.emit(\"debug\", { action: \"receiveEip1193Result\", result });\n                return result;\n            }\n            catch (e) {\n                const error = new Error(e.message);\n                error.code = e.code;\n                error.data = e.data;\n                error.payload = payload;\n                this.emit(\"debug\", { action: \"receiveEip1193Error\", error });\n                throw error;\n            }\n        };\n    }\n    get providerInfo() {\n        return this.#providerInfo;\n    }\n    async send(method, params) {\n        await this._start();\n        return await super.send(method, params);\n    }\n    async _send(payload) {\n        assertArgument(!Array.isArray(payload), \"EIP-1193 does not support batch request\", \"payload\", payload);\n        try {\n            const result = await this.#request(payload.method, payload.params || []);\n            return [{ id: payload.id, result }];\n        }\n        catch (e) {\n            return [{\n                    id: payload.id,\n                    error: { code: e.code, data: e.data, message: e.message }\n                }];\n        }\n    }\n    getRpcError(payload, error) {\n        error = JSON.parse(JSON.stringify(error));\n        // EIP-1193 gives us some machine-readable error codes, so rewrite\n        // them into Ethers standard errors.\n        switch (error.error.code || -1) {\n            case 4001:\n                error.error.message = `ethers-user-denied: ${error.error.message}`;\n                break;\n            case 4200:\n                error.error.message = `ethers-unsupported: ${error.error.message}`;\n                break;\n        }\n        return super.getRpcError(payload, error);\n    }\n    /**\n     *  Resolves to ``true`` if the provider manages the %%address%%.\n     */\n    async hasSigner(address) {\n        if (address == null) {\n            address = 0;\n        }\n        const accounts = await this.send(\"eth_accounts\", []);\n        if (typeof (address) === \"number\") {\n            return (accounts.length > address);\n        }\n        address = address.toLowerCase();\n        return accounts.filter((a) => (a.toLowerCase() === address)).length !== 0;\n    }\n    async getSigner(address) {\n        if (address == null) {\n            address = 0;\n        }\n        if (!(await this.hasSigner(address))) {\n            try {\n                await this.#request(\"eth_requestAccounts\", []);\n            }\n            catch (error) {\n                const payload = error.payload;\n                throw this.getRpcError(payload, { id: payload.id, error });\n            }\n        }\n        return await super.getSigner(address);\n    }\n    /**\n     *  Discover and connect to a Provider in the Browser using the\n     *  [[link-eip-6963]] discovery mechanism. If no providers are\n     *  present, ``null`` is resolved.\n     */\n    static async discover(options) {\n        if (options == null) {\n            options = {};\n        }\n        if (options.provider) {\n            return new BrowserProvider(options.provider);\n        }\n        const context = options.window ? options.window :\n            (typeof (window) !== \"undefined\") ? window : null;\n        if (context == null) {\n            return null;\n        }\n        const anyProvider = options.anyProvider;\n        if (anyProvider && context.ethereum) {\n            return new BrowserProvider(context.ethereum);\n        }\n        if (!(\"addEventListener\" in context && \"dispatchEvent\" in context\n            && \"removeEventListener\" in context)) {\n            return null;\n        }\n        const timeout = options.timeout ? options.timeout : 300;\n        if (timeout === 0) {\n            return null;\n        }\n        return await (new Promise((resolve, reject) => {\n            let found = [];\n            const addProvider = (event) => {\n                found.push(event.detail);\n                if (anyProvider) {\n                    finalize();\n                }\n            };\n            const finalize = () => {\n                clearTimeout(timer);\n                if (found.length) {\n                    // If filtering is provided:\n                    if (options && options.filter) {\n                        // Call filter, with a copies of found provider infos\n                        const filtered = options.filter(found.map(i => Object.assign({}, (i.info))));\n                        if (filtered == null) {\n                            // No provider selected\n                            resolve(null);\n                        }\n                        else if (filtered instanceof BrowserProvider) {\n                            // Custom provider created\n                            resolve(filtered);\n                        }\n                        else {\n                            // Find the matching provider\n                            let match = null;\n                            if (filtered.uuid) {\n                                const matches = found.filter(f => (filtered.uuid === f.info.uuid));\n                                // @TODO: What should happen if multiple values\n                                //        for the same UUID?\n                                match = matches[0];\n                            }\n                            if (match) {\n                                const { provider, info } = match;\n                                resolve(new BrowserProvider(provider, undefined, {\n                                    providerInfo: info\n                                }));\n                            }\n                            else {\n                                reject(makeError(\"filter returned unknown info\", \"UNSUPPORTED_OPERATION\", {\n                                    value: filtered\n                                }));\n                            }\n                        }\n                    }\n                    else {\n                        // Pick the first found provider\n                        const { provider, info } = found[0];\n                        resolve(new BrowserProvider(provider, undefined, {\n                            providerInfo: info\n                        }));\n                    }\n                }\n                else {\n                    // Nothing found\n                    resolve(null);\n                }\n                context.removeEventListener(\"eip6963:announceProvider\", addProvider);\n            };\n            const timer = setTimeout(() => { finalize(); }, timeout);\n            context.addEventListener(\"eip6963:announceProvider\", addProvider);\n            context.dispatchEvent(new Event(\"eip6963:requestProvider\"));\n        }));\n    }\n}\n//# sourceMappingURL=provider-browser.js.map","/**\n *  [[link-blockscout]] provides a third-party service for connecting to\n *  various blockchains over JSON-RPC.\n *\n *  **Supported Networks**\n *\n *  - Ethereum Mainnet (``mainnet``)\n *  - Sepolia Testnet (``sepolia``)\n *  - Holesky Testnet (``holesky``)\n *  - Ethereum Classic (``classic``)\n *  - Arbitrum (``arbitrum``)\n *  - Base (``base``)\n *  - Base Sepolia Testnet (``base-sepolia``)\n *  - Gnosis (``xdai``)\n *  - Optimism (``optimism``)\n *  - Optimism Sepolia Testnet (``optimism-sepolia``)\n *  - Polygon (``matic``)\n *\n *  @_subsection: api/providers/thirdparty:Blockscout  [providers-blockscout]\n */\nimport { assertArgument, defineProperties, FetchRequest, isHexString } from \"../utils/index.js\";\nimport { Network } from \"./network.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\nfunction getUrl(name) {\n    switch (name) {\n        case \"mainnet\":\n            return \"https:/\\/eth.blockscout.com/api/eth-rpc\";\n        case \"sepolia\":\n            return \"https:/\\/eth-sepolia.blockscout.com/api/eth-rpc\";\n        case \"holesky\":\n            return \"https:/\\/eth-holesky.blockscout.com/api/eth-rpc\";\n        case \"classic\":\n            return \"https:/\\/etc.blockscout.com/api/eth-rpc\";\n        case \"arbitrum\":\n            return \"https:/\\/arbitrum.blockscout.com/api/eth-rpc\";\n        case \"base\":\n            return \"https:/\\/base.blockscout.com/api/eth-rpc\";\n        case \"base-sepolia\":\n            return \"https:/\\/base-sepolia.blockscout.com/api/eth-rpc\";\n        case \"matic\":\n            return \"https:/\\/polygon.blockscout.com/api/eth-rpc\";\n        case \"optimism\":\n            return \"https:/\\/optimism.blockscout.com/api/eth-rpc\";\n        case \"optimism-sepolia\":\n            return \"https:/\\/optimism-sepolia.blockscout.com/api/eth-rpc\";\n        case \"xdai\":\n            return \"https:/\\/gnosis.blockscout.com/api/eth-rpc\";\n    }\n    assertArgument(false, \"unsupported network\", \"network\", name);\n}\n/**\n *  The **BlockscoutProvider** connects to the [[link-blockscout]]\n *  JSON-RPC end-points.\n *\n *  By default, a highly-throttled API key is used, which is\n *  appropriate for quick prototypes and simple scripts. To\n *  gain access to an increased rate-limit, it is highly\n *  recommended to [sign up here](link-blockscout).\n */\nexport class BlockscoutProvider extends JsonRpcProvider {\n    /**\n     *  The API key.\n     */\n    apiKey;\n    /**\n     *  Creates a new **BlockscoutProvider**.\n     */\n    constructor(_network, apiKey) {\n        if (_network == null) {\n            _network = \"mainnet\";\n        }\n        const network = Network.from(_network);\n        if (apiKey == null) {\n            apiKey = null;\n        }\n        const request = BlockscoutProvider.getRequest(network);\n        super(request, network, { staticNetwork: network });\n        defineProperties(this, { apiKey });\n    }\n    _getProvider(chainId) {\n        try {\n            return new BlockscoutProvider(chainId, this.apiKey);\n        }\n        catch (error) { }\n        return super._getProvider(chainId);\n    }\n    isCommunityResource() {\n        return (this.apiKey === null);\n    }\n    getRpcRequest(req) {\n        // Blockscout enforces the TAG argument for estimateGas\n        const resp = super.getRpcRequest(req);\n        if (resp && resp.method === \"eth_estimateGas\" && resp.args.length == 1) {\n            resp.args = resp.args.slice();\n            resp.args.push(\"latest\");\n        }\n        return resp;\n    }\n    getRpcError(payload, _error) {\n        const error = _error ? _error.error : null;\n        // Blockscout currently drops the VM result and replaces it with a\n        // human-readable string, so we need to make it machine-readable.\n        if (error && error.code === -32015 && !isHexString(error.data || \"\", true)) {\n            const panicCodes = {\n                \"assert(false)\": \"01\",\n                \"arithmetic underflow or overflow\": \"11\",\n                \"division or modulo by zero\": \"12\",\n                \"out-of-bounds array access; popping on an empty array\": \"31\",\n                \"out-of-bounds access of an array or bytesN\": \"32\"\n            };\n            let panicCode = \"\";\n            if (error.message === \"VM execution error.\") {\n                // eth_call passes this message\n                panicCode = panicCodes[error.data] || \"\";\n            }\n            else if (panicCodes[error.message || \"\"]) {\n                panicCode = panicCodes[error.message || \"\"];\n            }\n            if (panicCode) {\n                error.message += ` (reverted: ${error.data})`;\n                error.data = \"0x4e487b7100000000000000000000000000000000000000000000000000000000000000\" + panicCode;\n            }\n        }\n        else if (error && error.code === -32000) {\n            if (error.message === \"wrong transaction nonce\") {\n                error.message += \" (nonce too low)\";\n            }\n        }\n        return super.getRpcError(payload, _error);\n    }\n    /**\n     *  Returns a prepared request for connecting to %%network%%\n     *  with %%apiKey%%.\n     */\n    static getRequest(network) {\n        const request = new FetchRequest(getUrl(network.name));\n        request.allowGzip = true;\n        return request;\n    }\n}\n//# sourceMappingURL=provider-blockscout.js.map","/**\n *  [[link-pocket]] provides a third-party service for connecting to\n *  various blockchains over JSON-RPC.\n *\n *  **Supported Networks**\n *\n *  - Ethereum Mainnet (``mainnet``)\n *  - Goerli Testnet (``goerli``)\n *  - Polygon (``matic``)\n *  - Arbitrum (``arbitrum``)\n *\n *  @_subsection: api/providers/thirdparty:Pocket  [providers-pocket]\n */\nimport { defineProperties, FetchRequest, assertArgument } from \"../utils/index.js\";\nimport { showThrottleMessage } from \"./community.js\";\nimport { Network } from \"./network.js\";\nimport { JsonRpcProvider } from \"./provider-jsonrpc.js\";\nconst defaultApplicationId = \"62e1ad51b37b8e00394bda3b\";\nfunction getHost(name) {\n    switch (name) {\n        case \"mainnet\":\n            return \"eth-mainnet.gateway.pokt.network\";\n        case \"goerli\":\n            return \"eth-goerli.gateway.pokt.network\";\n        case \"matic\":\n            return \"poly-mainnet.gateway.pokt.network\";\n        case \"matic-mumbai\":\n            return \"polygon-mumbai-rpc.gateway.pokt.network\";\n    }\n    assertArgument(false, \"unsupported network\", \"network\", name);\n}\n/**\n *  The **PocketProvider** connects to the [[link-pocket]]\n *  JSON-RPC end-points.\n *\n *  By default, a highly-throttled API key is used, which is\n *  appropriate for quick prototypes and simple scripts. To\n *  gain access to an increased rate-limit, it is highly\n *  recommended to [sign up here](link-pocket-signup).\n */\nexport class PocketProvider extends JsonRpcProvider {\n    /**\n     *  The Application ID for the Pocket connection.\n     */\n    applicationId;\n    /**\n     *  The Application Secret for making authenticated requests\n     *  to the Pocket connection.\n     */\n    applicationSecret;\n    /**\n     *  Create a new **PocketProvider**.\n     *\n     *  By default connecting to ``mainnet`` with a highly throttled\n     *  API key.\n     */\n    constructor(_network, applicationId, applicationSecret) {\n        if (_network == null) {\n            _network = \"mainnet\";\n        }\n        const network = Network.from(_network);\n        if (applicationId == null) {\n            applicationId = defaultApplicationId;\n        }\n        if (applicationSecret == null) {\n            applicationSecret = null;\n        }\n        const options = { staticNetwork: network };\n        const request = PocketProvider.getRequest(network, applicationId, applicationSecret);\n        super(request, network, options);\n        defineProperties(this, { applicationId, applicationSecret });\n    }\n    _getProvider(chainId) {\n        try {\n            return new PocketProvider(chainId, this.applicationId, this.applicationSecret);\n        }\n        catch (error) { }\n        return super._getProvider(chainId);\n    }\n    /**\n     *  Returns a prepared request for connecting to %%network%% with\n     *  %%applicationId%%.\n     */\n    static getRequest(network, applicationId, applicationSecret) {\n        if (applicationId == null) {\n            applicationId = defaultApplicationId;\n        }\n        const request = new FetchRequest(`https:/\\/${getHost(network.name)}/v1/lb/${applicationId}`);\n        request.allowGzip = true;\n        if (applicationSecret) {\n            request.setCredentials(\"\", applicationSecret);\n        }\n        if (applicationId === defaultApplicationId) {\n            request.retryFunc = async (request, response, attempt) => {\n                showThrottleMessage(\"PocketProvider\");\n                return true;\n            };\n        }\n        return request;\n    }\n    isCommunityResource() {\n        return (this.applicationId === defaultApplicationId);\n    }\n}\n//# sourceMappingURL=provider-pocket.js.map","const IpcSocketProvider = undefined;\nexport { IpcSocketProvider };\n//# sourceMappingURL=provider-ipcsocket-browser.js.map","const Base64 = \")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\";\n/**\n *  @_ignore\n */\nexport function decodeBits(width, data) {\n    const maxValue = (1 << width) - 1;\n    const result = [];\n    let accum = 0, bits = 0, flood = 0;\n    for (let i = 0; i < data.length; i++) {\n        // Accumulate 6 bits of data\n        accum = ((accum << 6) | Base64.indexOf(data[i]));\n        bits += 6;\n        // While we have enough for a word...\n        while (bits >= width) {\n            // ...read the word\n            const value = (accum >> (bits - width));\n            accum &= (1 << (bits - width)) - 1;\n            bits -= width;\n            // A value of 0 indicates we exceeded maxValue, it\n            // floods over into the next value\n            if (value === 0) {\n                flood += maxValue;\n            }\n            else {\n                result.push(value + flood);\n                flood = 0;\n            }\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=bit-reader.js.map","import { assertArgument } from \"../utils/index.js\";\nimport { decodeBits } from \"./bit-reader.js\";\nimport { decodeOwl } from \"./decode-owl.js\";\n/**\n *  @_ignore\n */\nexport function decodeOwlA(data, accents) {\n    let words = decodeOwl(data).join(\",\");\n    // Inject the accents\n    accents.split(/,/g).forEach((accent) => {\n        const match = accent.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);\n        assertArgument(match !== null, \"internal error parsing accents\", \"accents\", accents);\n        let posOffset = 0;\n        const positions = decodeBits(parseInt(match[3]), match[4]);\n        const charCode = parseInt(match[2]);\n        const regex = new RegExp(`([${match[1]}])`, \"g\");\n        words = words.replace(regex, (all, letter) => {\n            const rem = --positions[posOffset];\n            if (rem === 0) {\n                letter = String.fromCharCode(letter.charCodeAt(0), charCode);\n                posOffset++;\n            }\n            return letter;\n        });\n    });\n    return words.split(\",\");\n}\n//# sourceMappingURL=decode-owla.js.map","import { WordlistOwl } from \"./wordlist-owl.js\";\nimport { decodeOwlA } from \"./decode-owla.js\";\n/**\n *  An OWL-A format Wordlist extends the OWL format to add an\n *  overlay onto an OWL format Wordlist to support diacritic\n *  marks.\n *\n *  This class is generally not useful to most developers as\n *  it is used mainly internally to keep Wordlists for languages\n *  based on latin-1 small.\n *\n *  If necessary, there are tools within the ``generation/`` folder\n *  to create the necessary data.\n */\nexport class WordlistOwlA extends WordlistOwl {\n    #accent;\n    /**\n     *  Creates a new Wordlist for %%locale%% using the OWLA %%data%%\n     *  and %%accent%% data and validated against the %%checksum%%.\n     */\n    constructor(locale, data, accent, checksum) {\n        super(locale, data, checksum);\n        this.#accent = accent;\n    }\n    /**\n     *  The OWLA-encoded accent data.\n     */\n    get _accent() { return this.#accent; }\n    /**\n     *  Decode all the words for the wordlist.\n     */\n    _decodeWords() {\n        return decodeOwlA(this._data, this._accent);\n    }\n}\n//# sourceMappingURL=wordlist-owla.js.map","import { LangEn } from \"./lang-en.js\";\nexport const wordlists = {\n    en: LangEn.wordlist(),\n};\n//# sourceMappingURL=wordlists-browser.js.map"],"names":["N","WeiPerEther","MaxUint256","MinInt256","MaxInt256","lock","computeHmac","keccak256","pbkdf2","randomBytes","ripemd160","scrypt","scryptSync","sha256","sha512","regexBytes","regexNumber","regexArray","_pack","type","value","isArray","getBytes","zeroPadValue","getAddress","toUtf8Bytes","match","signed","size","assertArgument","toTwos","toBeArray","dataLength","zeroPadBytes","baseType","count","result","concat","solidityPacked","types","values","tight","index","hexlify","solidityPackedKeccak256","_keccak256","solidityPackedSha256","_sha256","encodeBytes32String","text","bytes","decodeBytes32String","_bytes","data","length","toUtf8String","ContractFactory","abi","bytecode","runner","__publicField","iface","Interface","defineProperties","target","BaseContract","args","overrides","fragment","copyOverrides","resolvedArgs","resolveArgs","tx","assert","sentTx","address","getCreateAddress","output","shown","showThrottleMessage","service","defaultApiKey","getHost","name","AnkrProvider","JsonRpcProvider","_network","apiKey","network","Network","options","request","chainId","FetchRequest","response","attempt","payload","error","AlchemyProvider","req","trace","resolveProperties","getApiKey","ChainstackProvider","CloudflareProvider","Supported","THROTTLE","isPromise","EtherscanPluginId","EtherscanPlugin","NetworkPlugin","baseUrl","skipKeys","nextId","EtherscanProvider","AbstractProvider","_apiKey","__privateAdd","_plugin","__privateSet","__privateGet","module","params","query","accum","key","post","id","url","resp","throttle","k","transaction","toQuantity","accessListify","set","message","isError","e","AbiCoder","Transaction","postData","_address","Contract","getGlobal","_WebSocket","SocketSubscriber","provider","filter","_provider","_filter","_filterId","_paused","_emitPromise","filterId","dropWhilePaused","emitPromise","SocketBlockSubscriber","SocketPendingSubscriber","SocketEventSubscriber","_logFilter","SocketProvider","JsonRpcApiProvider","_options","_callbacks","_subs","_pending","sub","UnmanagedSubscriber","subscriber","pending","promise","resolve","reject","callback","makeError","WebSocketProvider","_connect","_websocket","defaultProjectId","InfuraWebSocketProvider","projectId","InfuraProvider","projectSecret","defaultToken","QuickNodeProvider","token","BN_1","BN_2","shuffle","array","i","j","tmp","stall","duration","getTime","stringify","defaultConfig","defaultState","waitForSync","config","blockNumber","_normalize","keys","normalizeResult","method","tag","checkQuorum","quorum","results","tally","weight","t","best","getMedian","resultWeight","errorMap","bestError","a","b","mid","getAnyResult","r","getFuzzyMode","getNumber","add","bestWeight","bestResult","FallbackProvider","providers","_FallbackProvider_instances","_configs","_height","_initialSyncPromise","p","c","getBigInt","block","broadcasts","done","waiting","__privateMethod","initialSync_fn","running","inflightQuorum","addRunner_fn","waitForQuorum_fn","getNextConfig_fn","configs","allConfigs","now","dt","initialSync","promises","checkQuorum_fn","mode","interesting","newRunners","isWebSocketLike","Testnets","getDefaultProvider","allowService","staticNetwork","_NonceManager","AbstractSigner","signer","_noncePromise","_delta","blockTag","delta","__privateWrapper","noncePromise","domain","NonceManager","_BrowserProvider","JsonRpcApiPollingProvider","ethereum","_request","_providerInfo","accounts","context","anyProvider","timeout","found","addProvider","event","finalize","timer","filtered","f","info","BrowserProvider","getUrl","BlockscoutProvider","_error","isHexString","panicCodes","panicCode","defaultApplicationId","PocketProvider","applicationId","applicationSecret","IpcSocketProvider","Base64","decodeBits","width","maxValue","bits","flood","decodeOwlA","accents","words","decodeOwl","accent","posOffset","positions","charCode","regex","all","letter","WordlistOwlA","WordlistOwl","locale","checksum","_accent","wordlists","LangEn"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}