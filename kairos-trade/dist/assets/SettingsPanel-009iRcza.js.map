{"version":3,"file":"SettingsPanel-009iRcza.js","sources":["../../src/components/Settings/SecuritySettings.jsx","../../src/components/Settings/SettingsPanel.jsx"],"sourcesContent":["// ═══════════════════════════════════════════════════════════════════════════════\n//  Kairos Trade — Security Settings Panel\n//  2FA Setup/Disable • Change Password • Active Sessions • Auth Log\n// ═══════════════════════════════════════════════════════════════════════════════\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  Shield, ShieldCheck, ShieldOff, Key, Lock, Eye, EyeOff,\n  Monitor, Clock, MapPin, AlertTriangle, CheckCircle2,\n  RefreshCw, Smartphone, Copy, Download\n} from 'lucide-react';\nimport useStore from '../../store/useStore';\nimport apiClient from '../../services/apiClient';\n\nconst API_HOST = apiClient.host;\n\n// ── Helpers ──────────────────────────────────────────────────────────────────\nconst fmt = (d) => new Date(d).toLocaleString('es-ES', { dateStyle: 'short', timeStyle: 'short' });\n\nfunction authFetch(path, _token, opts = {}) {\n  // Uses centralized apiClient with auto token refresh\n  const method = opts.method || 'GET';\n  if (method === 'GET') return apiClient.get(path);\n  return apiClient.post(path, opts.body);\n}\n\n// ── OTP Input (6 digits) ────────────────────────────────────────────────────\nfunction OTPInput({ value, onChange }) {\n  const refs = useRef([]);\n  const digits = value.padEnd(6, '').slice(0, 6).split('');\n\n  const handleChange = (i, ch) => {\n    if (!/^\\d?$/.test(ch)) return;\n    const next = [...digits]; next[i] = ch;\n    onChange(next.join('').replace(/\\s/g, ''));\n    if (ch && i < 5) refs.current[i + 1]?.focus();\n  };\n\n  const handleKey = (i, e) => {\n    if (e.key === 'Backspace' && !digits[i] && i > 0) refs.current[i - 1]?.focus();\n  };\n\n  const handlePaste = (e) => {\n    e.preventDefault();\n    onChange(e.clipboardData.getData('text').replace(/\\D/g, '').slice(0, 6));\n  };\n\n  return (\n    <div className=\"flex gap-2 justify-center\" onPaste={handlePaste}>\n      {Array.from({ length: 6 }).map((_, i) => (\n        <input key={i} ref={el => (refs.current[i] = el)}\n          type=\"text\" inputMode=\"numeric\" maxLength={1}\n          value={digits[i] || ''} onChange={e => handleChange(i, e.target.value)}\n          onKeyDown={e => handleKey(i, e)}\n          className=\"w-10 h-12 text-center text-lg font-bold text-white rounded-lg outline-none focus:ring-2 focus:ring-blue-500/60\"\n          style={{ background: 'rgba(255,255,255,0.06)', border: '1px solid rgba(59,130,246,0.15)' }}\n        />\n      ))}\n    </div>\n  );\n}\n\n// ═════════════════════════════════════════════════════════════════════════════\n//  MAIN COMPONENT\n// ═════════════════════════════════════════════════════════════════════════════\n\nexport default function SecuritySettings() {\n  const { user, login } = useStore();\n  const token = user?.accessToken;\n\n  // ── State ──\n  const [tab, setTab] = useState('2fa');\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState({ type: '', text: '' });\n\n  // 2FA\n  const [qrCode, setQrCode] = useState('');\n  const [otpUrl, setOtpUrl] = useState('');\n  const [setupCode, setSetupCode] = useState('');\n  const [disableCode, setDisableCode] = useState('');\n  const [backupCodes, setBackupCodes] = useState([]);\n  const [showSetup, setShowSetup] = useState(false);\n\n  // Password\n  const [passwords, setPasswords] = useState({ current: '', new: '', confirm: '' });\n  const [showCurr, setShowCurr] = useState(false);\n  const [showNew, setShowNew] = useState(false);\n\n  // Sessions\n  const [sessions, setSessions] = useState([]);\n  const [authLog, setAuthLog] = useState([]);\n\n  useEffect(() => {\n    if (tab === 'sessions' && token) {\n      authFetch('/api/auth/sessions', token).then(r => r.success && setSessions(r.data || []));\n      authFetch('/api/auth/log', token).then(r => r.success && setAuthLog(r.data || []));\n    }\n  }, [tab, token]);\n\n  const flash = (type, text) => { setMsg({ type, text }); setTimeout(() => setMsg({ type: '', text: '' }), 5000); };\n\n  // ── 2FA Setup ──────────────────────────────────────────────────────────\n  const start2FASetup = async () => {\n    setLoading(true);\n    try {\n      const res = await authFetch('/api/auth/2fa/setup', token, { method: 'POST' });\n      if (!res.success) throw new Error(res.error);\n      setQrCode(res.data.qrCode);\n      setOtpUrl(res.data.otpauthUrl || '');\n      setShowSetup(true);\n      setSetupCode('');\n    } catch (err) {\n      flash('error', err.message);\n    }\n    setLoading(false);\n  };\n\n  const confirm2FASetup = async () => {\n    if (setupCode.length !== 6) { flash('error', 'Ingresa los 6 dígitos'); return; }\n    setLoading(true);\n    try {\n      const res = await authFetch('/api/auth/2fa/verify', token, { method: 'POST', body: { totpCode: setupCode } });\n      if (!res.success) throw new Error(res.error);\n      setBackupCodes(res.data.backupCodes || []);\n      // Update local user\n      login({ ...user, has2FA: true });\n      flash('success', '2FA activado exitosamente');\n      setShowSetup(false);\n    } catch (err) {\n      flash('error', err.message);\n    }\n    setLoading(false);\n  };\n\n  const handleDisable2FA = async () => {\n    if (disableCode.length !== 6) { flash('error', 'Ingresa los 6 dígitos'); return; }\n    setLoading(true);\n    try {\n      const res = await authFetch('/api/auth/2fa/disable', token, { method: 'POST', body: { totpCode: disableCode } });\n      if (!res.success) throw new Error(res.error);\n      login({ ...user, has2FA: false });\n      flash('success', '2FA desactivado');\n      setDisableCode('');\n    } catch (err) {\n      flash('error', err.message);\n    }\n    setLoading(false);\n  };\n\n  // ── Password Change ────────────────────────────────────────────────────\n  const handleChangePassword = async () => {\n    if (passwords.new.length < 8) { flash('error', 'Mínimo 8 caracteres'); return; }\n    if (passwords.new !== passwords.confirm) { flash('error', 'Las contraseñas no coinciden'); return; }\n    setLoading(true);\n    try {\n      const res = await authFetch('/api/auth/change-password', token, {\n        method: 'POST', body: { currentPassword: passwords.current, newPassword: passwords.new },\n      });\n      if (!res.success) throw new Error(res.error);\n      flash('success', 'Contraseña cambiada. Inicia sesión de nuevo.');\n      setPasswords({ current: '', new: '', confirm: '' });\n    } catch (err) {\n      flash('error', err.message);\n    }\n    setLoading(false);\n  };\n\n  // ── Logout All Sessions ────────────────────────────────────────────────\n  const logoutAll = async () => {\n    setLoading(true);\n    try {\n      await authFetch('/api/auth/logout-all', token, { method: 'POST' });\n      flash('success', 'Todas las sesiones cerradas');\n      setSessions([]);\n    } catch (err) {\n      flash('error', err.message);\n    }\n    setLoading(false);\n  };\n\n  const TABS = [\n    { id: '2fa', icon: Shield, label: '2FA' },\n    { id: 'password', icon: Key, label: 'Contraseña' },\n    { id: 'sessions', icon: Monitor, label: 'Sesiones' },\n  ];\n\n  return (\n    <div className=\"flex-1 overflow-y-auto p-4 space-y-4\" style={{ scrollbarWidth: 'thin', scrollbarColor: '#3f3f46 transparent' }}>\n      {/* Header */}\n      <div className=\"flex items-center gap-3 mb-2\">\n        <div className=\"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center\">\n          <Shield size={20} className=\"text-blue-400\" />\n        </div>\n        <div>\n          <h1 className=\"text-xl font-bold text-white\">Seguridad</h1>\n          <p className=\"text-xs text-zinc-400\">Protege tu cuenta con autenticación de dos factores y más</p>\n        </div>\n      </div>\n\n      {/* Flash message */}\n      <AnimatePresence>\n        {msg.text && (\n          <motion.div initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -8 }}\n            className={`flex items-center gap-2 px-4 py-3 rounded-xl text-sm font-medium ${\n              msg.type === 'success' ? 'bg-emerald-500/10 text-emerald-400 border border-emerald-500/20' :\n              'bg-red-500/10 text-red-400 border border-red-500/20'\n            }`}>\n            {msg.type === 'success' ? <CheckCircle2 size={16} /> : <AlertTriangle size={16} />}\n            {msg.text}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Tabs */}\n      <div className=\"flex gap-1 p-1 rounded-xl\" style={{ background: 'rgba(255,255,255,0.03)', border: '1px solid rgba(255,255,255,0.06)' }}>\n        {TABS.map(t => (\n          <button key={t.id} onClick={() => setTab(t.id)}\n            className={`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all ${\n              tab === t.id ? 'bg-blue-500/15 text-blue-400 border border-blue-500/20' : 'text-zinc-400 hover:text-zinc-300'\n            }`}>\n            <t.icon size={15} />\n            {t.label}\n          </button>\n        ))}\n      </div>\n\n      {/* ── TAB: 2FA ── */}\n      {tab === '2fa' && (\n        <div className=\"space-y-4\">\n          {/* Status card */}\n          <div className=\"rounded-xl p-5\" style={{ background: 'rgba(255,255,255,0.02)', border: '1px solid rgba(255,255,255,0.06)' }}>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                {user?.has2FA ? (\n                  <div className=\"w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center\">\n                    <ShieldCheck size={20} className=\"text-emerald-400\" />\n                  </div>\n                ) : (\n                  <div className=\"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center\">\n                    <ShieldOff size={20} className=\"text-amber-400\" />\n                  </div>\n                )}\n                <div>\n                  <p className=\"text-sm font-bold text-white\">Autenticación de Dos Factores (2FA)</p>\n                  <p className=\"text-xs text-zinc-400 mt-0.5\">\n                    {user?.has2FA\n                      ? 'Activado — tu cuenta tiene protección adicional'\n                      : 'Desactivado — actívalo para proteger tu cuenta'}\n                  </p>\n                </div>\n              </div>\n              <div className={`px-3 py-1 rounded-full text-xs font-bold ${\n                user?.has2FA ? 'bg-emerald-500/15 text-emerald-400' : 'bg-amber-500/15 text-amber-400'\n              }`}>\n                {user?.has2FA ? 'ACTIVO' : 'INACTIVO'}\n              </div>\n            </div>\n          </div>\n\n          {/* 2FA Actions */}\n          {!user?.has2FA ? (\n            !showSetup ? (\n              <button onClick={start2FASetup} disabled={loading}\n                className=\"w-full py-3 rounded-xl text-sm font-bold text-white transition-all hover:scale-[1.01] disabled:opacity-50\"\n                style={{ background: 'linear-gradient(135deg, #3B82F6, #2563EB)', boxShadow: '0 4px 15px rgba(59,130,246,0.2)' }}>\n                {loading ? <RefreshCw size={16} className=\"animate-spin mx-auto\" /> : (\n                  <span className=\"flex items-center gap-2 justify-center\"><Smartphone size={16} /> Activar 2FA con App Autenticadora</span>\n                )}\n              </button>\n            ) : (\n              <div className=\"rounded-xl p-5 space-y-4\" style={{ background: 'rgba(255,255,255,0.02)', border: '1px solid rgba(59,130,246,0.15)' }}>\n                <h3 className=\"text-sm font-bold text-white text-center\">Escanea este código QR</h3>\n                <p className=\"text-xs text-zinc-400 text-center\">Usa Google Authenticator, Authy o cualquier app TOTP</p>\n                \n                {qrCode && (\n                  <div className=\"flex justify-center\">\n                    <img src={qrCode} alt=\"2FA QR Code\" className=\"w-48 h-48 rounded-xl\" />\n                  </div>\n                )}\n\n                <div className=\"text-center\">\n                  <p className=\"text-[11px] text-zinc-500 mb-2\">Luego ingresa el código de 6 dígitos:</p>\n                  <OTPInput value={setupCode} onChange={setSetupCode} />\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <button onClick={() => { setShowSetup(false); setSetupCode(''); }}\n                    className=\"flex-1 py-2.5 rounded-lg text-sm text-zinc-400 hover:text-white transition-colors\"\n                    style={{ border: '1px solid rgba(255,255,255,0.08)' }}>\n                    Cancelar\n                  </button>\n                  <button onClick={confirm2FASetup} disabled={loading || setupCode.length !== 6}\n                    className=\"flex-1 py-2.5 rounded-lg text-sm font-bold text-white disabled:opacity-50 transition-all\"\n                    style={{ background: 'linear-gradient(135deg, #3B82F6, #2563EB)' }}>\n                    {loading ? <RefreshCw size={14} className=\"animate-spin mx-auto\" /> : 'Verificar y Activar'}\n                  </button>\n                </div>\n              </div>\n            )\n          ) : (\n            <div className=\"rounded-xl p-5 space-y-4\" style={{ background: 'rgba(255,255,255,0.02)', border: '1px solid rgba(255,255,255,0.06)' }}>\n              <h3 className=\"text-sm font-bold text-white\">Desactivar 2FA</h3>\n              <p className=\"text-xs text-zinc-400\">Ingresa tu código actual para desactivar</p>\n              <OTPInput value={disableCode} onChange={setDisableCode} />\n              <button onClick={handleDisable2FA} disabled={loading || disableCode.length !== 6}\n                className=\"w-full py-2.5 rounded-lg text-sm font-bold text-red-400 disabled:opacity-50 transition-all\"\n                style={{ background: 'rgba(239,68,68,0.1)', border: '1px solid rgba(239,68,68,0.2)' }}>\n                {loading ? <RefreshCw size={14} className=\"animate-spin mx-auto\" /> : 'Desactivar 2FA'}\n              </button>\n            </div>\n          )}\n\n          {/* Backup codes */}\n          {backupCodes.length > 0 && (\n            <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }}\n              className=\"rounded-xl p-5 space-y-3\" style={{ background: 'rgba(234,179,8,0.05)', border: '1px solid rgba(234,179,8,0.15)' }}>\n              <div className=\"flex items-center gap-2\">\n                <AlertTriangle size={16} className=\"text-amber-400\" />\n                <h3 className=\"text-sm font-bold text-amber-400\">Códigos de Respaldo</h3>\n              </div>\n              <p className=\"text-xs text-zinc-400\">Guarda estos códigos en un lugar seguro. Si pierdes tu teléfono, los necesitarás para acceder.</p>\n              <div className=\"grid grid-cols-2 gap-2\">\n                {backupCodes.map((code, i) => (\n                  <div key={i} className=\"text-center font-mono text-sm text-white px-3 py-2 rounded-lg\"\n                    style={{ background: 'rgba(255,255,255,0.04)' }}>{code}</div>\n                ))}\n              </div>\n              <button onClick={() => { navigator.clipboard.writeText(backupCodes.join('\\n')); flash('success', 'Copiados al portapapeles'); }}\n                className=\"flex items-center gap-2 text-xs text-blue-400 hover:text-blue-300 transition-colors\">\n                <Copy size={12} /> Copiar todos\n              </button>\n            </motion.div>\n          )}\n        </div>\n      )}\n\n      {/* ── TAB: Password ── */}\n      {tab === 'password' && (\n        <div className=\"rounded-xl p-5 space-y-4\" style={{ background: 'rgba(255,255,255,0.02)', border: '1px solid rgba(255,255,255,0.06)' }}>\n          <h3 className=\"text-sm font-bold text-white flex items-center gap-2\"><Lock size={16} /> Cambiar Contraseña</h3>\n          \n          <div>\n            <label className=\"text-[11px] text-zinc-500 mb-1 block font-semibold uppercase tracking-wider\">Contraseña actual</label>\n            <div className=\"relative\">\n              <input type={showCurr ? 'text' : 'password'} value={passwords.current}\n                onChange={e => setPasswords({ ...passwords, current: e.target.value })}\n                className=\"w-full pr-10 text-sm text-white rounded-lg outline-none focus:ring-1 focus:ring-blue-500/40\"\n                style={{ background: 'rgba(255,255,255,0.04)', border: '1px solid rgba(255,255,255,0.08)', padding: '0.6rem 0.85rem' }} />\n              <button type=\"button\" onClick={() => setShowCurr(!showCurr)} className=\"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500\">\n                {showCurr ? <EyeOff size={14} /> : <Eye size={14} />}\n              </button>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"text-[11px] text-zinc-500 mb-1 block font-semibold uppercase tracking-wider\">Nueva contraseña</label>\n            <div className=\"relative\">\n              <input type={showNew ? 'text' : 'password'} value={passwords.new}\n                onChange={e => setPasswords({ ...passwords, new: e.target.value })}\n                className=\"w-full pr-10 text-sm text-white rounded-lg outline-none focus:ring-1 focus:ring-blue-500/40\"\n                style={{ background: 'rgba(255,255,255,0.04)', border: '1px solid rgba(255,255,255,0.08)', padding: '0.6rem 0.85rem' }} />\n              <button type=\"button\" onClick={() => setShowNew(!showNew)} className=\"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500\">\n                {showNew ? <EyeOff size={14} /> : <Eye size={14} />}\n              </button>\n            </div>\n            {passwords.new && passwords.new.length < 8 && (\n              <p className=\"text-[10px] text-amber-400 mt-1\">Mínimo 8 caracteres</p>\n            )}\n          </div>\n\n          <div>\n            <label className=\"text-[11px] text-zinc-500 mb-1 block font-semibold uppercase tracking-wider\">Confirmar nueva</label>\n            <input type=\"password\" value={passwords.confirm}\n              onChange={e => setPasswords({ ...passwords, confirm: e.target.value })}\n              className=\"w-full text-sm text-white rounded-lg outline-none focus:ring-1 focus:ring-blue-500/40\"\n              style={{ background: 'rgba(255,255,255,0.04)', border: '1px solid rgba(255,255,255,0.08)', padding: '0.6rem 0.85rem' }} />\n            {passwords.confirm && passwords.confirm !== passwords.new && (\n              <p className=\"text-[10px] text-red-400 mt-1\">Las contraseñas no coinciden</p>\n            )}\n          </div>\n\n          <button onClick={handleChangePassword} disabled={loading || !passwords.current || !passwords.new || passwords.new !== passwords.confirm}\n            className=\"w-full py-3 rounded-xl text-sm font-bold text-white disabled:opacity-50 transition-all hover:scale-[1.01]\"\n            style={{ background: 'linear-gradient(135deg, #3B82F6, #2563EB)', boxShadow: '0 4px 15px rgba(59,130,246,0.2)' }}>\n            {loading ? <RefreshCw size={14} className=\"animate-spin mx-auto\" /> : 'Cambiar Contraseña'}\n          </button>\n        </div>\n      )}\n\n      {/* ── TAB: Sessions ── */}\n      {tab === 'sessions' && (\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-sm font-bold text-white\">Sesiones Activas</h3>\n            <button onClick={logoutAll} disabled={loading}\n              className=\"text-xs text-red-400 hover:text-red-300 font-medium flex items-center gap-1.5 transition-colors\">\n              <ShieldOff size={12} /> Cerrar Todas\n            </button>\n          </div>\n\n          {sessions.length === 0 ? (\n            <p className=\"text-xs text-zinc-500 text-center py-4\">No hay sesiones activas</p>\n          ) : (\n            <div className=\"space-y-2\">\n              {sessions.map(s => (\n                <div key={s.id} className=\"rounded-xl p-3.5 flex items-center gap-3\"\n                  style={{ background: 'rgba(255,255,255,0.02)', border: '1px solid rgba(255,255,255,0.06)' }}>\n                  <Monitor size={16} className=\"text-blue-400 shrink-0\" />\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-xs text-white font-medium truncate\">{s.user_agent?.slice(0, 60) || 'Unknown'}</p>\n                    <div className=\"flex items-center gap-3 mt-0.5\">\n                      <span className=\"text-[10px] text-zinc-500 flex items-center gap-1\"><MapPin size={9} /> {s.ip || '?'}</span>\n                      <span className=\"text-[10px] text-zinc-500 flex items-center gap-1\"><Clock size={9} /> {fmt(s.created_at)}</span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Auth log */}\n          <div className=\"mt-6\">\n            <h3 className=\"text-sm font-bold text-white mb-3\">Historial de Actividad</h3>\n            {authLog.length === 0 ? (\n              <p className=\"text-xs text-zinc-500 text-center py-4\">Sin actividad registrada</p>\n            ) : (\n              <div className=\"space-y-1.5 max-h-64 overflow-y-auto\" style={{ scrollbarWidth: 'thin' }}>\n                {authLog.slice(0, 20).map(l => (\n                  <div key={l.id} className=\"flex items-center gap-2 px-3 py-2 rounded-lg text-xs\"\n                    style={{ background: l.success ? 'rgba(255,255,255,0.02)' : 'rgba(239,68,68,0.04)' }}>\n                    <div className={`w-1.5 h-1.5 rounded-full ${l.success ? 'bg-emerald-400' : 'bg-red-400'}`} />\n                    <span className=\"text-zinc-300 font-medium\">{l.action}</span>\n                    <span className=\"text-zinc-500 ml-auto\">{fmt(l.created_at)}</span>\n                    <span className=\"text-zinc-600\">{l.ip}</span>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","// Kairos Trade — Settings Panel\nimport { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Settings, Key, Shield, Globe, Bell, Volume2, Percent, Wallet, Send, CheckCircle, XCircle, Lock } from 'lucide-react';\nimport useStore from '../../store/useStore';\nimport aiService from '../../services/ai';\nimport { telegramService } from '../../services/telegram';\nimport SecuritySettings from './SecuritySettings';\n\nexport default function SettingsPanel() {\n  const { settings, updateSettings, user } = useStore();\n  const [settingsTab, setSettingsTab] = useState('general');\n  const [apiKey, setApiKey] = useState('');\n  const [saved, setSaved] = useState(false);\n  const [tgToken, setTgToken] = useState(settings.telegramBotToken || '');\n  const [tgChatId, setTgChatId] = useState(settings.telegramChatId || '');\n  const [tgStatus, setTgStatus] = useState(null); // null, 'testing', 'ok', 'error'\n  const [tgError, setTgError] = useState('');\n\n  const handleSaveApiKey = () => {\n    if (apiKey.trim()) {\n      aiService.setApiKey(apiKey.trim());\n      updateSettings({ openaiKey: apiKey.trim() });\n      setSaved(true);\n      setTimeout(() => setSaved(false), 2000);\n    }\n  };\n\n  const handleSaveTelegram = async () => {\n    setTgStatus('testing');\n    setTgError('');\n    telegramService.configure(tgToken.trim(), tgChatId.trim());\n    const result = await telegramService.testConnection();\n    if (result.ok) {\n      updateSettings({ telegramBotToken: tgToken.trim(), telegramChatId: tgChatId.trim() });\n      setTgStatus('ok');\n    } else {\n      setTgStatus('error');\n      setTgError(result.error);\n    }\n  };\n\n  return (\n    <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n      <div>\n        <h1 className=\"text-xl font-bold\">Ajustes</h1>\n        <p className=\"text-sm text-[var(--text-dim)]\">Configuración de tu plataforma</p>\n      </div>\n\n      {/* Settings tabs */}\n      <div className=\"flex gap-2\">\n        <button onClick={() => setSettingsTab('general')}\n          className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${settingsTab === 'general' ? 'bg-blue-500/15 text-blue-400 border border-blue-500/20' : 'text-[var(--text-dim)] hover:text-[var(--text)]'}`}>\n          <span className=\"flex items-center gap-2\"><Settings size={14} /> General</span>\n        </button>\n        <button onClick={() => setSettingsTab('security')}\n          className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${settingsTab === 'security' ? 'bg-blue-500/15 text-blue-400 border border-blue-500/20' : 'text-[var(--text-dim)] hover:text-[var(--text)]'}`}>\n          <span className=\"flex items-center gap-2\"><Lock size={14} /> Seguridad & 2FA</span>\n        </button>\n      </div>\n\n      {/* Security tab */}\n      {settingsTab === 'security' && <SecuritySettings />}\n\n      {/* General settings */}\n      {settingsTab === 'general' && (<>\n\n      {/* Profile */}\n      <div className=\"bg-[var(--dark-2)] border border-[var(--border)] rounded-xl p-4\">\n        <h2 className=\"text-sm font-bold mb-3 flex items-center gap-2\">\n          <Shield size={16} className=\"text-[var(--gold)]\" /> Perfil\n        </h2>\n        <div className=\"space-y-2 text-sm\">\n          <p><span className=\"text-[var(--text-dim)]\">Email:</span> {user?.email}</p>\n          <p><span className=\"text-[var(--text-dim)]\">Nombre:</span> {user?.name}</p>\n          <p><span className=\"text-[var(--text-dim)]\">Plan:</span> <span className=\"text-[var(--gold)]\">{user?.plan?.toUpperCase()}</span></p>\n        </div>\n      </div>\n\n      {/* AI Config */}\n      <div className=\"bg-[var(--dark-2)] border border-[var(--border)] rounded-xl p-4\">\n        <h2 className=\"text-sm font-bold mb-3 flex items-center gap-2\">\n          <Key size={16} className=\"text-[var(--gold)]\" /> API Key de OpenAI\n        </h2>\n        <p className=\"text-xs text-[var(--text-dim)] mb-2\">\n          Opcional. Sin API key, Kairos AI usa análisis local integrado. Con API key, accedes a GPT-4 para análisis avanzado.\n        </p>\n        <div className=\"flex gap-2\">\n          <input\n            type=\"password\"\n            value={apiKey}\n            onChange={(e) => setApiKey(e.target.value)}\n            placeholder=\"sk-...\"\n            className=\"flex-1 text-sm font-mono\"\n          />\n          <button\n            onClick={handleSaveApiKey}\n            className=\"px-4 py-2 bg-[var(--gold)] text-white rounded-xl text-sm font-bold\"\n          >\n            {saved ? '✓ Guardado' : 'Guardar'}\n          </button>\n        </div>\n      </div>\n\n      {/* Trading defaults */}\n      <div className=\"bg-[var(--dark-2)] border border-[var(--border)] rounded-xl p-4\">\n        <h2 className=\"text-sm font-bold mb-3 flex items-center gap-2\">\n          <Percent size={16} className=\"text-[var(--gold)]\" /> Trading por Defecto\n        </h2>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label className=\"text-xs text-[var(--text-dim)] mb-1 block\">Riesgo máx. por trade (%)</label>\n            <input\n              type=\"number\"\n              value={settings.maxRiskPerTrade}\n              onChange={(e) => updateSettings({ maxRiskPerTrade: parseFloat(e.target.value) })}\n              className=\"w-full text-sm\"\n            />\n          </div>\n          <div>\n            <label className=\"text-xs text-[var(--text-dim)] mb-1 block\">Apalancamiento predeterminado</label>\n            <input\n              type=\"number\"\n              value={settings.defaultLeverage}\n              onChange={(e) => updateSettings({ defaultLeverage: parseFloat(e.target.value) })}\n              className=\"w-full text-sm\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Notifications */}\n      <div className=\"bg-[var(--dark-2)] border border-[var(--border)] rounded-xl p-4\">\n        <h2 className=\"text-sm font-bold mb-3 flex items-center gap-2\">\n          <Bell size={16} className=\"text-[var(--gold)]\" /> Notificaciones\n        </h2>\n        <div className=\"space-y-3\">\n          {[\n            { key: 'notifications', label: 'Notificaciones', desc: 'Alertas de trades y señales' },\n            { key: 'soundAlerts', label: 'Sonido', desc: 'Alertas sonoras al ejecutar trades' },\n          ].map(item => (\n            <div key={item.key} className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm\">{item.label}</p>\n                <p className=\"text-xs text-[var(--text-dim)]\">{item.desc}</p>\n              </div>\n              <button\n                onClick={() => updateSettings({ [item.key]: !settings[item.key] })}\n                className={`w-12 h-6 rounded-full transition-colors relative\n                  ${settings[item.key] ? 'bg-[var(--gold)]' : 'bg-[var(--dark-4)]'}`}\n              >\n                <div\n                  className={`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform\n                    ${settings[item.key] ? 'left-6' : 'left-0.5'}`}\n                />\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Telegram */}\n      <div className=\"bg-[var(--dark-2)] border border-[var(--border)] rounded-xl p-4\">\n        <h2 className=\"text-sm font-bold mb-3 flex items-center gap-2\">\n          <Send size={16} className=\"text-[var(--gold)]\" /> Telegram Notifications\n        </h2>\n        <p className=\"text-xs text-[var(--text-dim)] mb-3\">\n          Recibe alertas de trades, bots y señales directamente en tu Telegram.\n          Crea un bot con <a href=\"https://t.me/BotFather\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-[var(--gold)] hover:underline\">@BotFather</a> y\n          obtén tu Chat ID con <a href=\"https://t.me/userinfobot\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-[var(--gold)] hover:underline\">@userinfobot</a>.\n        </p>\n        <div className=\"space-y-2 mb-3\">\n          <input\n            type=\"text\"\n            value={tgToken}\n            onChange={(e) => setTgToken(e.target.value)}\n            placeholder=\"Bot Token (de @BotFather)\"\n            className=\"w-full text-sm font-mono\"\n          />\n          <input\n            type=\"text\"\n            value={tgChatId}\n            onChange={(e) => setTgChatId(e.target.value)}\n            placeholder=\"Chat ID (de @userinfobot)\"\n            className=\"w-full text-sm font-mono\"\n          />\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={handleSaveTelegram}\n            disabled={!tgToken.trim() || !tgChatId.trim() || tgStatus === 'testing'}\n            className=\"px-4 py-2 bg-[var(--gold)] text-white rounded-xl text-sm font-bold disabled:opacity-50\"\n          >\n            {tgStatus === 'testing' ? '⏳ Probando...' : tgStatus === 'ok' ? '✅ Conectado' : 'Conectar & Probar'}\n          </button>\n          {tgStatus === 'ok' && <CheckCircle size={16} className=\"text-emerald-400\" />}\n          {tgStatus === 'error' && (\n            <span className=\"flex items-center gap-1 text-xs text-red-400\">\n              <XCircle size={14} /> {tgError}\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Wallet integration */}\n      <div className=\"bg-[var(--dark-2)] border border-[var(--border)] rounded-xl p-4\">\n        <h2 className=\"text-sm font-bold mb-3 flex items-center gap-2\">\n          <Wallet size={16} className=\"text-[var(--gold)]\" /> Kairos Wallet\n        </h2>\n        <p className=\"text-xs text-[var(--text-dim)] mb-3\">\n          Conecta tu Kairos Wallet para usar KAIROS Coin como método de pago y recibir recompensas.\n        </p>\n        <a\n          href=\"https://kairos-wallet.netlify.app\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"inline-flex items-center gap-2 px-4 py-2 bg-[var(--gold)]/20 text-[var(--gold)] rounded-xl text-sm font-bold hover:bg-[var(--gold)]/30 transition-colors\"\n        >\n          <Wallet size={14} /> Abrir Kairos Wallet\n        </a>\n      </div>\n\n      {/* Version */}\n      <div className=\"text-center text-xs text-[var(--text-dim)] pb-4\">\n        <p>Kairos 777 v2.0.0 • Kairos 777 Inc</p>\n        <p className=\"text-[var(--gold)] mt-1\">Powered by Kairos AI</p>\n      </div>\n      </>)}\n    </div>\n  );\n}\n"],"names":["fmt","d","authFetch","path","_token","opts","apiClient","OTPInput","value","onChange","refs","useRef","digits","handleChange","i","ch","next","_a","handleKey","e","handlePaste","_","jsx","el","SecuritySettings","user","login","useStore","token","tab","setTab","useState","loading","setLoading","msg","setMsg","qrCode","setQrCode","otpUrl","setOtpUrl","setupCode","setSetupCode","disableCode","setDisableCode","backupCodes","setBackupCodes","showSetup","setShowSetup","passwords","setPasswords","showCurr","setShowCurr","showNew","setShowNew","sessions","setSessions","authLog","setAuthLog","useEffect","r","flash","type","text","start2FASetup","res","err","confirm2FASetup","handleDisable2FA","handleChangePassword","logoutAll","TABS","Shield","Key","Monitor","jsxs","AnimatePresence","motion","CheckCircle2","AlertTriangle","t","ShieldCheck","ShieldOff","RefreshCw","Smartphone","code","Copy","Lock","EyeOff","Eye","MapPin","Clock","l","SettingsPanel","settings","updateSettings","settingsTab","setSettingsTab","apiKey","setApiKey","saved","setSaved","tgToken","setTgToken","tgChatId","setTgChatId","tgStatus","setTgStatus","tgError","setTgError","handleSaveApiKey","aiService","handleSaveTelegram","telegramService","result","Settings","Fragment","Percent","Bell","item","Send","CheckCircle","XCircle","Wallet"],"mappings":"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"}