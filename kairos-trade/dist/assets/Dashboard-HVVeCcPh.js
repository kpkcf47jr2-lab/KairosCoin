import{a as h,d as z,h as J,A as U,a0 as Q,B as H,P as ee,e as te,Z as q,S as se,T as ae,s as re,j as e,m as w,q as S,a1 as le,a2 as ie,x as oe,N as ne,a3 as de,a4 as ce,a5 as xe,a6 as me,R as pe,E as ge,Q as he,V as be,Y as ue}from"./ui-C9JhL7YV.js";import{u as K,a as fe,i as ve,f as ye,g as G,t as je}from"./index-DfNEpHL8.js";import{m as Ne}from"./marketData-K1zKCjjj.js";import{t as V}from"./tradingEngine-DHss1sSm.js";import"./vendor-09nSF2_j.js";import"./indicators-DJQYQkcq.js";import"./broker-BTXqii-N.js";import"./kairosScript-CdOTgz24.js";function i(s){return s==null?"":typeof s=="string"||typeof s=="number"||typeof s=="boolean"||pe.isValidElement(s)||Array.isArray(s)?s:(console.error("[SAFE] Object caught as React child:",JSON.stringify(s).slice(0,200),s),String(s))}function we({data:s,color:n="#D4AF37",height:g=48,width:x=140}){const D=h.useRef(null);return h.useEffect(()=>{const m=D.current;if(!m||!s||s.length<2)return;const r=m.getContext("2d"),y=window.devicePixelRatio||1;m.width=x*y,m.height=g*y,r.scale(y,y),r.clearRect(0,0,x,g);const k=Math.min(...s),A=Math.max(...s)-k||1,p=4,l=x-p*2,C=g-p*2,F=r.createLinearGradient(0,p,0,g-p);F.addColorStop(0,n+"30"),F.addColorStop(1,n+"00"),r.beginPath(),s.forEach((T,$)=>{const d=p+$/(s.length-1)*l,j=p+(1-(T-k)/A)*C;$===0?r.moveTo(d,j):r.lineTo(d,j)}),r.lineTo(p+l,g-p),r.lineTo(p,g-p),r.closePath(),r.fillStyle=F,r.fill(),r.beginPath(),s.forEach((T,$)=>{const d=p+$/(s.length-1)*l,j=p+(1-(T-k)/A)*C;$===0?r.moveTo(d,j):r.lineTo(d,j)}),r.strokeStyle=n,r.lineWidth=1.5,r.stroke();const b=p+l,M=p+(1-(s[s.length-1]-k)/A)*C;r.beginPath(),r.arc(b,M,2.5,0,Math.PI*2),r.fillStyle=n,r.fill()},[s,n,x,g]),e.jsx("canvas",{ref:D,style:{width:x,height:g}})}function ke(s){const n=Math.floor((Date.now()-new Date(s).getTime())/1e3);return n<60?"ahora":n<3600?`${Math.floor(n/60)}m`:n<86400?`${Math.floor(n/3600)}h`:`${Math.floor(n/86400)}d`}function Re(){const{setPage:s,bots:n,brokers:g,tradeHistory:x,positions:D,user:m}=K(),[r,y]=h.useState([]),[k,L]=h.useState(!0),[A,p]=h.useState({}),{t:l}=fe();h.useEffect(()=>{C();const t=setInterval(C,3e4);return()=>clearInterval(t)},[]),h.useEffect(()=>{const t=()=>{const o={};V.activeBots.forEach((u,f)=>{o[f]=V.liveData.get(f)||{}}),p(o)};t();const a=setInterval(t,2e3);return()=>clearInterval(a)},[n]);const C=async()=>{try{const t=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","XRPUSDT","ADAUSDT"],a=await Promise.all(t.map(async o=>{try{return await Ne.get24hrTicker(o)}catch{return null}}));y(a.filter(Boolean))}catch(t){console.error("Dashboard load error:",t)}L(!1)},F=n.filter(t=>t.status==="active"),b=x.reduce((t,a)=>t+(a.pnl||0),0),M=g.filter(t=>t.connected),T=[{label:l("dashboard.activeBots"),value:F.length,icon:z,color:"#3B82F6",gradient:"linear-gradient(135deg, rgba(59,130,246,0.1), rgba(59,130,246,0.02))",border:"rgba(59,130,246,0.1)",action:"bots"},{label:l("dashboard.brokers"),value:`${M.length}/${g.length}`,icon:J,color:"#A855F7",gradient:"linear-gradient(135deg, rgba(168,85,247,0.1), rgba(168,85,247,0.02))",border:"rgba(168,85,247,0.1)",action:"brokers"},{label:l("dashboard.positions"),value:D.length,icon:U,color:"#00DC82",gradient:"linear-gradient(135deg, rgba(0,220,130,0.1), rgba(0,220,130,0.02))",border:"rgba(0,220,130,0.1)",action:"history"},{label:l("dashboard.totalPnl"),value:`${b>=0?"+":""}$${b.toFixed(2)}`,icon:Q,color:b>=0?"#00DC82":"#FF4757",gradient:b>=0?"linear-gradient(135deg, rgba(0,220,130,0.1), rgba(0,220,130,0.02))":"linear-gradient(135deg, rgba(255,71,87,0.1), rgba(255,71,87,0.02))",border:b>=0?"rgba(0,220,130,0.1)":"rgba(255,71,87,0.1)",action:"history"}],$=[{label:l("dashboard.trading"),icon:H,page:"chart",desc:l("dashboard.tradingDesc"),color:"#3B82F6"},{label:l("dashboard.simulator"),icon:ee,page:"simulator",desc:l("dashboard.simulatorDesc"),color:"#00DC82"},{label:l("dashboard.kairosAi"),icon:te,page:"ai",desc:l("dashboard.kairosAiDesc"),color:"#A855F7"},{label:l("dashboard.createBot"),icon:z,page:"bots",desc:l("dashboard.createBotDesc"),color:"#60A5FA"},{label:l("dashboard.strategies"),icon:q,page:"strategies",desc:l("dashboard.strategiesDesc"),color:"#EC4899"},{label:l("dashboard.brokersAction"),icon:se,page:"brokers",desc:l("dashboard.brokersActionDesc"),color:"#22D3EE"}],d=h.useMemo(()=>{const t=x||[];if(t.length===0)return null;const a=t.filter(c=>(c.pnl||0)>0),o=t.filter(c=>(c.pnl||0)<0),u=a.length/t.length*100,f=a.reduce((c,N)=>c+N.pnl,0),P=o.reduce((c,N)=>c+Math.abs(N.pnl),0),R=P>0?f/P:f>0?1/0:0;let E=0,B=0,I=0;const W=[];t.forEach(c=>{E+=c.pnl||0,W.push(E),B=Math.max(B,E);const N=B>0?(B-E)/B*100:0;I=Math.max(I,N)});const X=new Date().setHours(0,0,0,0),Y=t.filter(c=>new Date(c.closedAt||c.time).getTime()>=X).reduce((c,N)=>c+(N.pnl||0),0),Z=Date.now()-7*864e5,_=t.filter(c=>new Date(c.closedAt||c.time).getTime()>=Z).reduce((c,N)=>c+(N.pnl||0),0);return{winRate:u,profitFactor:R,maxDD:I,equityCurve:W,todayPnl:Y,weekPnl:_,totalPnl:b,totalTrades:t.length}},[x,b]),j=h.useMemo(()=>n.filter(t=>t.status==="active"),[n]),O=h.useMemo(()=>{const t=[];return(x||[]).slice(-6).forEach(a=>{var o;t.push({type:"trade",icon:a.pnl>=0?ae:re,color:a.pnl>=0?"#10B981":"#EF4444",text:`${((o=a.side)==null?void 0:o.toUpperCase())||"TRADE"} ${a.symbol||a.pair||"—"} → ${a.pnl>=0?"+":""}$${(a.pnl||0).toFixed(2)}`,time:a.closedAt||a.time})}),n.filter(a=>a.status==="active").forEach(a=>{t.push({type:"bot",icon:z,color:"#3B82F6",text:`${a.name} running on ${a.pair}`,time:a.startedAt||a.createdAt})}),t.sort((a,o)=>new Date(o.time||0)-new Date(a.time||0)).slice(0,8)},[x,n]),v=h.useMemo(()=>{if(!ve(m))return null;try{return ye.getStats()}catch{return null}},[m]);return e.jsxs("div",{className:"flex-1 overflow-y-auto px-3 md:px-5 py-4 md:py-5 space-y-4 md:space-y-5",style:{maxWidth:"100%"},children:[e.jsxs(w.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h1",{className:"text-[18px] md:text-[22px] font-bold tracking-tight truncate",children:["Bienvenido, ",e.jsx("span",{className:"text-[var(--gold)]",children:i(m==null?void 0:m.name)||"Trader"})]}),e.jsx("p",{className:"text-sm text-[var(--text-dim)] mt-0.5 hidden sm:block",children:"Tu centro de control de trading automatizado"})]}),e.jsxs("button",{onClick:()=>s("chart"),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-xs font-semibold transition-all hover:opacity-90 btn-gold shrink-0",children:[e.jsx(H,{size:14}),"Trading"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:T.map((t,a)=>{const o=t.icon;return e.jsxs(w.button,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:a*.06},onClick:()=>s(t.action),className:"rounded-xl p-4 text-left transition-all duration-200 hover:scale-[1.02] group",style:{background:t.gradient,border:`1px solid ${t.border}`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`${t.color}15`},children:e.jsx(o,{size:18,style:{color:t.color}})}),e.jsx(S,{size:14,className:"text-[var(--text-dim)]/30 group-hover:text-[var(--text-dim)] transition-colors"})]}),e.jsx("p",{className:"text-[22px] font-bold leading-none truncate",style:{color:t.color},children:i(t.value)}),e.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-1.5 font-medium truncate",children:i(t.label)})]},t.label)})}),d&&e.jsxs(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(17,19,24,0.8), rgba(24,26,32,0.6))",border:"1px solid rgba(30,34,45,0.5)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4",style:{borderBottom:"1px solid rgba(30,34,45,0.5)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{size:14,className:"text-[var(--gold)]"}),e.jsx("h2",{className:"text-sm font-bold",children:"Portfolio Performance"})]}),e.jsxs("button",{onClick:()=>s("portfolio"),className:"text-[11px] text-[var(--gold)] hover:text-[var(--gold-light)] font-semibold flex items-center gap-1 transition-colors",children:["Analytics completos ",e.jsx(S,{size:12})]})]}),e.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-[1fr_auto] gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(we,{data:d.equityCurve,color:b>=0?"#10B981":"#EF4444",width:180,height:56}),e.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider font-semibold",children:"Hoy"}),e.jsxs("p",{className:`text-sm font-bold ${d.todayPnl>=0?"text-emerald-400":"text-red-400"}`,children:[d.todayPnl>=0?"+":"","$",d.todayPnl.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider font-semibold",children:"7 Días"}),e.jsxs("p",{className:`text-sm font-bold ${d.weekPnl>=0?"text-emerald-400":"text-red-400"}`,children:[d.weekPnl>=0?"+":"","$",d.weekPnl.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider font-semibold",children:"Total"}),e.jsxs("p",{className:`text-sm font-bold ${b>=0?"text-emerald-400":"text-red-400"}`,children:[b>=0?"+":"","$",b.toFixed(2)]})]})]})]}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:[{label:"Win Rate",value:`${d.winRate.toFixed(0)}%`,color:d.winRate>=50?"#10B981":"#EF4444",icon:le},{label:"Profit Factor",value:d.profitFactor===1/0?"∞":d.profitFactor.toFixed(1),color:d.profitFactor>=1?"#10B981":"#EF4444",icon:ie},{label:"Max DD",value:`${d.maxDD.toFixed(1)}%`,color:d.maxDD<15?"#10B981":"#EF4444",icon:oe}].map((t,a)=>{const o=t.icon;return e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg",style:{background:`${t.color}08`,border:`1px solid ${t.color}15`},children:[e.jsx(o,{size:13,style:{color:t.color}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase font-semibold",children:i(t.label)}),e.jsx("p",{className:"text-sm font-bold",style:{color:t.color},children:i(t.value)})]})]},a)})})]})]}),j.length>0&&e.jsxs(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-sm font-bold text-[var(--text)] flex items-center gap-2",children:[e.jsx(z,{size:14,className:"text-blue-400"}),"Bots Activos",e.jsxs("span",{className:"text-[10px] font-bold text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded-full",children:[j.length," ",i(l("dashboard.running"))]})]}),e.jsxs("button",{onClick:()=>s("bots"),className:"text-[11px] text-[var(--gold)] hover:text-[var(--gold-light)] font-semibold flex items-center gap-1 transition-colors",children:[i(l("dashboard.viewAll"))," ",e.jsx(S,{size:12})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:j.slice(0,6).map(t=>{var P,R;const a=A[t.id]||{},o=a.unrealizedPnl||0,u=a.pnlPercent||0,f=a.position;return e.jsxs("div",{onClick:()=>s("bots"),className:"rounded-xl p-3.5 cursor-pointer transition-all hover:scale-[1.01] group",style:{background:"linear-gradient(135deg, rgba(17,19,24,0.8), rgba(24,26,32,0.6))",border:`1px solid ${o>=0?"rgba(16,185,129,0.12)":"rgba(239,68,68,0.12)"}`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e.jsx("span",{className:"text-xs font-bold truncate max-w-[120px]",children:i(t.name)})]}),e.jsx("span",{className:"text-[10px] font-mono text-[var(--text-dim)]",children:i(t.pair)})]}),f?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded ${f.side==="buy"?"bg-emerald-500/15 text-emerald-400":"bg-red-500/15 text-red-400"}`,children:[(P=f.side)==null?void 0:P.toUpperCase()," @ $",(R=f.entryPrice)==null?void 0:R.toFixed(2)]}),e.jsxs("span",{className:`text-sm font-bold ${o>=0?"text-emerald-400":"text-red-400"}`,children:[o>=0?"+":"","$",o.toFixed(2),e.jsxs("span",{className:"text-[10px] ml-1",children:["(",u>=0?"+":"",u.toFixed(1),"%)"]})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Esperando señal..."}),e.jsx(ne,{size:12,className:"text-[var(--text-dim)]"})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-[10px] text-[var(--text-dim)]",children:[e.jsxs("span",{children:["Trades: ",t.trades||0]}),e.jsxs("span",{children:["WR: ",(t.winRate||0).toFixed(0),"%"]}),a.price&&e.jsxs("span",{className:"ml-auto font-mono",children:["$",a.price.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]},t.id)})})]}),e.jsxs("div",{className:`grid gap-4 ${v?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"}`,children:[O.length>0&&e.jsxs(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(17,19,24,0.8), rgba(24,26,32,0.6))",border:"1px solid rgba(30,34,45,0.5)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4",style:{borderBottom:"1px solid rgba(30,34,45,0.5)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{size:14,className:"text-[var(--gold)]"}),e.jsx("h2",{className:"text-sm font-bold",children:"Actividad Reciente"})]}),e.jsxs("button",{onClick:()=>s("history"),className:"text-[11px] text-[var(--gold)] hover:text-[var(--gold-light)] font-semibold flex items-center gap-1 transition-colors",children:["Ver historial ",e.jsx(S,{size:12})]})]}),e.jsx("div",{className:"divide-y divide-[var(--border)]/30",children:O.map((t,a)=>{const o=t.icon,u=t.time?new Date(t.time):null,f=u?ke(u):"";return e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 hover:bg-white/[0.01] transition-colors",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center shrink-0",style:{background:`${t.color}12`},children:e.jsx(o,{size:13,style:{color:t.color}})}),e.jsx("p",{className:"flex-1 text-xs truncate",children:i(t.text)}),e.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:i(f)})]},a)})})]}),v&&e.jsxs(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(212,175,55,0.04), rgba(212,175,55,0.01))",border:"1px solid rgba(212,175,55,0.12)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4",style:{borderBottom:"1px solid rgba(212,175,55,0.08)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{size:14,className:"text-amber-400"}),e.jsx("h2",{className:"text-sm font-bold",children:"Platform Revenue"}),e.jsx("span",{className:"text-[9px] font-bold text-amber-400 bg-amber-400/10 px-2 py-0.5 rounded-full",children:"ADMIN"})]}),e.jsxs("button",{onClick:()=>s("kairos-treasury"),className:"text-[11px] text-amber-400 hover:text-amber-300 font-semibold flex items-center gap-1 transition-colors",children:["Treasury ",e.jsx(S,{size:12})]})]}),e.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"rounded-lg p-3",style:{background:"rgba(16,185,129,0.06)",border:"1px solid rgba(16,185,129,0.1)"},children:[e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase font-semibold mb-1",children:"Total Recaudado"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["$",i(v.totalCollected.toFixed(2))]}),e.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[i(v.totalTrades)," trades"]})]}),e.jsxs("div",{className:"rounded-lg p-3",style:{background:"rgba(59,130,246,0.06)",border:"1px solid rgba(59,130,246,0.1)"},children:[e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase font-semibold mb-1",children:"Hoy"}),e.jsxs("p",{className:"text-lg font-bold text-blue-400",children:["$",i(v.today.fees.toFixed(2))]}),e.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[i(v.today.trades)," trades • $",i(v.today.volume.toLocaleString())," vol"]})]}),e.jsxs("div",{className:"rounded-lg p-3",style:{background:"rgba(168,85,247,0.06)",border:"1px solid rgba(168,85,247,0.1)"},children:[e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase font-semibold mb-1",children:"7 Días"}),e.jsxs("p",{className:"text-lg font-bold text-purple-400",children:["$",i(v.last7days.fees.toFixed(2))]}),e.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[i(v.last7days.trades)," trades"]})]}),e.jsxs("div",{className:"rounded-lg p-3",style:{background:"rgba(212,175,55,0.06)",border:"1px solid rgba(212,175,55,0.1)"},children:[e.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase font-semibold mb-1",children:"30 Días"}),e.jsxs("p",{className:"text-lg font-bold text-amber-400",children:["$",i(v.last30days.fees.toFixed(2))]}),e.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["$",i(v.last30days.volume.toLocaleString())," volumen"]})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-sm font-bold text-[var(--text)] mb-3 flex items-center gap-2",children:[e.jsx(q,{size:14,className:"text-[var(--gold)]"}),"Acceso Rápido"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2.5",children:$.map((t,a)=>{const o=t.icon;return e.jsxs(w.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2+a*.05},onClick:()=>s(t.page),className:"rounded-xl p-4 text-left transition-all duration-200 group hover:scale-[1.01]",style:{background:"linear-gradient(135deg, rgba(17,19,24,0.8), rgba(24,26,32,0.6))",border:"1px solid rgba(30,34,45,0.5)"},onMouseEnter:u=>u.currentTarget.style.borderColor=`${t.color}30`,onMouseLeave:u=>u.currentTarget.style.borderColor="rgba(30,34,45,0.5)",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mb-3 transition-transform group-hover:scale-110",style:{background:`${t.color}12`},children:e.jsx(o,{size:20,style:{color:t.color}})}),e.jsx("p",{className:"text-[13px] font-bold text-[var(--text)] truncate",children:i(t.label)}),e.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 truncate",children:i(t.desc)})]},t.label)})})]}),e.jsxs("div",{className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(17,19,24,0.8), rgba(24,26,32,0.6))",border:"1px solid rgba(30,34,45,0.5)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4",style:{borderBottom:"1px solid rgba(30,34,45,0.5)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{size:14,className:"text-[var(--gold)]"}),e.jsx("h2",{className:"text-sm font-bold",children:i(l("dashboard.realtimeMarket"))})]}),e.jsxs("button",{onClick:()=>s("chart"),className:"text-[11px] text-[var(--gold)] hover:text-[var(--gold-light)] font-semibold flex items-center gap-1 transition-colors",children:[i(l("dashboard.viewChart"))," ",e.jsx(S,{size:12})]})]}),e.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2 px-3 md:px-4 py-2 text-[10px] font-bold text-[var(--text-dim)]/50 uppercase tracking-wider",children:[e.jsx("span",{children:i(l("dashboard.pair"))}),e.jsx("span",{className:"text-right",children:i(l("dashboard.price"))}),e.jsx("span",{className:"text-right",children:i(l("dashboard.change24h"))}),e.jsx("span",{className:"text-right hidden md:block",children:i(l("dashboard.action"))})]}),e.jsx("div",{className:"divide-y divide-[var(--border)]/30",children:k?e.jsx("div",{className:"p-8 text-center text-sm text-[var(--text-dim)] animate-pulse",children:i(l("dashboard.loadingMarket"))}):r.map((t,a)=>e.jsxs(w.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:a*.05},onClick:()=>{K.getState().setSelectedPair(je(t.symbol)),s("chart")},className:"group w-full grid grid-cols-3 md:grid-cols-4 gap-2 items-center px-3 md:px-4 py-3 hover:bg-white/[0.02] transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-[10px] font-bold",style:{background:t.changePercent>=0?"rgba(14,203,129,0.08)":"rgba(246,70,93,0.08)"},children:e.jsx("span",{className:t.changePercent>=0?"text-[var(--green)]":"text-[var(--red)]",children:G(t.symbol).slice(0,3)})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[13px] font-bold leading-none",children:i(G(t.symbol))}),e.jsx("p",{className:"text-[10px] text-[var(--text-dim)]/50 mt-0.5",children:"KAIROS"})]})]}),e.jsxs("p",{className:"text-[13px] font-mono font-semibold text-right",children:["$",t.price.toLocaleString(void 0,{maximumFractionDigits:2})]}),e.jsx("div",{className:"flex items-center gap-1 justify-end",children:e.jsxs("span",{className:`flex items-center gap-0.5 text-xs font-mono font-semibold px-2 py-0.5 rounded-md
                  ${t.changePercent>=0?"text-[var(--green)] bg-[var(--green)]/[0.08]":"text-[var(--red)] bg-[var(--red)]/[0.08]"}`,children:[t.changePercent>=0?e.jsx(xe,{size:10}):e.jsx(me,{size:10}),t.changePercent>=0?"+":"",t.changePercent.toFixed(2),"%"]})}),e.jsx("div",{className:"text-right hidden md:block",children:e.jsxs("span",{className:"text-[10px] font-semibold text-[var(--gold)] opacity-0 group-hover:opacity-100 transition-opacity bg-[var(--gold)]/10 px-2 py-1 rounded-md",children:[i(l("dashboard.trade"))," →"]})})]},t.symbol))})]}),(m==null?void 0:m.referralCode)&&e.jsx(De,{code:m.referralCode})]})}function De({code:s}){const[n,g]=h.useState(!1),x=`https://kairos-trade.netlify.app?ref=${s}`,D=h.useCallback(async r=>{try{await navigator.clipboard.writeText(r),g(!0),setTimeout(()=>g(!1),2e3)}catch{}},[]),m=h.useCallback(r=>{const y=encodeURIComponent(`Únete a Kairos Trade — trading automatizado con 10+ brokers y bots AI. Usa mi código ${s} y recibe 100 KAIROS gratis: ${x}`),k={whatsapp:`https://wa.me/?text=${y}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(x)}&text=${y}`,twitter:`https://twitter.com/intent/tweet?text=${y}`};window.open(k[r],"_blank")},[s,x]);return e.jsx(w.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.4},className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(245,158,11,0.04), rgba(245,158,11,0.01))",border:"1px solid rgba(245,158,11,0.12)"},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"rgba(245,158,11,0.1)"},children:e.jsx(ge,{size:16,className:"text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-[var(--text)]",children:"Invita y Gana"}),e.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:"20 KAIROS por cada amigo"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex-1 rounded-lg px-3 py-2 font-mono text-sm font-bold text-amber-400 tracking-wider",style:{background:"rgba(245,158,11,0.06)",border:"1px solid rgba(245,158,11,0.1)"},children:s}),e.jsx("button",{onClick:()=>D(s),className:"px-3 py-2 rounded-lg transition-all hover:scale-105",style:{background:"rgba(245,158,11,0.08)",border:"1px solid rgba(245,158,11,0.15)"},children:n?e.jsx(he,{size:14,className:"text-green-400"}):e.jsx(be,{size:14,className:"text-amber-400/60"})})]}),e.jsx("button",{onClick:()=>D(x),className:"w-full text-left rounded-lg px-3 py-2 text-[11px] text-[var(--text-dim)] truncate hover:text-white/50 transition-colors mb-3",style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.04)"},children:x}),e.jsx("div",{className:"flex gap-2",children:[{id:"whatsapp",label:"WhatsApp",bg:"#25D366"},{id:"telegram",label:"Telegram",bg:"#0088cc"},{id:"twitter",label:"X",bg:"#1DA1F2"}].map(r=>e.jsxs("button",{onClick:()=>m(r.id),className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-[11px] font-semibold text-white/60 hover:text-white transition-all hover:scale-[1.02]",style:{background:`${r.bg}10`,border:`1px solid ${r.bg}20`},children:[e.jsx(ue,{size:10}),r.label]},r.id))})]})})}export{Re as default};
//# sourceMappingURL=Dashboard-HVVeCcPh.js.map
