<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Proof of Reserves â€” Kairos Coin (KAIROS)</title>
  <meta name="description" content="Real-time Proof of Reserves for Kairos Coin. Verify 1 KAIROS = 1 USD backing 24/7. On-chain verifiable, institutional-grade transparency." />
  <meta property="og:title" content="KAIROS â€” Proof of Reserves" />
  <meta property="og:description" content="Real-time, on-chain verifiable proof of reserves. 24/7 transparency." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <style>
    /* â”€â”€ Variables â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    :root {
      --gold: #D4AF37;
      --gold-deep: #B8860B;
      --gold-light: #F0D060;
      --dark: #0D0D0D;
      --dark-card: #151108;
      --dark-surface: #1E1710;
      --cream: #FFF8DC;
      --white: #FFFFFF;
      --gray: #A0A0A0;
      --green: #22C55E;
      --green-dim: rgba(34, 197, 94, 0.15);
      --red: #EF4444;
      --red-dim: rgba(239, 68, 68, 0.15);
      --yellow: #F59E0B;
      --yellow-dim: rgba(245, 158, 11, 0.15);
      --blue: #3B82F6;
      --font-display: 'Playfair Display', Georgia, serif;
      --font-body: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-mono: 'JetBrains Mono', 'SF Mono', monospace;
      --max-width: 1200px;
      --radius: 12px;
      --radius-lg: 20px;
    }

    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: var(--font-body);
      background: var(--dark);
      color: var(--white);
      line-height: 1.6;
      min-height: 100vh;
    }
    a { color: var(--gold); text-decoration: none; transition: color 0.3s; }
    a:hover { color: var(--gold-light); }

    /* â”€â”€ Navbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .navbar {
      position: sticky; top: 0; z-index: 100;
      background: rgba(13, 13, 13, 0.92);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(212, 175, 55, 0.15);
      padding: 0 24px;
    }
    .navbar-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      display: flex; align-items: center; justify-content: space-between;
      height: 64px;
    }
    .nav-brand { display: flex; align-items: center; gap: 10px; }
    .nav-brand img { width: 32px; height: 32px; border-radius: 50%; }
    .nav-brand span { font-family: var(--font-display); font-size: 1.2rem; color: var(--gold); font-weight: 700; }
    .nav-links { display: flex; gap: 24px; align-items: center; }
    .nav-links a { color: var(--gray); font-size: 0.9rem; font-weight: 500; }
    .nav-links a:hover, .nav-links a.active { color: var(--gold); }
    .nav-badge {
      background: linear-gradient(135deg, var(--gold-deep), var(--gold));
      color: #000; font-size: 0.7rem; font-weight: 700;
      padding: 2px 8px; border-radius: 12px; text-transform: uppercase;
    }

    /* â”€â”€ Hero Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .por-hero {
      background: linear-gradient(180deg, rgba(212, 175, 55, 0.08) 0%, transparent 100%);
      border-bottom: 1px solid rgba(212, 175, 55, 0.08);
      padding: 48px 24px 40px;
      text-align: center;
    }
    .por-hero h1 {
      font-family: var(--font-display);
      font-size: 2.4rem; font-weight: 900;
      background: linear-gradient(135deg, var(--gold), var(--gold-light));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }
    .por-hero p { color: var(--gray); font-size: 1.05rem; max-width: 600px; margin: 0 auto; }
    .live-dot {
      display: inline-block; width: 8px; height: 8px;
      background: var(--green); border-radius: 50%;
      margin-right: 6px; animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
      50% { opacity: 0.8; box-shadow: 0 0 0 6px rgba(34, 197, 94, 0); }
    }
    .por-hero .live-label {
      display: inline-flex; align-items: center;
      color: var(--green); font-size: 0.85rem; font-weight: 600;
      margin-top: 12px;
    }
    .por-hero .update-time { color: var(--gray); font-size: 0.8rem; margin-top: 4px; }

    /* â”€â”€ Main Container â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .por-container { max-width: var(--max-width); margin: 0 auto; padding: 32px 24px 64px; }

    /* â”€â”€ Backing Ratio Banner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .ratio-banner {
      background: var(--dark-card);
      border: 1px solid rgba(212, 175, 55, 0.2);
      border-radius: var(--radius-lg);
      padding: 32px;
      margin-bottom: 32px;
      display: flex; align-items: center; justify-content: space-between;
      flex-wrap: wrap; gap: 24px;
    }
    .ratio-main { text-align: center; flex: 1; min-width: 200px; }
    .ratio-number {
      font-family: var(--font-mono); font-size: 3.5rem; font-weight: 700;
      line-height: 1;
    }
    .ratio-label { color: var(--gray); font-size: 0.85rem; margin-top: 4px; text-transform: uppercase; letter-spacing: 1px; }
    .ratio-status {
      display: inline-block; padding: 6px 16px; border-radius: 8px;
      font-size: 0.85rem; font-weight: 700; margin-top: 8px;
      text-transform: uppercase; letter-spacing: 0.5px;
    }
    .ratio-status.backed { background: var(--green-dim); color: var(--green); }
    .ratio-status.under { background: var(--red-dim); color: var(--red); }
    .ratio-status.partial { background: var(--yellow-dim); color: var(--yellow); }

    .ratio-detail { text-align: center; min-width: 150px; }
    .ratio-detail .val { font-family: var(--font-mono); font-size: 1.4rem; font-weight: 600; color: var(--white); }
    .ratio-detail .lbl { color: var(--gray); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px; margin-top: 2px; }

    /* â”€â”€ Progress Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .backing-bar-wrap {
      width: 100%; margin-top: 20px;
    }
    .backing-bar-labels {
      display: flex; justify-content: space-between;
      font-size: 0.75rem; color: var(--gray); margin-bottom: 6px;
    }
    .backing-bar {
      width: 100%; height: 12px;
      background: rgba(255,255,255,0.06);
      border-radius: 6px; overflow: hidden;
    }
    .backing-bar-fill {
      height: 100%; border-radius: 6px;
      background: linear-gradient(90deg, var(--red), var(--yellow), var(--green));
      transition: width 1s ease;
      min-width: 2px;
    }

    /* â”€â”€ Card Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .grid { display: grid; gap: 24px; }
    .grid-2 { grid-template-columns: repeat(2, 1fr); }
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    .grid-4 { grid-template-columns: repeat(4, 1fr); }
    @media (max-width: 900px) {
      .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
      .ratio-banner { flex-direction: column; text-align: center; }
    }

    .card {
      background: var(--dark-card);
      border: 1px solid rgba(212, 175, 55, 0.12);
      border-radius: var(--radius-lg);
      padding: 24px;
      transition: border-color 0.3s;
    }
    .card:hover { border-color: rgba(212, 175, 55, 0.3); }
    .card-header {
      display: flex; align-items: center; gap: 10px;
      margin-bottom: 16px; padding-bottom: 12px;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .card-icon { font-size: 1.4rem; }
    .card-title { font-size: 0.85rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; color: var(--gray); }

    /* â”€â”€ Data Row â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .data-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    .data-row:last-child { border-bottom: none; }
    .data-row .label {
      color: var(--gray); font-size: 0.85rem;
    }
    .data-row .value {
      font-family: var(--font-mono); font-size: 0.9rem; font-weight: 500;
      color: var(--white); text-align: right;
    }
    .data-row .value.green { color: var(--green); }
    .data-row .value.red { color: var(--red); }
    .data-row .value.gold { color: var(--gold); }
    .data-row .value.mono-sm { font-size: 0.75rem; word-break: break-all; }

    /* â”€â”€ Comparison Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .compare-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }
    .compare-table th, .compare-table td {
      padding: 10px 12px;
      text-align: left;
      font-size: 0.85rem;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .compare-table th {
      color: var(--gold); font-weight: 600; text-transform: uppercase;
      font-size: 0.75rem; letter-spacing: 0.5px;
    }
    .compare-table td { color: var(--gray); }
    .compare-table td:first-child { color: var(--white); font-weight: 500; }
    .check { color: var(--green); }
    .cross { color: var(--red); }

    /* â”€â”€ Verification Links â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .verify-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
    @media (max-width: 600px) { .verify-grid { grid-template-columns: 1fr; } }
    .verify-link {
      display: flex; align-items: center; gap: 10px;
      background: var(--dark-surface);
      border: 1px solid rgba(212, 175, 55, 0.1);
      border-radius: var(--radius);
      padding: 14px 16px;
      transition: all 0.3s;
    }
    .verify-link:hover {
      border-color: var(--gold);
      background: rgba(212, 175, 55, 0.05);
      transform: translateY(-1px);
    }
    .verify-link .v-icon { font-size: 1.3rem; }
    .verify-link .v-text { font-size: 0.85rem; color: var(--white); font-weight: 500; }
    .verify-link .v-sub { font-size: 0.72rem; color: var(--gray); }

    /* â”€â”€ Section Labels â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .section-label {
      font-family: var(--font-display);
      font-size: 1.3rem; font-weight: 700;
      color: var(--gold);
      margin: 40px 0 20px;
      display: flex; align-items: center; gap: 10px;
    }
    .section-label::after {
      content: '';
      flex: 1; height: 1px;
      background: linear-gradient(90deg, rgba(212,175,55,0.3), transparent);
    }

    /* â”€â”€ API Badge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .api-section {
      background: var(--dark-card);
      border: 1px solid rgba(212, 175, 55, 0.12);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin-top: 40px;
    }
    .api-endpoint {
      display: flex; align-items: center; gap: 10px;
      background: var(--dark-surface);
      border-radius: 8px;
      padding: 12px 16px;
      margin-top: 12px;
      font-family: var(--font-mono); font-size: 0.82rem;
    }
    .api-method {
      background: var(--green-dim); color: var(--green);
      font-size: 0.7rem; font-weight: 700;
      padding: 2px 8px; border-radius: 4px;
    }
    .api-url { color: var(--gray); }
    .api-url span { color: var(--white); }

    /* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .por-footer {
      text-align: center; padding: 32px 24px;
      border-top: 1px solid rgba(212, 175, 55, 0.08);
      color: var(--gray); font-size: 0.8rem;
    }
    .por-footer a { color: var(--gold); }

    /* â”€â”€ Loading State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .loading {
      display: flex; align-items: center; justify-content: center;
      min-height: 200px;
    }
    .spinner {
      width: 40px; height: 40px;
      border: 3px solid rgba(212,175,55,0.2);
      border-top-color: var(--gold);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    .error-msg {
      background: var(--red-dim);
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-radius: var(--radius);
      padding: 16px 20px;
      color: var(--red);
      text-align: center;
    }

    /* â”€â”€ Tooltip â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tooltip { position: relative; cursor: help; }
    .tooltip::after {
      content: attr(data-tip);
      position: absolute; bottom: 120%; left: 50%;
      transform: translateX(-50%); white-space: nowrap;
      background: var(--dark-surface); color: var(--white);
      font-size: 0.72rem; padding: 4px 10px;
      border-radius: 6px; border: 1px solid rgba(212,175,55,0.2);
      opacity: 0; pointer-events: none; transition: opacity 0.2s;
    }
    .tooltip:hover::after { opacity: 1; }
  </style>
</head>
<body>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAVBAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <nav class="navbar">
    <div class="navbar-inner">
      <a href="index.html" class="nav-brand">
        <img src="kairos-logo.png" alt="Kairos" />
        <span>Kairos</span>
      </a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="whitepaper.html">Whitepaper</a>
        <a href="reserves.html" class="active">Reserves</a>
        <span class="nav-badge">Live</span>
      </div>
    </div>
  </nav>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HERO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section class="por-hero">
    <h1>Proof of Reserves</h1>
    <p>Real-time, on-chain verifiable reserve data for Kairos Coin. Transparent 24/7 â€” no quarterly reports, no trust required.</p>
    <div class="live-label"><span class="live-dot"></span> Live Data Feed</div>
    <div class="update-time" id="updateTime">Loading...</div>
  </section>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="por-container" id="mainContent">
    <div class="loading" id="loadingState">
      <div class="spinner"></div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• FOOTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <footer class="por-footer">
    <p>Kairos Coin Proof of Reserves â€” Data sourced from BNB Smart Chain (BSC) in real-time.</p>
    <p style="margin-top: 6px;">
      <a href="https://bscscan.com/token/0x14D41707269c7D8b8DFa5095b38824a46dA05da3" target="_blank">BscScan</a> Â· 
      <a href="https://github.com/kpkcf47jr2-lab/KairosCoin" target="_blank">GitHub</a> Â· 
      <a href="index.html">Home</a>
    </p>
    <p style="margin-top: 12px;">Â© 2026 Kairos 777 Inc. All rights reserved. "In God We Trust"</p>
  </footer>

  <script>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       Proof of Reserves â€” Live Dashboard
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    const API_BASE = 'https://kairos-api-u6k5.onrender.com'; // Production API
    const LOCAL_API = 'http://localhost:3001'; // Development fallback
    const CONTRACT = '0x14D41707269c7D8b8DFa5095b38824a46dA05da3';

    let apiBase = API_BASE;

    // â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function fmt(n, decimals = 2) {
      const num = parseFloat(n) || 0;
      return num.toLocaleString('en-US', { minimumFractionDigits: decimals, maximumFractionDigits: decimals });
    }

    function fmtUsd(n) {
      return '$' + fmt(n);
    }

    function shortAddr(addr) {
      if (!addr) return 'â€”';
      return addr.slice(0, 6) + '...' + addr.slice(-4);
    }

    function timeAgo(iso) {
      if (!iso) return 'Never';
      const diff = Date.now() - new Date(iso).getTime();
      const mins = Math.floor(diff / 60000);
      if (mins < 1) return 'Just now';
      if (mins < 60) return mins + 'm ago';
      const hrs = Math.floor(mins / 60);
      if (hrs < 24) return hrs + 'h ago';
      return Math.floor(hrs / 24) + 'd ago';
    }

    // â”€â”€ Fetch with fallback â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function apiFetch(path) {
      try {
        const res = await fetch(apiBase + path);
        if (!res.ok) throw new Error(res.status);
        return await res.json();
      } catch (e) {
        // Fallback to local
        if (apiBase !== LOCAL_API) {
          apiBase = LOCAL_API;
          const res = await fetch(LOCAL_API + path);
          if (!res.ok) throw new Error(res.status);
          return await res.json();
        }
        throw e;
      }
    }

    // â”€â”€ Render Dashboard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function loadDashboard() {
      const container = document.getElementById('mainContent');
      const loading = document.getElementById('loadingState');
      const updateTime = document.getElementById('updateTime');

      try {
        // Fetch all data in parallel
        const [reservesRes, supplyRes, feesRes, healthRes] = await Promise.all([
          apiFetch('/api/reserves'),
          apiFetch('/api/supply'),
          apiFetch('/api/fees'),
          apiFetch('/api/health')
        ]);

        const reserves = reservesRes.data;
        const supply = supplyRes.data;
        const fees = feesRes.data;
        const health = healthRes.data;

        // Calculate backing ratio
        const circulatingNum = parseFloat(reserves.onChain?.circulatingSupply) || 0;
        const usdReserves = parseFloat(reserves.offChain?.totalUsdReserves) || 0;
        const ratioRaw = circulatingNum > 0 ? (usdReserves / circulatingNum) * 100 : 0;
        const ratio = Math.min(ratioRaw, 999);
        const ratioStr = reserves.backing?.ratio || ratio.toFixed(4) + '%';

        // Status class
        let statusClass = 'under';
        let statusText = reserves.backing?.status || 'UNKNOWN';
        if (ratioRaw >= 100) { statusClass = 'backed'; statusText = 'FULLY BACKED'; }
        else if (ratioRaw >= 50) { statusClass = 'partial'; statusText = 'PARTIALLY BACKED'; }

        // Update time
        updateTime.textContent = 'Updated: ' + new Date(reserves.timestamp).toLocaleString() + ' Â· Generated in ' + (reserves.generatedIn || '~500ms');

        // Build HTML
        container.innerHTML = `
          <!-- â”€â”€ Backing Ratio Banner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
          <div class="ratio-banner">
            <div class="ratio-detail">
              <div class="val">${fmtUsd(usdReserves)}</div>
              <div class="lbl">USD Reserves</div>
            </div>
            <div class="ratio-main">
              <div class="ratio-number" style="color: ${ratioRaw >= 100 ? 'var(--green)' : ratioRaw >= 50 ? 'var(--yellow)' : 'var(--red)'}">
                ${ratioStr}
              </div>
              <div class="ratio-label">Backing Ratio</div>
              <span class="ratio-status ${statusClass}">${statusText}</span>
            </div>
            <div class="ratio-detail">
              <div class="val">${fmtUsd(circulatingNum)}</div>
              <div class="lbl">Circulating Supply</div>
            </div>
            <div class="backing-bar-wrap">
              <div class="backing-bar-labels">
                <span>0%</span><span>50%</span><span>100%</span>
              </div>
              <div class="backing-bar">
                <div class="backing-bar-fill" style="width: ${Math.min(ratioRaw, 100)}%"></div>
              </div>
            </div>
          </div>

          <!-- â”€â”€ On-Chain Data Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
          <h3 class="section-label">ğŸ“Š On-Chain Data</h3>
          <div class="grid grid-3">
            <div class="card">
              <div class="card-header">
                <span class="card-icon">ğŸ’°</span>
                <span class="card-title">Supply</span>
              </div>
              <div class="data-row">
                <span class="label">Total Supply</span>
                <span class="value">${fmt(supply.totalSupply, 0)}</span>
              </div>
              <div class="data-row">
                <span class="label">Circulating</span>
                <span class="value gold">${fmt(supply.circulatingSupply)}</span>
              </div>
              <div class="data-row">
                <span class="label">Owner Held</span>
                <span class="value">${fmt(supply.ownerBalance, 0)}</span>
              </div>
              <div class="data-row">
                <span class="label">Contract Paused</span>
                <span class="value ${supply.isPaused ? 'red' : 'green'}">${supply.isPaused ? 'YES âš ï¸' : 'NO âœ“'}</span>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <span class="card-icon">ğŸ”¥</span>
                <span class="card-title">Mint & Burn</span>
              </div>
              <div class="data-row">
                <span class="label">Total Minted</span>
                <span class="value green">${fmt(reserves.onChain?.totalMinted || 0)}</span>
              </div>
              <div class="data-row">
                <span class="label">Total Burned</span>
                <span class="value red">${fmt(reserves.onChain?.totalBurned || 0)}</span>
              </div>
              <div class="data-row">
                <span class="label">Mint Operations</span>
                <span class="value">${reserves.operations?.totalMintOperations || 0}</span>
              </div>
              <div class="data-row">
                <span class="label">Burn Operations</span>
                <span class="value">${reserves.operations?.totalBurnOperations || 0}</span>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <span class="card-icon">âš¡</span>
                <span class="card-title">Fees</span>
              </div>
              <div class="data-row">
                <span class="label">Current Fee</span>
                <span class="value gold">${fees.currentFee?.percentage || '0.08%'}</span>
              </div>
              <div class="data-row">
                <span class="label">Fee (bps)</span>
                <span class="value">${fees.currentFee?.bps || 8} bps</span>
              </div>
              <div class="data-row">
                <span class="label">Max Fee</span>
                <span class="value">${fees.currentFee?.maxBps || 20} bps</span>
              </div>
              <div class="data-row">
                <span class="label">Total Collected</span>
                <span class="value green">${fmt(fees.totalFeesCollected)} KAIROS</span>
              </div>
            </div>
          </div>

          <!-- â”€â”€ Off-Chain Reserves â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
          <h3 class="section-label">ğŸ¦ Off-Chain Reserves</h3>
          <div class="grid grid-2">
            <div class="card">
              <div class="card-header">
                <span class="card-icon">ğŸ›ï¸</span>
                <span class="card-title">Reserve Composition</span>
              </div>
              ${reserves.offChain?.reserveBreakdown?.length > 0 ? `
                ${reserves.offChain.reserveBreakdown.map(r => `
                  <div class="data-row">
                    <span class="label">${r.type}</span>
                    <span class="value">${fmtUsd(r.total_amount)} (${r.entry_count} entries)</span>
                  </div>
                `).join('')}
              ` : `
                <div style="text-align: center; padding: 20px; color: var(--gray); font-size: 0.9rem;">
                  <p style="font-size: 1.5rem; margin-bottom: 8px;">ğŸ—ï¸</p>
                  <p>Reserve deposits will appear here as they are recorded.</p>
                  <p style="font-size: 0.8rem; margin-top: 8px;">
                    Kairos 777 Inc. is completing MSB registration to enable fiat reserve custody.
                  </p>
                </div>
              `}
            </div>

            <div class="card">
              <div class="card-header">
                <span class="card-icon">ğŸ“ˆ</span>
                <span class="card-title">Backing Status</span>
              </div>
              <div class="data-row">
                <span class="label">USD Reserves</span>
                <span class="value gold">${fmtUsd(usdReserves)}</span>
              </div>
              <div class="data-row">
                <span class="label">Circulating KAIROS</span>
                <span class="value">${fmt(circulatingNum)}</span>
              </div>
              <div class="data-row">
                <span class="label">Backing Ratio</span>
                <span class="value ${ratioRaw >= 100 ? 'green' : ratioRaw >= 50 ? 'gold' : 'red'}">${ratioStr}</span>
              </div>
              <div class="data-row">
                <span class="label">${ratioRaw >= 100 ? 'Surplus' : 'Deficit'}</span>
                <span class="value ${ratioRaw >= 100 ? 'green' : 'red'}">
                  ${fmtUsd(Math.abs(usdReserves - circulatingNum))}
                </span>
              </div>
            </div>
          </div>

          <!-- â”€â”€ System Health â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
          <h3 class="section-label">ğŸ–¥ï¸ System Health</h3>
          <div class="grid grid-4">
            <div class="card" style="text-align: center; padding: 20px;">
              <div style="font-size: 1.8rem; margin-bottom: 4px;">${health.checks?.server === 'OK' ? 'âœ…' : 'âŒ'}</div>
              <div style="font-size: 0.85rem; font-weight: 600;">Server</div>
              <div style="font-size: 0.75rem; color: var(--gray);">${health.checks?.server || 'Unknown'}</div>
            </div>
            <div class="card" style="text-align: center; padding: 20px;">
              <div style="font-size: 1.8rem; margin-bottom: 4px;">${health.checks?.database === 'OK' ? 'âœ…' : 'âŒ'}</div>
              <div style="font-size: 0.85rem; font-weight: 600;">Database</div>
              <div style="font-size: 0.75rem; color: var(--gray);">${health.checks?.database || 'Unknown'}</div>
            </div>
            <div class="card" style="text-align: center; padding: 20px;">
              <div style="font-size: 1.8rem; margin-bottom: 4px;">${health.checks?.blockchain?.startsWith('OK') ? 'âœ…' : 'âš ï¸'}</div>
              <div style="font-size: 0.85rem; font-weight: 600;">Blockchain</div>
              <div style="font-size: 0.75rem; color: var(--gray);">${health.checks?.blockchain || 'Unknown'}</div>
            </div>
            <div class="card" style="text-align: center; padding: 20px;">
              <div style="font-size: 1.8rem; margin-bottom: 4px;">${health.status === 'HEALTHY' ? 'âœ…' : 'âš ï¸'}</div>
              <div style="font-size: 0.85rem; font-weight: 600;">Overall</div>
              <div style="font-size: 0.75rem; color: ${health.status === 'HEALTHY' ? 'var(--green)' : 'var(--yellow)'};">${health.status || 'Unknown'}</div>
            </div>
          </div>

          <!-- â”€â”€ Fee Comparison â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
          <h3 class="section-label">âš–ï¸ Transparency Comparison</h3>
          <div class="card">
            <table class="compare-table">
              <thead>
                <tr>
                  <th>Feature</th>
                  <th>KAIROS</th>
                  <th>USDT (Tether)</th>
                  <th>USDC (Circle)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Reserve Proof</td>
                  <td class="check">âœ“ Real-Time 24/7</td>
                  <td class="cross">âœ— Quarterly Attestations</td>
                  <td>Monthly Reports</td>
                </tr>
                <tr>
                  <td>On-Chain Verifiable</td>
                  <td class="check">âœ“ Yes</td>
                  <td class="cross">âœ— No</td>
                  <td class="cross">âœ— No</td>
                </tr>
                <tr>
                  <td>Public API</td>
                  <td class="check">âœ“ Free & Open</td>
                  <td class="cross">âœ— None</td>
                  <td class="cross">âœ— None</td>
                </tr>
                <tr>
                  <td>Source Code</td>
                  <td class="check">âœ“ Open Source</td>
                  <td class="cross">âœ— Closed</td>
                  <td>Partial</td>
                </tr>
                <tr>
                  <td>Transfer Fee</td>
                  <td class="check">âœ“ 0.08%</td>
                  <td>~0.10-0.20%</td>
                  <td>~0.10-0.20%</td>
                </tr>
                <tr>
                  <td>Audit Trail</td>
                  <td class="check">âœ“ Every Operation Logged</td>
                  <td class="cross">âœ— Limited</td>
                  <td>Summary Only</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- â”€â”€ Verification Links â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
          <h3 class="section-label">ğŸ”— Verify Yourself</h3>
          <div class="verify-grid">
            <a href="${reserves.onChain?.verification?.contract || 'https://bscscan.com/token/' + CONTRACT}" target="_blank" class="verify-link">
              <span class="v-icon">ğŸ”</span>
              <div>
                <div class="v-text">Token on BscScan</div>
                <div class="v-sub">View contract, transfers & holders</div>
              </div>
            </a>
            <a href="${reserves.onChain?.verification?.sourceCode || 'https://bscscan.com/address/' + CONTRACT + '#code'}" target="_blank" class="verify-link">
              <span class="v-icon">ğŸ“</span>
              <div>
                <div class="v-text">Verified Source Code</div>
                <div class="v-sub">Read the smart contract on-chain</div>
              </div>
            </a>
            <a href="${reserves.onChain?.verification?.holders || 'https://bscscan.com/token/' + CONTRACT + '#balances'}" target="_blank" class="verify-link">
              <span class="v-icon">ğŸ‘¥</span>
              <div>
                <div class="v-text">Token Holders</div>
                <div class="v-sub">See all holder balances on BscScan</div>
              </div>
            </a>
            <a href="${reserves.onChain?.verification?.github || 'https://github.com/kpkcf47jr2-lab/KairosCoin'}" target="_blank" class="verify-link">
              <span class="v-icon">ğŸ™</span>
              <div>
                <div class="v-text">GitHub Repository</div>
                <div class="v-sub">Open source code + backend</div>
              </div>
            </a>
          </div>

          <!-- â”€â”€ Public API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
          <div class="api-section">
            <div class="card-header">
              <span class="card-icon">ğŸŒ</span>
              <span class="card-title">Public API â€” Free & Open</span>
            </div>
            <p style="color: var(--gray); font-size: 0.85rem; margin-bottom: 16px;">
              Access real-time reserve data programmatically. No API key required for read endpoints.
            </p>
            <div class="api-endpoint">
              <span class="api-method">GET</span>
              <span class="api-url"><span>/api/reserves</span> â€” Full Proof of Reserves</span>
            </div>
            <div class="api-endpoint">
              <span class="api-method">GET</span>
              <span class="api-url"><span>/api/supply</span> â€” Supply information</span>
            </div>
            <div class="api-endpoint">
              <span class="api-method">GET</span>
              <span class="api-url"><span>/api/supply/circulating</span> â€” Plain text circulating supply (CoinGecko compatible)</span>
            </div>
            <div class="api-endpoint">
              <span class="api-method">GET</span>
              <span class="api-url"><span>/api/fees</span> â€” Fee transparency</span>
            </div>
            <div class="api-endpoint">
              <span class="api-method">GET</span>
              <span class="api-url"><span>/api/health</span> â€” System health check</span>
            </div>
          </div>
        `;

      } catch (err) {
        console.error('Dashboard load error:', err);
        loading.style.display = 'none';
        container.innerHTML = `
          <div class="error-msg">
            <p><strong>Unable to connect to Kairos API</strong></p>
            <p style="font-size: 0.85rem; margin-top: 8px;">
              The backend may be starting up. Data refreshes automatically â€” try again in a moment.
            </p>
            <p style="font-size: 0.8rem; margin-top: 12px; color: var(--gray);">
              You can still verify reserves directly on 
              <a href="https://bscscan.com/token/${CONTRACT}" target="_blank">BscScan</a>.
            </p>
          </div>
        `;
      }
    }

    // â”€â”€ Auto-refresh every 60s â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    loadDashboard();
    setInterval(loadDashboard, 60000);
  </script>
</body>
</html>
